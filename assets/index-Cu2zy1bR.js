var gA=t=>{throw TypeError(t)};var Nx=(t,e,n)=>e.has(t)||gA("Cannot "+n);var pe=(t,e,n)=>(Nx(t,e,"read from private field"),n?n.call(t):e.get(t)),Ht=(t,e,n)=>e.has(t)?gA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),wt=(t,e,n,i)=>(Nx(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),yi=(t,e,n)=>(Nx(t,e,"access private method"),n);var Mm=(t,e,n,i)=>({set _(r){wt(t,e,r,n)},get _(){return pe(t,e,i)}});function P4(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function HS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VN={exports:{}},my={},HN={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=Symbol.for("react.element"),R4=Symbol.for("react.portal"),N4=Symbol.for("react.fragment"),L4=Symbol.for("react.strict_mode"),I4=Symbol.for("react.profiler"),D4=Symbol.for("react.provider"),k4=Symbol.for("react.context"),O4=Symbol.for("react.forward_ref"),U4=Symbol.for("react.suspense"),F4=Symbol.for("react.memo"),z4=Symbol.for("react.lazy"),vA=Symbol.iterator;function B4(t){return t===null||typeof t!="object"?null:(t=vA&&t[vA]||t["@@iterator"],typeof t=="function"?t:null)}var jN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GN=Object.assign,WN={};function gd(t,e,n){this.props=t,this.context=e,this.refs=WN,this.updater=n||jN}gd.prototype.isReactComponent={};gd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XN(){}XN.prototype=gd.prototype;function jS(t,e,n){this.props=t,this.context=e,this.refs=WN,this.updater=n||jN}var GS=jS.prototype=new XN;GS.constructor=jS;GN(GS,gd.prototype);GS.isPureReactComponent=!0;var yA=Array.isArray,$N=Object.prototype.hasOwnProperty,WS={current:null},YN={key:!0,ref:!0,__self:!0,__source:!0};function qN(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$N.call(e,i)&&!YN.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ep,type:t,key:s,ref:o,props:r,_owner:WS.current}}function V4(t,e){return{$$typeof:ep,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function XS(t){return typeof t=="object"&&t!==null&&t.$$typeof===ep}function H4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xA=/\/+/g;function Lx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?H4(""+t.key):e.toString(36)}function $g(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ep:case R4:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Lx(o,0):i,yA(r)?(n="",t!=null&&(n=t.replace(xA,"$&/")+"/"),$g(r,e,n,"",function(c){return c})):r!=null&&(XS(r)&&(r=V4(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(xA,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",yA(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Lx(s,a);o+=$g(s,e,n,l,r)}else if(l=B4(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Lx(s,a++),o+=$g(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Em(t,e,n){if(t==null)return t;var i=[],r=0;return $g(t,i,"","",function(s){return e.call(n,s,r++)}),i}function j4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xi={current:null},Yg={transition:null},G4={ReactCurrentDispatcher:Xi,ReactCurrentBatchConfig:Yg,ReactCurrentOwner:WS};function KN(){throw Error("act(...) is not supported in production builds of React.")}Lt.Children={map:Em,forEach:function(t,e,n){Em(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Em(t,function(){e++}),e},toArray:function(t){return Em(t,function(e){return e})||[]},only:function(t){if(!XS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Lt.Component=gd;Lt.Fragment=N4;Lt.Profiler=I4;Lt.PureComponent=jS;Lt.StrictMode=L4;Lt.Suspense=U4;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G4;Lt.act=KN;Lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=GN({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=WS.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$N.call(e,l)&&!YN.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:ep,type:t.type,key:r,ref:s,props:i,_owner:o}};Lt.createContext=function(t){return t={$$typeof:k4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:D4,_context:t},t.Consumer=t};Lt.createElement=qN;Lt.createFactory=function(t){var e=qN.bind(null,t);return e.type=t,e};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(t){return{$$typeof:O4,render:t}};Lt.isValidElement=XS;Lt.lazy=function(t){return{$$typeof:z4,_payload:{_status:-1,_result:t},_init:j4}};Lt.memo=function(t,e){return{$$typeof:F4,type:t,compare:e===void 0?null:e}};Lt.startTransition=function(t){var e=Yg.transition;Yg.transition={};try{t()}finally{Yg.transition=e}};Lt.unstable_act=KN;Lt.useCallback=function(t,e){return Xi.current.useCallback(t,e)};Lt.useContext=function(t){return Xi.current.useContext(t)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(t){return Xi.current.useDeferredValue(t)};Lt.useEffect=function(t,e){return Xi.current.useEffect(t,e)};Lt.useId=function(){return Xi.current.useId()};Lt.useImperativeHandle=function(t,e,n){return Xi.current.useImperativeHandle(t,e,n)};Lt.useInsertionEffect=function(t,e){return Xi.current.useInsertionEffect(t,e)};Lt.useLayoutEffect=function(t,e){return Xi.current.useLayoutEffect(t,e)};Lt.useMemo=function(t,e){return Xi.current.useMemo(t,e)};Lt.useReducer=function(t,e,n){return Xi.current.useReducer(t,e,n)};Lt.useRef=function(t){return Xi.current.useRef(t)};Lt.useState=function(t){return Xi.current.useState(t)};Lt.useSyncExternalStore=function(t,e,n){return Xi.current.useSyncExternalStore(t,e,n)};Lt.useTransition=function(){return Xi.current.useTransition()};Lt.version="18.3.1";HN.exports=Lt;var P=HN.exports;const Ne=HS(P),$S=P4({__proto__:null,default:Ne},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W4=P,X4=Symbol.for("react.element"),$4=Symbol.for("react.fragment"),Y4=Object.prototype.hasOwnProperty,q4=W4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K4={key:!0,ref:!0,__self:!0,__source:!0};function ZN(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Y4.call(e,i)&&!K4.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:X4,type:t,key:s,ref:o,props:r,_owner:q4.current}}my.Fragment=$4;my.jsx=ZN;my.jsxs=ZN;VN.exports=my;var E=VN.exports,QN={exports:{}},Tr={},JN={exports:{}},eL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,U){var V=D.length;D.push(U);e:for(;0<V;){var $=V-1>>>1,Q=D[$];if(0<r(Q,U))D[$]=U,D[V]=Q,V=$;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var U=D[0],V=D.pop();if(V!==U){D[0]=V;e:for(var $=0,Q=D.length,q=Q>>>1;$<q;){var se=2*($+1)-1,me=D[se],Te=se+1,ge=D[Te];if(0>r(me,V))Te<Q&&0>r(ge,me)?(D[$]=ge,D[Te]=V,$=Te):(D[$]=me,D[se]=V,$=se);else if(Te<Q&&0>r(ge,V))D[$]=ge,D[Te]=V,$=Te;else break e}}return U}function r(D,U){var V=D.sortIndex-U.sortIndex;return V!==0?V:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var U=n(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=D)i(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function b(D){if(_=!1,S(D),!v)if(n(l)!==null)v=!0,Z(A);else{var U=n(c);U!==null&&ee(b,U.startTime-D)}}function A(D,U){v=!1,_&&(_=!1,g(k),k=-1),m=!0;var V=p;try{for(S(U),h=n(l);h!==null&&(!(h.expirationTime>U)||D&&!j());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var Q=$(h.expirationTime<=U);U=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(l)&&i(l),S(U)}else i(l);h=n(l)}if(h!==null)var q=!0;else{var se=n(c);se!==null&&ee(b,se.startTime-U),q=!1}return q}finally{h=null,p=V,m=!1}}var C=!1,N=null,k=-1,L=5,I=-1;function j(){return!(t.unstable_now()-I<L)}function W(){if(N!==null){var D=t.unstable_now();I=D;var U=!0;try{U=N(!0,D)}finally{U?re():(C=!1,N=null)}}else C=!1}var re;if(typeof w=="function")re=function(){w(W)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=W,re=function(){K.postMessage(null)}}else re=function(){x(W,0)};function Z(D){N=D,C||(C=!0,re())}function ee(D,U){k=x(function(){D(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Z(A))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var V=p;p=U;try{return D()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=p;p=D;try{return U()}finally{p=V}},t.unstable_scheduleCallback=function(D,U,V){var $=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?$+V:$):V=$,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=V+Q,D={id:f++,callback:U,priorityLevel:D,startTime:V,expirationTime:Q,sortIndex:-1},V>$?(D.sortIndex=V,e(c,D),n(l)===null&&D===n(c)&&(_?(g(k),k=-1):_=!0,ee(b,V-$))):(D.sortIndex=Q,e(l,D),v||m||(v=!0,Z(A))),D},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(D){var U=p;return function(){var V=p;p=U;try{return D.apply(this,arguments)}finally{p=V}}}})(eL);JN.exports=eL;var Z4=JN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q4=P,Er=Z4;function be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tL=new Set,eh={};function cc(t,e){Zu(t,e),Zu(t+"Capture",e)}function Zu(t,e){for(eh[t]=e,t=0;t<e.length;t++)tL.add(e[t])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A1=Object.prototype.hasOwnProperty,J4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_A={},wA={};function eB(t){return A1.call(wA,t)?!0:A1.call(_A,t)?!1:J4.test(t)?wA[t]=!0:(_A[t]=!0,!1)}function tB(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nB(t,e,n,i){if(e===null||typeof e>"u"||tB(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $i(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var hi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hi[t]=new $i(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hi[e]=new $i(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hi[t]=new $i(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hi[t]=new $i(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hi[t]=new $i(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hi[t]=new $i(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hi[t]=new $i(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hi[t]=new $i(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hi[t]=new $i(t,5,!1,t.toLowerCase(),null,!1,!1)});var YS=/[\-:]([a-z])/g;function qS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(YS,qS);hi[e]=new $i(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(YS,qS);hi[e]=new $i(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(YS,qS);hi[e]=new $i(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hi[t]=new $i(t,1,!1,t.toLowerCase(),null,!1,!1)});hi.xlinkHref=new $i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hi[t]=new $i(t,1,!1,t.toLowerCase(),null,!0,!0)});function KS(t,e,n,i){var r=hi.hasOwnProperty(e)?hi[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nB(e,n,r,i)&&(n=null),i||r===null?eB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ho=Q4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bm=Symbol.for("react.element"),uu=Symbol.for("react.portal"),du=Symbol.for("react.fragment"),ZS=Symbol.for("react.strict_mode"),C1=Symbol.for("react.profiler"),nL=Symbol.for("react.provider"),iL=Symbol.for("react.context"),QS=Symbol.for("react.forward_ref"),P1=Symbol.for("react.suspense"),R1=Symbol.for("react.suspense_list"),JS=Symbol.for("react.memo"),ha=Symbol.for("react.lazy"),rL=Symbol.for("react.offscreen"),SA=Symbol.iterator;function ef(t){return t===null||typeof t!="object"?null:(t=SA&&t[SA]||t["@@iterator"],typeof t=="function"?t:null)}var _n=Object.assign,Ix;function Tf(t){if(Ix===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ix=e&&e[1]||""}return`
`+Ix+t}var Dx=!1;function kx(t,e){if(!t||Dx)return"";Dx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Tf(t):""}function iB(t){switch(t.tag){case 5:return Tf(t.type);case 16:return Tf("Lazy");case 13:return Tf("Suspense");case 19:return Tf("SuspenseList");case 0:case 2:case 15:return t=kx(t.type,!1),t;case 11:return t=kx(t.type.render,!1),t;case 1:return t=kx(t.type,!0),t;default:return""}}function N1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case du:return"Fragment";case uu:return"Portal";case C1:return"Profiler";case ZS:return"StrictMode";case P1:return"Suspense";case R1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iL:return(t.displayName||"Context")+".Consumer";case nL:return(t._context.displayName||"Context")+".Provider";case QS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case JS:return e=t.displayName||null,e!==null?e:N1(t.type)||"Memo";case ha:e=t._payload,t=t._init;try{return N1(t(e))}catch{}}return null}function rB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N1(e);case 8:return e===ZS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function za(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sB(t){var e=sL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tm(t){t._valueTracker||(t._valueTracker=sB(t))}function oL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=sL(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function wv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function L1(t,e){var n=e.checked;return _n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function MA(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=za(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aL(t,e){e=e.checked,e!=null&&KS(t,"checked",e,!1)}function I1(t,e){aL(t,e);var n=za(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?D1(t,e.type,n):e.hasOwnProperty("defaultValue")&&D1(t,e.type,za(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function EA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function D1(t,e,n){(e!=="number"||wv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Af=Array.isArray;function Iu(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+za(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function k1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return _n({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(be(92));if(Af(n)){if(1<n.length)throw Error(be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:za(n)}}function lL(t,e){var n=za(e.value),i=za(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function TA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Am,uL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Am=Am||document.createElement("div"),Am.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Am.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function th(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Df={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oB=["Webkit","ms","Moz","O"];Object.keys(Df).forEach(function(t){oB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Df[e]=Df[t]})});function dL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Df.hasOwnProperty(t)&&Df[t]?(""+e).trim():e+"px"}function fL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=dL(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var aB=_n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U1(t,e){if(e){if(aB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function F1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z1=null;function eM(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var B1=null,Du=null,ku=null;function AA(t){if(t=ip(t)){if(typeof B1!="function")throw Error(be(280));var e=t.stateNode;e&&(e=_y(e),B1(t.stateNode,t.type,e))}}function hL(t){Du?ku?ku.push(t):ku=[t]:Du=t}function pL(){if(Du){var t=Du,e=ku;if(ku=Du=null,AA(t),e)for(t=0;t<e.length;t++)AA(e[t])}}function mL(t,e){return t(e)}function gL(){}var Ox=!1;function vL(t,e,n){if(Ox)return t(e,n);Ox=!0;try{return mL(t,e,n)}finally{Ox=!1,(Du!==null||ku!==null)&&(gL(),pL())}}function nh(t,e){var n=t.stateNode;if(n===null)return null;var i=_y(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(be(231,e,typeof n));return n}var V1=!1;if(Po)try{var tf={};Object.defineProperty(tf,"passive",{get:function(){V1=!0}}),window.addEventListener("test",tf,tf),window.removeEventListener("test",tf,tf)}catch{V1=!1}function lB(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var kf=!1,Sv=null,Mv=!1,H1=null,cB={onError:function(t){kf=!0,Sv=t}};function uB(t,e,n,i,r,s,o,a,l){kf=!1,Sv=null,lB.apply(cB,arguments)}function dB(t,e,n,i,r,s,o,a,l){if(uB.apply(this,arguments),kf){if(kf){var c=Sv;kf=!1,Sv=null}else throw Error(be(198));Mv||(Mv=!0,H1=c)}}function uc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CA(t){if(uc(t)!==t)throw Error(be(188))}function fB(t){var e=t.alternate;if(!e){if(e=uc(t),e===null)throw Error(be(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return CA(r),t;if(s===i)return CA(r),e;s=s.sibling}throw Error(be(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(be(189))}}if(n.alternate!==i)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?t:e}function xL(t){return t=fB(t),t!==null?_L(t):null}function _L(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_L(t);if(e!==null)return e;t=t.sibling}return null}var wL=Er.unstable_scheduleCallback,PA=Er.unstable_cancelCallback,hB=Er.unstable_shouldYield,pB=Er.unstable_requestPaint,Dn=Er.unstable_now,mB=Er.unstable_getCurrentPriorityLevel,tM=Er.unstable_ImmediatePriority,SL=Er.unstable_UserBlockingPriority,Ev=Er.unstable_NormalPriority,gB=Er.unstable_LowPriority,ML=Er.unstable_IdlePriority,gy=null,Hs=null;function vB(t){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(gy,t,void 0,(t.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:_B,yB=Math.log,xB=Math.LN2;function _B(t){return t>>>=0,t===0?32:31-(yB(t)/xB|0)|0}var Cm=64,Pm=4194304;function Cf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bv(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Cf(a):(s&=o,s!==0&&(i=Cf(s)))}else o=n&~r,o!==0?i=Cf(o):s!==0&&(i=Cf(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-hs(e),r=1<<n,i|=t[n],e&=~r;return i}function wB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SB(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hs(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=wB(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function j1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EL(){var t=Cm;return Cm<<=1,!(Cm&4194240)&&(Cm=64),t}function Ux(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hs(e),t[e]=n}function MB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-hs(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function nM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-hs(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var $t=0;function bL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TL,iM,AL,CL,PL,G1=!1,Rm=[],Aa=null,Ca=null,Pa=null,ih=new Map,rh=new Map,ga=[],EB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function RA(t,e){switch(t){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":ih.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(e.pointerId)}}function nf(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=ip(e),e!==null&&iM(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function bB(t,e,n,i,r){switch(e){case"focusin":return Aa=nf(Aa,t,e,n,i,r),!0;case"dragenter":return Ca=nf(Ca,t,e,n,i,r),!0;case"mouseover":return Pa=nf(Pa,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return ih.set(s,nf(ih.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,rh.set(s,nf(rh.get(s)||null,t,e,n,i,r)),!0}return!1}function RL(t){var e=Rl(t.target);if(e!==null){var n=uc(e);if(n!==null){if(e=n.tag,e===13){if(e=yL(n),e!==null){t.blockedOn=e,PL(t.priority,function(){AL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=W1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);z1=i,n.target.dispatchEvent(i),z1=null}else return e=ip(n),e!==null&&iM(e),t.blockedOn=n,!1;e.shift()}return!0}function NA(t,e,n){qg(t)&&n.delete(e)}function TB(){G1=!1,Aa!==null&&qg(Aa)&&(Aa=null),Ca!==null&&qg(Ca)&&(Ca=null),Pa!==null&&qg(Pa)&&(Pa=null),ih.forEach(NA),rh.forEach(NA)}function rf(t,e){t.blockedOn===e&&(t.blockedOn=null,G1||(G1=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,TB)))}function sh(t){function e(r){return rf(r,t)}if(0<Rm.length){rf(Rm[0],t);for(var n=1;n<Rm.length;n++){var i=Rm[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Aa!==null&&rf(Aa,t),Ca!==null&&rf(Ca,t),Pa!==null&&rf(Pa,t),ih.forEach(e),rh.forEach(e),n=0;n<ga.length;n++)i=ga[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ga.length&&(n=ga[0],n.blockedOn===null);)RL(n),n.blockedOn===null&&ga.shift()}var Ou=Ho.ReactCurrentBatchConfig,Tv=!0;function AB(t,e,n,i){var r=$t,s=Ou.transition;Ou.transition=null;try{$t=1,rM(t,e,n,i)}finally{$t=r,Ou.transition=s}}function CB(t,e,n,i){var r=$t,s=Ou.transition;Ou.transition=null;try{$t=4,rM(t,e,n,i)}finally{$t=r,Ou.transition=s}}function rM(t,e,n,i){if(Tv){var r=W1(t,e,n,i);if(r===null)$x(t,e,i,Av,n),RA(t,i);else if(bB(r,t,e,n,i))i.stopPropagation();else if(RA(t,i),e&4&&-1<EB.indexOf(t)){for(;r!==null;){var s=ip(r);if(s!==null&&TL(s),s=W1(t,e,n,i),s===null&&$x(t,e,i,Av,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else $x(t,e,i,null,n)}}var Av=null;function W1(t,e,n,i){if(Av=null,t=eM(i),t=Rl(t),t!==null)if(e=uc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Av=t,null}function NL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mB()){case tM:return 1;case SL:return 4;case Ev:case gB:return 16;case ML:return 536870912;default:return 16}default:return 16}}var Ea=null,sM=null,Kg=null;function LL(){if(Kg)return Kg;var t,e=sM,n=e.length,i,r="value"in Ea?Ea.value:Ea.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Kg=r.slice(t,1<i?1-i:void 0)}function Zg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nm(){return!0}function LA(){return!1}function Ar(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nm:LA,this.isPropagationStopped=LA,this}return _n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nm)},persist:function(){},isPersistent:Nm}),e}var vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oM=Ar(vd),np=_n({},vd,{view:0,detail:0}),PB=Ar(np),Fx,zx,sf,vy=_n({},np,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aM,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sf&&(sf&&t.type==="mousemove"?(Fx=t.screenX-sf.screenX,zx=t.screenY-sf.screenY):zx=Fx=0,sf=t),Fx)},movementY:function(t){return"movementY"in t?t.movementY:zx}}),IA=Ar(vy),RB=_n({},vy,{dataTransfer:0}),NB=Ar(RB),LB=_n({},np,{relatedTarget:0}),Bx=Ar(LB),IB=_n({},vd,{animationName:0,elapsedTime:0,pseudoElement:0}),DB=Ar(IB),kB=_n({},vd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OB=Ar(kB),UB=_n({},vd,{data:0}),DA=Ar(UB),FB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BB[t])?!!e[t]:!1}function aM(){return VB}var HB=_n({},np,{key:function(t){if(t.key){var e=FB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aM,charCode:function(t){return t.type==="keypress"?Zg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jB=Ar(HB),GB=_n({},vy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kA=Ar(GB),WB=_n({},np,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aM}),XB=Ar(WB),$B=_n({},vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),YB=Ar($B),qB=_n({},vy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KB=Ar(qB),ZB=[9,13,27,32],lM=Po&&"CompositionEvent"in window,Of=null;Po&&"documentMode"in document&&(Of=document.documentMode);var QB=Po&&"TextEvent"in window&&!Of,IL=Po&&(!lM||Of&&8<Of&&11>=Of),OA=" ",UA=!1;function DL(t,e){switch(t){case"keyup":return ZB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fu=!1;function JB(t,e){switch(t){case"compositionend":return kL(e);case"keypress":return e.which!==32?null:(UA=!0,OA);case"textInput":return t=e.data,t===OA&&UA?null:t;default:return null}}function e5(t,e){if(fu)return t==="compositionend"||!lM&&DL(t,e)?(t=LL(),Kg=sM=Ea=null,fu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IL&&e.locale!=="ko"?null:e.data;default:return null}}var t5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!t5[t.type]:e==="textarea"}function OL(t,e,n,i){hL(i),e=Cv(e,"onChange"),0<e.length&&(n=new oM("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Uf=null,oh=null;function n5(t){$L(t,0)}function yy(t){var e=mu(t);if(oL(e))return t}function i5(t,e){if(t==="change")return e}var UL=!1;if(Po){var Vx;if(Po){var Hx="oninput"in document;if(!Hx){var zA=document.createElement("div");zA.setAttribute("oninput","return;"),Hx=typeof zA.oninput=="function"}Vx=Hx}else Vx=!1;UL=Vx&&(!document.documentMode||9<document.documentMode)}function BA(){Uf&&(Uf.detachEvent("onpropertychange",FL),oh=Uf=null)}function FL(t){if(t.propertyName==="value"&&yy(oh)){var e=[];OL(e,oh,t,eM(t)),vL(n5,e)}}function r5(t,e,n){t==="focusin"?(BA(),Uf=e,oh=n,Uf.attachEvent("onpropertychange",FL)):t==="focusout"&&BA()}function s5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yy(oh)}function o5(t,e){if(t==="click")return yy(e)}function a5(t,e){if(t==="input"||t==="change")return yy(e)}function l5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ms=typeof Object.is=="function"?Object.is:l5;function ah(t,e){if(ms(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!A1.call(e,r)||!ms(t[r],e[r]))return!1}return!0}function VA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HA(t,e){var n=VA(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=VA(n)}}function zL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BL(){for(var t=window,e=wv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wv(t.document)}return e}function cM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c5(t){var e=BL(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zL(n.ownerDocument.documentElement,n)){if(i!==null&&cM(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=HA(n,s);var o=HA(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var u5=Po&&"documentMode"in document&&11>=document.documentMode,hu=null,X1=null,Ff=null,$1=!1;function jA(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$1||hu==null||hu!==wv(i)||(i=hu,"selectionStart"in i&&cM(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ff&&ah(Ff,i)||(Ff=i,i=Cv(X1,"onSelect"),0<i.length&&(e=new oM("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=hu)))}function Lm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pu={animationend:Lm("Animation","AnimationEnd"),animationiteration:Lm("Animation","AnimationIteration"),animationstart:Lm("Animation","AnimationStart"),transitionend:Lm("Transition","TransitionEnd")},jx={},VL={};Po&&(VL=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function xy(t){if(jx[t])return jx[t];if(!pu[t])return t;var e=pu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VL)return jx[t]=e[n];return t}var HL=xy("animationend"),jL=xy("animationiteration"),GL=xy("animationstart"),WL=xy("transitionend"),XL=new Map,GA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $a(t,e){XL.set(t,e),cc(e,[t])}for(var Gx=0;Gx<GA.length;Gx++){var Wx=GA[Gx],d5=Wx.toLowerCase(),f5=Wx[0].toUpperCase()+Wx.slice(1);$a(d5,"on"+f5)}$a(HL,"onAnimationEnd");$a(jL,"onAnimationIteration");$a(GL,"onAnimationStart");$a("dblclick","onDoubleClick");$a("focusin","onFocus");$a("focusout","onBlur");$a(WL,"onTransitionEnd");Zu("onMouseEnter",["mouseout","mouseover"]);Zu("onMouseLeave",["mouseout","mouseover"]);Zu("onPointerEnter",["pointerout","pointerover"]);Zu("onPointerLeave",["pointerout","pointerover"]);cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pf));function WA(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,dB(i,e,void 0,t),t.currentTarget=null}function $L(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;WA(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;WA(r,a,c),s=l}}}if(Mv)throw t=H1,Mv=!1,H1=null,t}function rn(t,e){var n=e[Q1];n===void 0&&(n=e[Q1]=new Set);var i=t+"__bubble";n.has(i)||(YL(e,t,2,!1),n.add(i))}function Xx(t,e,n){var i=0;e&&(i|=4),YL(n,t,i,e)}var Im="_reactListening"+Math.random().toString(36).slice(2);function lh(t){if(!t[Im]){t[Im]=!0,tL.forEach(function(n){n!=="selectionchange"&&(h5.has(n)||Xx(n,!1,t),Xx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Im]||(e[Im]=!0,Xx("selectionchange",!1,e))}}function YL(t,e,n,i){switch(NL(e)){case 1:var r=AB;break;case 4:r=CB;break;default:r=rM}n=r.bind(null,e,n,t),r=void 0,!V1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function $x(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Rl(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}vL(function(){var c=s,f=eM(n),h=[];e:{var p=XL.get(t);if(p!==void 0){var m=oM,v=t;switch(t){case"keypress":if(Zg(n)===0)break e;case"keydown":case"keyup":m=jB;break;case"focusin":v="focus",m=Bx;break;case"focusout":v="blur",m=Bx;break;case"beforeblur":case"afterblur":m=Bx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=IA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=XB;break;case HL:case jL:case GL:m=DB;break;case WL:m=YB;break;case"scroll":m=PB;break;case"wheel":m=KB;break;case"copy":case"cut":case"paste":m=OB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=kA}var _=(e&4)!==0,x=!_&&t==="scroll",g=_?p!==null?p+"Capture":null:p;_=[];for(var w=c,S;w!==null;){S=w;var b=S.stateNode;if(S.tag===5&&b!==null&&(S=b,g!==null&&(b=nh(w,g),b!=null&&_.push(ch(w,b,S)))),x)break;w=w.return}0<_.length&&(p=new m(p,v,null,n,f),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==z1&&(v=n.relatedTarget||n.fromElement)&&(Rl(v)||v[Ro]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Rl(v):null,v!==null&&(x=uc(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(_=IA,b="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=kA,b="onPointerLeave",g="onPointerEnter",w="pointer"),x=m==null?p:mu(m),S=v==null?p:mu(v),p=new _(b,w+"leave",m,n,f),p.target=x,p.relatedTarget=S,b=null,Rl(f)===c&&(_=new _(g,w+"enter",v,n,f),_.target=S,_.relatedTarget=x,b=_),x=b,m&&v)t:{for(_=m,g=v,w=0,S=_;S;S=kc(S))w++;for(S=0,b=g;b;b=kc(b))S++;for(;0<w-S;)_=kc(_),w--;for(;0<S-w;)g=kc(g),S--;for(;w--;){if(_===g||g!==null&&_===g.alternate)break t;_=kc(_),g=kc(g)}_=null}else _=null;m!==null&&XA(h,p,m,_,!1),v!==null&&x!==null&&XA(h,x,v,_,!0)}}e:{if(p=c?mu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var A=i5;else if(FA(p))if(UL)A=a5;else{A=s5;var C=r5}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=o5);if(A&&(A=A(t,c))){OL(h,A,n,f);break e}C&&C(t,p,c),t==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&D1(p,"number",p.value)}switch(C=c?mu(c):window,t){case"focusin":(FA(C)||C.contentEditable==="true")&&(hu=C,X1=c,Ff=null);break;case"focusout":Ff=X1=hu=null;break;case"mousedown":$1=!0;break;case"contextmenu":case"mouseup":case"dragend":$1=!1,jA(h,n,f);break;case"selectionchange":if(u5)break;case"keydown":case"keyup":jA(h,n,f)}var N;if(lM)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else fu?DL(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(IL&&n.locale!=="ko"&&(fu||k!=="onCompositionStart"?k==="onCompositionEnd"&&fu&&(N=LL()):(Ea=f,sM="value"in Ea?Ea.value:Ea.textContent,fu=!0)),C=Cv(c,k),0<C.length&&(k=new DA(k,t,null,n,f),h.push({event:k,listeners:C}),N?k.data=N:(N=kL(n),N!==null&&(k.data=N)))),(N=QB?JB(t,n):e5(t,n))&&(c=Cv(c,"onBeforeInput"),0<c.length&&(f=new DA("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=N))}$L(h,e)})}function ch(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cv(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=nh(t,n),s!=null&&i.unshift(ch(t,s,r)),s=nh(t,e),s!=null&&i.push(ch(t,s,r))),t=t.return}return i}function kc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function XA(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=nh(n,s),l!=null&&o.unshift(ch(n,l,a))):r||(l=nh(n,s),l!=null&&o.push(ch(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var p5=/\r\n?/g,m5=/\u0000|\uFFFD/g;function $A(t){return(typeof t=="string"?t:""+t).replace(p5,`
`).replace(m5,"")}function Dm(t,e,n){if(e=$A(e),$A(t)!==e&&n)throw Error(be(425))}function Pv(){}var Y1=null,q1=null;function K1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Z1=typeof setTimeout=="function"?setTimeout:void 0,g5=typeof clearTimeout=="function"?clearTimeout:void 0,YA=typeof Promise=="function"?Promise:void 0,v5=typeof queueMicrotask=="function"?queueMicrotask:typeof YA<"u"?function(t){return YA.resolve(null).then(t).catch(y5)}:Z1;function y5(t){setTimeout(function(){throw t})}function Yx(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),sh(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);sh(e)}function Ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yd=Math.random().toString(36).slice(2),Fs="__reactFiber$"+yd,uh="__reactProps$"+yd,Ro="__reactContainer$"+yd,Q1="__reactEvents$"+yd,x5="__reactListeners$"+yd,_5="__reactHandles$"+yd;function Rl(t){var e=t[Fs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ro]||n[Fs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qA(t);t!==null;){if(n=t[Fs])return n;t=qA(t)}return e}t=n,n=t.parentNode}return null}function ip(t){return t=t[Fs]||t[Ro],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(be(33))}function _y(t){return t[uh]||null}var J1=[],gu=-1;function Ya(t){return{current:t}}function on(t){0>gu||(t.current=J1[gu],J1[gu]=null,gu--)}function Jt(t,e){gu++,J1[gu]=t.current,t.current=e}var Ba={},Ri=Ya(Ba),rr=Ya(!1),Jl=Ba;function Qu(t,e){var n=t.type.contextTypes;if(!n)return Ba;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function sr(t){return t=t.childContextTypes,t!=null}function Rv(){on(rr),on(Ri)}function KA(t,e,n){if(Ri.current!==Ba)throw Error(be(168));Jt(Ri,e),Jt(rr,n)}function qL(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(be(108,rB(t)||"Unknown",r));return _n({},n,i)}function Nv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ba,Jl=Ri.current,Jt(Ri,t),Jt(rr,rr.current),!0}function ZA(t,e,n){var i=t.stateNode;if(!i)throw Error(be(169));n?(t=qL(t,e,Jl),i.__reactInternalMemoizedMergedChildContext=t,on(rr),on(Ri),Jt(Ri,t)):on(rr),Jt(rr,n)}var yo=null,wy=!1,qx=!1;function KL(t){yo===null?yo=[t]:yo.push(t)}function w5(t){wy=!0,KL(t)}function qa(){if(!qx&&yo!==null){qx=!0;var t=0,e=$t;try{var n=yo;for($t=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}yo=null,wy=!1}catch(r){throw yo!==null&&(yo=yo.slice(t+1)),wL(tM,qa),r}finally{$t=e,qx=!1}}return null}var vu=[],yu=0,Lv=null,Iv=0,jr=[],Gr=0,ec=null,wo=1,So="";function Ml(t,e){vu[yu++]=Iv,vu[yu++]=Lv,Lv=t,Iv=e}function ZL(t,e,n){jr[Gr++]=wo,jr[Gr++]=So,jr[Gr++]=ec,ec=t;var i=wo;t=So;var r=32-hs(i)-1;i&=~(1<<r),n+=1;var s=32-hs(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,wo=1<<32-hs(e)+r|n<<r|i,So=s+t}else wo=1<<s|n<<r|i,So=t}function uM(t){t.return!==null&&(Ml(t,1),ZL(t,1,0))}function dM(t){for(;t===Lv;)Lv=vu[--yu],vu[yu]=null,Iv=vu[--yu],vu[yu]=null;for(;t===ec;)ec=jr[--Gr],jr[Gr]=null,So=jr[--Gr],jr[Gr]=null,wo=jr[--Gr],jr[Gr]=null}var _r=null,xr=null,un=!1,cs=null;function QL(t,e){var n=Wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function QA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_r=t,xr=Ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_r=t,xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ec!==null?{id:wo,overflow:So}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_r=t,xr=null,!0):!1;default:return!1}}function ew(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tw(t){if(un){var e=xr;if(e){var n=e;if(!QA(t,e)){if(ew(t))throw Error(be(418));e=Ra(n.nextSibling);var i=_r;e&&QA(t,e)?QL(i,n):(t.flags=t.flags&-4097|2,un=!1,_r=t)}}else{if(ew(t))throw Error(be(418));t.flags=t.flags&-4097|2,un=!1,_r=t}}}function JA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_r=t}function km(t){if(t!==_r)return!1;if(!un)return JA(t),un=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!K1(t.type,t.memoizedProps)),e&&(e=xr)){if(ew(t))throw JL(),Error(be(418));for(;e;)QL(t,e),e=Ra(e.nextSibling)}if(JA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xr=Ra(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xr=null}}else xr=_r?Ra(t.stateNode.nextSibling):null;return!0}function JL(){for(var t=xr;t;)t=Ra(t.nextSibling)}function Ju(){xr=_r=null,un=!1}function fM(t){cs===null?cs=[t]:cs.push(t)}var S5=Ho.ReactCurrentBatchConfig;function of(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var i=n.stateNode}if(!i)throw Error(be(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,t))}return t}function Om(t,e){throw t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eC(t){var e=t._init;return e(t._payload)}function eI(t){function e(g,w){if(t){var S=g.deletions;S===null?(g.deletions=[w],g.flags|=16):S.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function i(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function r(g,w){return g=Da(g,w),g.index=0,g.sibling=null,g}function s(g,w,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<w?(g.flags|=2,w):S):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,w,S,b){return w===null||w.tag!==6?(w=n_(S,g.mode,b),w.return=g,w):(w=r(w,S),w.return=g,w)}function l(g,w,S,b){var A=S.type;return A===du?f(g,w,S.props.children,b,S.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ha&&eC(A)===w.type)?(b=r(w,S.props),b.ref=of(g,w,S),b.return=g,b):(b=rv(S.type,S.key,S.props,null,g.mode,b),b.ref=of(g,w,S),b.return=g,b)}function c(g,w,S,b){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=i_(S,g.mode,b),w.return=g,w):(w=r(w,S.children||[]),w.return=g,w)}function f(g,w,S,b,A){return w===null||w.tag!==7?(w=Wl(S,g.mode,b,A),w.return=g,w):(w=r(w,S),w.return=g,w)}function h(g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=n_(""+w,g.mode,S),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bm:return S=rv(w.type,w.key,w.props,null,g.mode,S),S.ref=of(g,null,w),S.return=g,S;case uu:return w=i_(w,g.mode,S),w.return=g,w;case ha:var b=w._init;return h(g,b(w._payload),S)}if(Af(w)||ef(w))return w=Wl(w,g.mode,S,null),w.return=g,w;Om(g,w)}return null}function p(g,w,S,b){var A=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:a(g,w,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case bm:return S.key===A?l(g,w,S,b):null;case uu:return S.key===A?c(g,w,S,b):null;case ha:return A=S._init,p(g,w,A(S._payload),b)}if(Af(S)||ef(S))return A!==null?null:f(g,w,S,b,null);Om(g,S)}return null}function m(g,w,S,b,A){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(S)||null,a(w,g,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bm:return g=g.get(b.key===null?S:b.key)||null,l(w,g,b,A);case uu:return g=g.get(b.key===null?S:b.key)||null,c(w,g,b,A);case ha:var C=b._init;return m(g,w,S,C(b._payload),A)}if(Af(b)||ef(b))return g=g.get(S)||null,f(w,g,b,A,null);Om(w,b)}return null}function v(g,w,S,b){for(var A=null,C=null,N=w,k=w=0,L=null;N!==null&&k<S.length;k++){N.index>k?(L=N,N=null):L=N.sibling;var I=p(g,N,S[k],b);if(I===null){N===null&&(N=L);break}t&&N&&I.alternate===null&&e(g,N),w=s(I,w,k),C===null?A=I:C.sibling=I,C=I,N=L}if(k===S.length)return n(g,N),un&&Ml(g,k),A;if(N===null){for(;k<S.length;k++)N=h(g,S[k],b),N!==null&&(w=s(N,w,k),C===null?A=N:C.sibling=N,C=N);return un&&Ml(g,k),A}for(N=i(g,N);k<S.length;k++)L=m(N,g,k,S[k],b),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?k:L.key),w=s(L,w,k),C===null?A=L:C.sibling=L,C=L);return t&&N.forEach(function(j){return e(g,j)}),un&&Ml(g,k),A}function _(g,w,S,b){var A=ef(S);if(typeof A!="function")throw Error(be(150));if(S=A.call(S),S==null)throw Error(be(151));for(var C=A=null,N=w,k=w=0,L=null,I=S.next();N!==null&&!I.done;k++,I=S.next()){N.index>k?(L=N,N=null):L=N.sibling;var j=p(g,N,I.value,b);if(j===null){N===null&&(N=L);break}t&&N&&j.alternate===null&&e(g,N),w=s(j,w,k),C===null?A=j:C.sibling=j,C=j,N=L}if(I.done)return n(g,N),un&&Ml(g,k),A;if(N===null){for(;!I.done;k++,I=S.next())I=h(g,I.value,b),I!==null&&(w=s(I,w,k),C===null?A=I:C.sibling=I,C=I);return un&&Ml(g,k),A}for(N=i(g,N);!I.done;k++,I=S.next())I=m(N,g,k,I.value,b),I!==null&&(t&&I.alternate!==null&&N.delete(I.key===null?k:I.key),w=s(I,w,k),C===null?A=I:C.sibling=I,C=I);return t&&N.forEach(function(W){return e(g,W)}),un&&Ml(g,k),A}function x(g,w,S,b){if(typeof S=="object"&&S!==null&&S.type===du&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case bm:e:{for(var A=S.key,C=w;C!==null;){if(C.key===A){if(A=S.type,A===du){if(C.tag===7){n(g,C.sibling),w=r(C,S.props.children),w.return=g,g=w;break e}}else if(C.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ha&&eC(A)===C.type){n(g,C.sibling),w=r(C,S.props),w.ref=of(g,C,S),w.return=g,g=w;break e}n(g,C);break}else e(g,C);C=C.sibling}S.type===du?(w=Wl(S.props.children,g.mode,b,S.key),w.return=g,g=w):(b=rv(S.type,S.key,S.props,null,g.mode,b),b.ref=of(g,w,S),b.return=g,g=b)}return o(g);case uu:e:{for(C=S.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(g,w.sibling),w=r(w,S.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=i_(S,g.mode,b),w.return=g,g=w}return o(g);case ha:return C=S._init,x(g,w,C(S._payload),b)}if(Af(S))return v(g,w,S,b);if(ef(S))return _(g,w,S,b);Om(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(g,w.sibling),w=r(w,S),w.return=g,g=w):(n(g,w),w=n_(S,g.mode,b),w.return=g,g=w),o(g)):n(g,w)}return x}var ed=eI(!0),tI=eI(!1),Dv=Ya(null),kv=null,xu=null,hM=null;function pM(){hM=xu=kv=null}function mM(t){var e=Dv.current;on(Dv),t._currentValue=e}function nw(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Uu(t,e){kv=t,hM=xu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ir=!0),t.firstContext=null)}function $r(t){var e=t._currentValue;if(hM!==t)if(t={context:t,memoizedValue:e,next:null},xu===null){if(kv===null)throw Error(be(308));xu=t,kv.dependencies={lanes:0,firstContext:t}}else xu=xu.next=t;return e}var Nl=null;function gM(t){Nl===null?Nl=[t]:Nl.push(t)}function nI(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,gM(e)):(n.next=r.next,r.next=n),e.interleaved=n,No(t,i)}function No(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pa=!1;function vM(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Na(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ut&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,No(t,n)}return r=i.interleaved,r===null?(e.next=e,gM(i)):(e.next=r.next,r.next=e),i.interleaved=e,No(t,n)}function Qg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,nM(t,n)}}function tC(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ov(t,e,n,i){var r=t.updateQueue;pa=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,f=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(p=e,m=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=_n({},h,p);break e;case 2:pa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=m,l=h):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);nc|=o,t.lanes=o,t.memoizedState=h}}function nC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(be(191,r));r.call(i)}}}var rp={},js=Ya(rp),dh=Ya(rp),fh=Ya(rp);function Ll(t){if(t===rp)throw Error(be(174));return t}function yM(t,e){switch(Jt(fh,e),Jt(dh,t),Jt(js,rp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:O1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=O1(e,t)}on(js),Jt(js,e)}function td(){on(js),on(dh),on(fh)}function rI(t){Ll(fh.current);var e=Ll(js.current),n=O1(e,t.type);e!==n&&(Jt(dh,t),Jt(js,n))}function xM(t){dh.current===t&&(on(js),on(dh))}var pn=Ya(0);function Uv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kx=[];function _M(){for(var t=0;t<Kx.length;t++)Kx[t]._workInProgressVersionPrimary=null;Kx.length=0}var Jg=Ho.ReactCurrentDispatcher,Zx=Ho.ReactCurrentBatchConfig,tc=0,vn=null,Gn=null,ni=null,Fv=!1,zf=!1,hh=0,M5=0;function xi(){throw Error(be(321))}function wM(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ms(t[n],e[n]))return!1;return!0}function SM(t,e,n,i,r,s){if(tc=s,vn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jg.current=t===null||t.memoizedState===null?A5:C5,t=n(i,r),zf){s=0;do{if(zf=!1,hh=0,25<=s)throw Error(be(301));s+=1,ni=Gn=null,e.updateQueue=null,Jg.current=P5,t=n(i,r)}while(zf)}if(Jg.current=zv,e=Gn!==null&&Gn.next!==null,tc=0,ni=Gn=vn=null,Fv=!1,e)throw Error(be(300));return t}function MM(){var t=hh!==0;return hh=0,t}function Ds(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?vn.memoizedState=ni=t:ni=ni.next=t,ni}function Yr(){if(Gn===null){var t=vn.alternate;t=t!==null?t.memoizedState:null}else t=Gn.next;var e=ni===null?vn.memoizedState:ni.next;if(e!==null)ni=e,Gn=t;else{if(t===null)throw Error(be(310));Gn=t,t={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},ni===null?vn.memoizedState=ni=t:ni=ni.next=t}return ni}function ph(t,e){return typeof e=="function"?e(t):e}function Qx(t){var e=Yr(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var i=Gn,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((tc&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,vn.lanes|=f,nc|=f}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,ms(i,e.memoizedState)||(ir=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,vn.lanes|=s,nc|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jx(t){var e=Yr(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);ms(s,e.memoizedState)||(ir=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function sI(){}function oI(t,e){var n=vn,i=Yr(),r=e(),s=!ms(i.memoizedState,r);if(s&&(i.memoizedState=r,ir=!0),i=i.queue,EM(cI.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||ni!==null&&ni.memoizedState.tag&1){if(n.flags|=2048,mh(9,lI.bind(null,n,i,r,e),void 0,null),ri===null)throw Error(be(349));tc&30||aI(n,e,r)}return r}function aI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vn.updateQueue,e===null?(e={lastEffect:null,stores:null},vn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lI(t,e,n,i){e.value=n,e.getSnapshot=i,uI(e)&&dI(t)}function cI(t,e,n){return n(function(){uI(e)&&dI(t)})}function uI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ms(t,n)}catch{return!0}}function dI(t){var e=No(t,1);e!==null&&ps(e,t,1,-1)}function iC(t){var e=Ds();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ph,lastRenderedState:t},e.queue=t,t=t.dispatch=T5.bind(null,vn,t),[e.memoizedState,t]}function mh(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=vn.updateQueue,e===null?(e={lastEffect:null,stores:null},vn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function fI(){return Yr().memoizedState}function ev(t,e,n,i){var r=Ds();vn.flags|=t,r.memoizedState=mh(1|e,n,void 0,i===void 0?null:i)}function Sy(t,e,n,i){var r=Yr();i=i===void 0?null:i;var s=void 0;if(Gn!==null){var o=Gn.memoizedState;if(s=o.destroy,i!==null&&wM(i,o.deps)){r.memoizedState=mh(e,n,s,i);return}}vn.flags|=t,r.memoizedState=mh(1|e,n,s,i)}function rC(t,e){return ev(8390656,8,t,e)}function EM(t,e){return Sy(2048,8,t,e)}function hI(t,e){return Sy(4,2,t,e)}function pI(t,e){return Sy(4,4,t,e)}function mI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gI(t,e,n){return n=n!=null?n.concat([t]):null,Sy(4,4,mI.bind(null,e,t),n)}function bM(){}function vI(t,e){var n=Yr();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&wM(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function yI(t,e){var n=Yr();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&wM(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function xI(t,e,n){return tc&21?(ms(n,e)||(n=EL(),vn.lanes|=n,nc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ir=!0),t.memoizedState=n)}function E5(t,e){var n=$t;$t=n!==0&&4>n?n:4,t(!0);var i=Zx.transition;Zx.transition={};try{t(!1),e()}finally{$t=n,Zx.transition=i}}function _I(){return Yr().memoizedState}function b5(t,e,n){var i=Ia(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},wI(t))SI(e,n);else if(n=nI(t,e,n,i),n!==null){var r=Vi();ps(n,t,i,r),MI(n,e,i)}}function T5(t,e,n){var i=Ia(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(wI(t))SI(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ms(a,o)){var l=e.interleaved;l===null?(r.next=r,gM(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=nI(t,e,r,i),n!==null&&(r=Vi(),ps(n,t,i,r),MI(n,e,i))}}function wI(t){var e=t.alternate;return t===vn||e!==null&&e===vn}function SI(t,e){zf=Fv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function MI(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,nM(t,n)}}var zv={readContext:$r,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},A5={readContext:$r,useCallback:function(t,e){return Ds().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:rC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ev(4194308,4,mI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ev(4194308,4,t,e)},useInsertionEffect:function(t,e){return ev(4,2,t,e)},useMemo:function(t,e){var n=Ds();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Ds();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=b5.bind(null,vn,t),[i.memoizedState,t]},useRef:function(t){var e=Ds();return t={current:t},e.memoizedState=t},useState:iC,useDebugValue:bM,useDeferredValue:function(t){return Ds().memoizedState=t},useTransition:function(){var t=iC(!1),e=t[0];return t=E5.bind(null,t[1]),Ds().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=vn,r=Ds();if(un){if(n===void 0)throw Error(be(407));n=n()}else{if(n=e(),ri===null)throw Error(be(349));tc&30||aI(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,rC(cI.bind(null,i,s,t),[t]),i.flags|=2048,mh(9,lI.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Ds(),e=ri.identifierPrefix;if(un){var n=So,i=wo;n=(i&~(1<<32-hs(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=hh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C5={readContext:$r,useCallback:vI,useContext:$r,useEffect:EM,useImperativeHandle:gI,useInsertionEffect:hI,useLayoutEffect:pI,useMemo:yI,useReducer:Qx,useRef:fI,useState:function(){return Qx(ph)},useDebugValue:bM,useDeferredValue:function(t){var e=Yr();return xI(e,Gn.memoizedState,t)},useTransition:function(){var t=Qx(ph)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:sI,useSyncExternalStore:oI,useId:_I,unstable_isNewReconciler:!1},P5={readContext:$r,useCallback:vI,useContext:$r,useEffect:EM,useImperativeHandle:gI,useInsertionEffect:hI,useLayoutEffect:pI,useMemo:yI,useReducer:Jx,useRef:fI,useState:function(){return Jx(ph)},useDebugValue:bM,useDeferredValue:function(t){var e=Yr();return Gn===null?e.memoizedState=t:xI(e,Gn.memoizedState,t)},useTransition:function(){var t=Jx(ph)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:sI,useSyncExternalStore:oI,useId:_I,unstable_isNewReconciler:!1};function is(t,e){if(t&&t.defaultProps){e=_n({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function iw(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:_n({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var My={isMounted:function(t){return(t=t._reactInternals)?uc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Vi(),r=Ia(t),s=bo(i,r);s.payload=e,n!=null&&(s.callback=n),e=Na(t,s,r),e!==null&&(ps(e,t,r,i),Qg(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Vi(),r=Ia(t),s=bo(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Na(t,s,r),e!==null&&(ps(e,t,r,i),Qg(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vi(),i=Ia(t),r=bo(n,i);r.tag=2,e!=null&&(r.callback=e),e=Na(t,r,i),e!==null&&(ps(e,t,i,n),Qg(e,t,i))}};function sC(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!ah(n,i)||!ah(r,s):!0}function EI(t,e,n){var i=!1,r=Ba,s=e.contextType;return typeof s=="object"&&s!==null?s=$r(s):(r=sr(e)?Jl:Ri.current,i=e.contextTypes,s=(i=i!=null)?Qu(t,r):Ba),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=My,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function oC(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&My.enqueueReplaceState(e,e.state,null)}function rw(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},vM(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=$r(s):(s=sr(e)?Jl:Ri.current,r.context=Qu(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(iw(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&My.enqueueReplaceState(r,r.state,null),Ov(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function nd(t,e){try{var n="",i=e;do n+=iB(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function e_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R5=typeof WeakMap=="function"?WeakMap:Map;function bI(t,e,n){n=bo(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Vv||(Vv=!0,mw=i),sw(t,e)},n}function TI(t,e,n){n=bo(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){sw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sw(t,e),typeof i!="function"&&(La===null?La=new Set([this]):La.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function aC(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new R5;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=G5.bind(null,t,e,n),e.then(t,t))}function lC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cC(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bo(-1,1),e.tag=2,Na(n,e,1))),n.lanes|=1),t)}var N5=Ho.ReactCurrentOwner,ir=!1;function Fi(t,e,n,i){e.child=t===null?tI(e,null,n,i):ed(e,t.child,n,i)}function uC(t,e,n,i,r){n=n.render;var s=e.ref;return Uu(e,r),i=SM(t,e,n,i,s,r),n=MM(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Lo(t,e,r)):(un&&n&&uM(e),e.flags|=1,Fi(t,e,i,r),e.child)}function dC(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!IM(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,AI(t,e,s,i,r)):(t=rv(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ah,n(o,i)&&t.ref===e.ref)return Lo(t,e,r)}return e.flags|=1,t=Da(s,i),t.ref=e.ref,t.return=e,e.child=t}function AI(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(ah(s,i)&&t.ref===e.ref)if(ir=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(ir=!0);else return e.lanes=t.lanes,Lo(t,e,r)}return ow(t,e,n,i,r)}function CI(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(wu,gr),gr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jt(wu,gr),gr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Jt(wu,gr),gr|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Jt(wu,gr),gr|=i;return Fi(t,e,r,n),e.child}function PI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ow(t,e,n,i,r){var s=sr(n)?Jl:Ri.current;return s=Qu(e,s),Uu(e,r),n=SM(t,e,n,i,s,r),i=MM(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Lo(t,e,r)):(un&&i&&uM(e),e.flags|=1,Fi(t,e,n,r),e.child)}function fC(t,e,n,i,r){if(sr(n)){var s=!0;Nv(e)}else s=!1;if(Uu(e,r),e.stateNode===null)tv(t,e),EI(e,n,i),rw(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=$r(c):(c=sr(n)?Jl:Ri.current,c=Qu(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&oC(e,o,i,c),pa=!1;var p=e.memoizedState;o.state=p,Ov(e,i,o,r),l=e.memoizedState,a!==i||p!==l||rr.current||pa?(typeof f=="function"&&(iw(e,n,f,i),l=e.memoizedState),(a=pa||sC(e,n,a,i,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,iI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:is(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$r(l):(l=sr(n)?Jl:Ri.current,l=Qu(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&oC(e,o,i,l),pa=!1,p=e.memoizedState,o.state=p,Ov(e,i,o,r);var v=e.memoizedState;a!==h||p!==v||rr.current||pa?(typeof m=="function"&&(iw(e,n,m,i),v=e.memoizedState),(c=pa||sC(e,n,c,i,p,v,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return aw(t,e,n,i,s,r)}function aw(t,e,n,i,r,s){PI(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&ZA(e,n,!1),Lo(t,e,s);i=e.stateNode,N5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=ed(e,t.child,null,s),e.child=ed(e,null,a,s)):Fi(t,e,a,s),e.memoizedState=i.state,r&&ZA(e,n,!0),e.child}function RI(t){var e=t.stateNode;e.pendingContext?KA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KA(t,e.context,!1),yM(t,e.containerInfo)}function hC(t,e,n,i,r){return Ju(),fM(r),e.flags|=256,Fi(t,e,n,i),e.child}var lw={dehydrated:null,treeContext:null,retryLane:0};function cw(t){return{baseLanes:t,cachePool:null,transitions:null}}function NI(t,e,n){var i=e.pendingProps,r=pn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Jt(pn,r&1),t===null)return tw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ty(o,i,0,null),t=Wl(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cw(n),e.memoizedState=lw,t):TM(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return L5(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Da(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Da(a,s):(s=Wl(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?cw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=lw,i}return s=t.child,t=s.sibling,i=Da(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function TM(t,e){return e=Ty({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Um(t,e,n,i){return i!==null&&fM(i),ed(e,t.child,null,n),t=TM(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L5(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=e_(Error(be(422))),Um(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Ty({mode:"visible",children:i.children},r,0,null),s=Wl(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&ed(e,t.child,null,o),e.child.memoizedState=cw(o),e.memoizedState=lw,s);if(!(e.mode&1))return Um(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(be(419)),i=e_(s,i,void 0),Um(t,e,o,i)}if(a=(o&t.childLanes)!==0,ir||a){if(i=ri,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,No(t,r),ps(i,t,r,-1))}return LM(),i=e_(Error(be(421))),Um(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=W5.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,xr=Ra(r.nextSibling),_r=e,un=!0,cs=null,t!==null&&(jr[Gr++]=wo,jr[Gr++]=So,jr[Gr++]=ec,wo=t.id,So=t.overflow,ec=e),e=TM(e,i.children),e.flags|=4096,e)}function pC(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),nw(t.return,e,n)}function t_(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function LI(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Fi(t,e,i.children,n),i=pn.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pC(t,n,e);else if(t.tag===19)pC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Jt(pn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Uv(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),t_(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Uv(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}t_(e,!0,n,null,s);break;case"together":t_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,n=Da(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Da(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I5(t,e,n){switch(e.tag){case 3:RI(e),Ju();break;case 5:rI(e);break;case 1:sr(e.type)&&Nv(e);break;case 4:yM(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Jt(Dv,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Jt(pn,pn.current&1),e.flags|=128,null):n&e.child.childLanes?NI(t,e,n):(Jt(pn,pn.current&1),t=Lo(t,e,n),t!==null?t.sibling:null);Jt(pn,pn.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return LI(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Jt(pn,pn.current),i)break;return null;case 22:case 23:return e.lanes=0,CI(t,e,n)}return Lo(t,e,n)}var II,uw,DI,kI;II=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uw=function(){};DI=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Ll(js.current);var s=null;switch(n){case"input":r=L1(t,r),i=L1(t,i),s=[];break;case"select":r=_n({},r,{value:void 0}),i=_n({},i,{value:void 0}),s=[];break;case"textarea":r=k1(t,r),i=k1(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Pv)}U1(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(eh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(eh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};kI=function(t,e,n,i){n!==i&&(e.flags|=4)};function af(t,e){if(!un)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function _i(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function D5(t,e,n){var i=e.pendingProps;switch(dM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _i(e),null;case 1:return sr(e.type)&&Rv(),_i(e),null;case 3:return i=e.stateNode,td(),on(rr),on(Ri),_M(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(km(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cs!==null&&(yw(cs),cs=null))),uw(t,e),_i(e),null;case 5:xM(e);var r=Ll(fh.current);if(n=e.type,t!==null&&e.stateNode!=null)DI(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(be(166));return _i(e),null}if(t=Ll(js.current),km(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Fs]=e,i[uh]=s,t=(e.mode&1)!==0,n){case"dialog":rn("cancel",i),rn("close",i);break;case"iframe":case"object":case"embed":rn("load",i);break;case"video":case"audio":for(r=0;r<Pf.length;r++)rn(Pf[r],i);break;case"source":rn("error",i);break;case"img":case"image":case"link":rn("error",i),rn("load",i);break;case"details":rn("toggle",i);break;case"input":MA(i,s),rn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},rn("invalid",i);break;case"textarea":bA(i,s),rn("invalid",i)}U1(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Dm(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Dm(i.textContent,a,t),r=["children",""+a]):eh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rn("scroll",i)}switch(n){case"input":Tm(i),EA(i,s,!0);break;case"textarea":Tm(i),TA(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Pv)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Fs]=e,t[uh]=i,II(t,e,!1,!1),e.stateNode=t;e:{switch(o=F1(n,i),n){case"dialog":rn("cancel",t),rn("close",t),r=i;break;case"iframe":case"object":case"embed":rn("load",t),r=i;break;case"video":case"audio":for(r=0;r<Pf.length;r++)rn(Pf[r],t);r=i;break;case"source":rn("error",t),r=i;break;case"img":case"image":case"link":rn("error",t),rn("load",t),r=i;break;case"details":rn("toggle",t),r=i;break;case"input":MA(t,i),r=L1(t,i),rn("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=_n({},i,{value:void 0}),rn("invalid",t);break;case"textarea":bA(t,i),r=k1(t,i),rn("invalid",t);break;default:r=i}U1(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fL(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uL(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&th(t,l):typeof l=="number"&&th(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(eh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rn("scroll",t):l!=null&&KS(t,s,l,o))}switch(n){case"input":Tm(t),EA(t,i,!1);break;case"textarea":Tm(t),TA(t);break;case"option":i.value!=null&&t.setAttribute("value",""+za(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Iu(t,!!i.multiple,s,!1):i.defaultValue!=null&&Iu(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Pv)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _i(e),null;case 6:if(t&&e.stateNode!=null)kI(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(be(166));if(n=Ll(fh.current),Ll(js.current),km(e)){if(i=e.stateNode,n=e.memoizedProps,i[Fs]=e,(s=i.nodeValue!==n)&&(t=_r,t!==null))switch(t.tag){case 3:Dm(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dm(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Fs]=e,e.stateNode=i}return _i(e),null;case 13:if(on(pn),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(un&&xr!==null&&e.mode&1&&!(e.flags&128))JL(),Ju(),e.flags|=98560,s=!1;else if(s=km(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(be(317));s[Fs]=e}else Ju(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_i(e),s=!1}else cs!==null&&(yw(cs),cs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||pn.current&1?Xn===0&&(Xn=3):LM())),e.updateQueue!==null&&(e.flags|=4),_i(e),null);case 4:return td(),uw(t,e),t===null&&lh(e.stateNode.containerInfo),_i(e),null;case 10:return mM(e.type._context),_i(e),null;case 17:return sr(e.type)&&Rv(),_i(e),null;case 19:if(on(pn),s=e.memoizedState,s===null)return _i(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)af(s,!1);else{if(Xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Uv(t),o!==null){for(e.flags|=128,af(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Jt(pn,pn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Dn()>id&&(e.flags|=128,i=!0,af(s,!1),e.lanes=4194304)}else{if(!i)if(t=Uv(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),af(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!un)return _i(e),null}else 2*Dn()-s.renderingStartTime>id&&n!==1073741824&&(e.flags|=128,i=!0,af(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Dn(),e.sibling=null,n=pn.current,Jt(pn,i?n&1|2:n&1),e):(_i(e),null);case 22:case 23:return NM(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?gr&1073741824&&(_i(e),e.subtreeFlags&6&&(e.flags|=8192)):_i(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function k5(t,e){switch(dM(e),e.tag){case 1:return sr(e.type)&&Rv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return td(),on(rr),on(Ri),_M(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xM(e),null;case 13:if(on(pn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));Ju()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return on(pn),null;case 4:return td(),null;case 10:return mM(e.type._context),null;case 22:case 23:return NM(),null;case 24:return null;default:return null}}var Fm=!1,Ti=!1,O5=typeof WeakSet=="function"?WeakSet:Set,je=null;function _u(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Tn(t,e,i)}else n.current=null}function dw(t,e,n){try{n()}catch(i){Tn(t,e,i)}}var mC=!1;function U5(t,e){if(Y1=Tv,t=BL(),cM(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,h=t,p=null;t:for(;;){for(var m;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===r&&(a=o),p===s&&++f===i&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(q1={focusedElem:t,selectionRange:n},Tv=!1,je=e;je!==null;)if(e=je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,je=t;else for(;je!==null;){e=je;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,x=v.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:is(e.type,_),x);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(b){Tn(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}return v=mC,mC=!1,v}function Bf(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&dw(e,n,s)}r=r.next}while(r!==i)}}function Ey(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function fw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OI(t){var e=t.alternate;e!==null&&(t.alternate=null,OI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fs],delete e[uh],delete e[Q1],delete e[x5],delete e[_5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UI(t){return t.tag===5||t.tag===3||t.tag===4}function gC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hw(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pv));else if(i!==4&&(t=t.child,t!==null))for(hw(t,e,n),t=t.sibling;t!==null;)hw(t,e,n),t=t.sibling}function pw(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(pw(t,e,n),t=t.sibling;t!==null;)pw(t,e,n),t=t.sibling}var ui=null,ls=!1;function ea(t,e,n){for(n=n.child;n!==null;)FI(t,e,n),n=n.sibling}function FI(t,e,n){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(gy,n)}catch{}switch(n.tag){case 5:Ti||_u(n,e);case 6:var i=ui,r=ls;ui=null,ea(t,e,n),ui=i,ls=r,ui!==null&&(ls?(t=ui,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ui.removeChild(n.stateNode));break;case 18:ui!==null&&(ls?(t=ui,n=n.stateNode,t.nodeType===8?Yx(t.parentNode,n):t.nodeType===1&&Yx(t,n),sh(t)):Yx(ui,n.stateNode));break;case 4:i=ui,r=ls,ui=n.stateNode.containerInfo,ls=!0,ea(t,e,n),ui=i,ls=r;break;case 0:case 11:case 14:case 15:if(!Ti&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dw(n,e,o),r=r.next}while(r!==i)}ea(t,e,n);break;case 1:if(!Ti&&(_u(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Tn(n,e,a)}ea(t,e,n);break;case 21:ea(t,e,n);break;case 22:n.mode&1?(Ti=(i=Ti)||n.memoizedState!==null,ea(t,e,n),Ti=i):ea(t,e,n);break;default:ea(t,e,n)}}function vC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new O5),e.forEach(function(i){var r=X5.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Zr(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ui=a.stateNode,ls=!1;break e;case 3:ui=a.stateNode.containerInfo,ls=!0;break e;case 4:ui=a.stateNode.containerInfo,ls=!0;break e}a=a.return}if(ui===null)throw Error(be(160));FI(s,o,r),ui=null,ls=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Tn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zI(e,t),e=e.sibling}function zI(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zr(e,t),Ls(t),i&4){try{Bf(3,t,t.return),Ey(3,t)}catch(_){Tn(t,t.return,_)}try{Bf(5,t,t.return)}catch(_){Tn(t,t.return,_)}}break;case 1:Zr(e,t),Ls(t),i&512&&n!==null&&_u(n,n.return);break;case 5:if(Zr(e,t),Ls(t),i&512&&n!==null&&_u(n,n.return),t.flags&32){var r=t.stateNode;try{th(r,"")}catch(_){Tn(t,t.return,_)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&aL(r,s),F1(a,o);var c=F1(a,s);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?fL(r,h):f==="dangerouslySetInnerHTML"?uL(r,h):f==="children"?th(r,h):KS(r,f,h,c)}switch(a){case"input":I1(r,s);break;case"textarea":lL(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Iu(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Iu(r,!!s.multiple,s.defaultValue,!0):Iu(r,!!s.multiple,s.multiple?[]:"",!1))}r[uh]=s}catch(_){Tn(t,t.return,_)}}break;case 6:if(Zr(e,t),Ls(t),i&4){if(t.stateNode===null)throw Error(be(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(_){Tn(t,t.return,_)}}break;case 3:if(Zr(e,t),Ls(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{sh(e.containerInfo)}catch(_){Tn(t,t.return,_)}break;case 4:Zr(e,t),Ls(t);break;case 13:Zr(e,t),Ls(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(PM=Dn())),i&4&&vC(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ti=(c=Ti)||f,Zr(e,t),Ti=c):Zr(e,t),Ls(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(je=t,f=t.child;f!==null;){for(h=je=f;je!==null;){switch(p=je,m=p.child,p.tag){case 0:case 11:case 14:case 15:Bf(4,p,p.return);break;case 1:_u(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Tn(i,n,_)}}break;case 5:_u(p,p.return);break;case 22:if(p.memoizedState!==null){xC(h);continue}}m!==null?(m.return=p,je=m):xC(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dL("display",o))}catch(_){Tn(t,t.return,_)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){Tn(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zr(e,t),Ls(t),i&4&&vC(t);break;case 21:break;default:Zr(e,t),Ls(t)}}function Ls(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UI(n)){var i=n;break e}n=n.return}throw Error(be(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(th(r,""),i.flags&=-33);var s=gC(t);pw(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=gC(t);hw(t,a,o);break;default:throw Error(be(161))}}catch(l){Tn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F5(t,e,n){je=t,BI(t)}function BI(t,e,n){for(var i=(t.mode&1)!==0;je!==null;){var r=je,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Fm;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Ti;a=Fm;var c=Ti;if(Fm=o,(Ti=l)&&!c)for(je=r;je!==null;)o=je,l=o.child,o.tag===22&&o.memoizedState!==null?_C(r):l!==null?(l.return=o,je=l):_C(r);for(;s!==null;)je=s,BI(s),s=s.sibling;je=r,Fm=a,Ti=c}yC(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,je=s):yC(t)}}function yC(t){for(;je!==null;){var e=je;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ti||Ey(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ti)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:is(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&nC(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&sh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}Ti||e.flags&512&&fw(e)}catch(p){Tn(e,e.return,p)}}if(e===t){je=null;break}if(n=e.sibling,n!==null){n.return=e.return,je=n;break}je=e.return}}function xC(t){for(;je!==null;){var e=je;if(e===t){je=null;break}var n=e.sibling;if(n!==null){n.return=e.return,je=n;break}je=e.return}}function _C(t){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ey(4,e)}catch(l){Tn(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Tn(e,r,l)}}var s=e.return;try{fw(e)}catch(l){Tn(e,s,l)}break;case 5:var o=e.return;try{fw(e)}catch(l){Tn(e,o,l)}}}catch(l){Tn(e,e.return,l)}if(e===t){je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,je=a;break}je=e.return}}var z5=Math.ceil,Bv=Ho.ReactCurrentDispatcher,AM=Ho.ReactCurrentOwner,Xr=Ho.ReactCurrentBatchConfig,Ut=0,ri=null,Bn=null,fi=0,gr=0,wu=Ya(0),Xn=0,gh=null,nc=0,by=0,CM=0,Vf=null,er=null,PM=0,id=1/0,vo=null,Vv=!1,mw=null,La=null,zm=!1,ba=null,Hv=0,Hf=0,gw=null,nv=-1,iv=0;function Vi(){return Ut&6?Dn():nv!==-1?nv:nv=Dn()}function Ia(t){return t.mode&1?Ut&2&&fi!==0?fi&-fi:S5.transition!==null?(iv===0&&(iv=EL()),iv):(t=$t,t!==0||(t=window.event,t=t===void 0?16:NL(t.type)),t):1}function ps(t,e,n,i){if(50<Hf)throw Hf=0,gw=null,Error(be(185));tp(t,n,i),(!(Ut&2)||t!==ri)&&(t===ri&&(!(Ut&2)&&(by|=n),Xn===4&&va(t,fi)),or(t,i),n===1&&Ut===0&&!(e.mode&1)&&(id=Dn()+500,wy&&qa()))}function or(t,e){var n=t.callbackNode;SB(t,e);var i=bv(t,t===ri?fi:0);if(i===0)n!==null&&PA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&PA(n),e===1)t.tag===0?w5(wC.bind(null,t)):KL(wC.bind(null,t)),v5(function(){!(Ut&6)&&qa()}),n=null;else{switch(bL(i)){case 1:n=tM;break;case 4:n=SL;break;case 16:n=Ev;break;case 536870912:n=ML;break;default:n=Ev}n=YI(n,VI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VI(t,e){if(nv=-1,iv=0,Ut&6)throw Error(be(327));var n=t.callbackNode;if(Fu()&&t.callbackNode!==n)return null;var i=bv(t,t===ri?fi:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=jv(t,i);else{e=i;var r=Ut;Ut|=2;var s=jI();(ri!==t||fi!==e)&&(vo=null,id=Dn()+500,Gl(t,e));do try{H5();break}catch(a){HI(t,a)}while(!0);pM(),Bv.current=s,Ut=r,Bn!==null?e=0:(ri=null,fi=0,e=Xn)}if(e!==0){if(e===2&&(r=j1(t),r!==0&&(i=r,e=vw(t,r))),e===1)throw n=gh,Gl(t,0),va(t,i),or(t,Dn()),n;if(e===6)va(t,i);else{if(r=t.current.alternate,!(i&30)&&!B5(r)&&(e=jv(t,i),e===2&&(s=j1(t),s!==0&&(i=s,e=vw(t,s))),e===1))throw n=gh,Gl(t,0),va(t,i),or(t,Dn()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(be(345));case 2:El(t,er,vo);break;case 3:if(va(t,i),(i&130023424)===i&&(e=PM+500-Dn(),10<e)){if(bv(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Vi(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Z1(El.bind(null,t,er,vo),e);break}El(t,er,vo);break;case 4:if(va(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-hs(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Dn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*z5(i/1960))-i,10<i){t.timeoutHandle=Z1(El.bind(null,t,er,vo),i);break}El(t,er,vo);break;case 5:El(t,er,vo);break;default:throw Error(be(329))}}}return or(t,Dn()),t.callbackNode===n?VI.bind(null,t):null}function vw(t,e){var n=Vf;return t.current.memoizedState.isDehydrated&&(Gl(t,e).flags|=256),t=jv(t,e),t!==2&&(e=er,er=n,e!==null&&yw(e)),t}function yw(t){er===null?er=t:er.push.apply(er,t)}function B5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ms(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function va(t,e){for(e&=~CM,e&=~by,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hs(e),i=1<<n;t[n]=-1,e&=~i}}function wC(t){if(Ut&6)throw Error(be(327));Fu();var e=bv(t,0);if(!(e&1))return or(t,Dn()),null;var n=jv(t,e);if(t.tag!==0&&n===2){var i=j1(t);i!==0&&(e=i,n=vw(t,i))}if(n===1)throw n=gh,Gl(t,0),va(t,e),or(t,Dn()),n;if(n===6)throw Error(be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,El(t,er,vo),or(t,Dn()),null}function RM(t,e){var n=Ut;Ut|=1;try{return t(e)}finally{Ut=n,Ut===0&&(id=Dn()+500,wy&&qa())}}function ic(t){ba!==null&&ba.tag===0&&!(Ut&6)&&Fu();var e=Ut;Ut|=1;var n=Xr.transition,i=$t;try{if(Xr.transition=null,$t=1,t)return t()}finally{$t=i,Xr.transition=n,Ut=e,!(Ut&6)&&qa()}}function NM(){gr=wu.current,on(wu)}function Gl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,g5(n)),Bn!==null)for(n=Bn.return;n!==null;){var i=n;switch(dM(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Rv();break;case 3:td(),on(rr),on(Ri),_M();break;case 5:xM(i);break;case 4:td();break;case 13:on(pn);break;case 19:on(pn);break;case 10:mM(i.type._context);break;case 22:case 23:NM()}n=n.return}if(ri=t,Bn=t=Da(t.current,null),fi=gr=e,Xn=0,gh=null,CM=by=nc=0,er=Vf=null,Nl!==null){for(e=0;e<Nl.length;e++)if(n=Nl[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Nl=null}return t}function HI(t,e){do{var n=Bn;try{if(pM(),Jg.current=zv,Fv){for(var i=vn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Fv=!1}if(tc=0,ni=Gn=vn=null,zf=!1,hh=0,AM.current=null,n===null||n.return===null){Xn=1,gh=e,Bn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=fi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=lC(o);if(m!==null){m.flags&=-257,cC(m,o,a,s,e),m.mode&1&&aC(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){aC(s,c,e),LM();break e}l=Error(be(426))}}else if(un&&a.mode&1){var x=lC(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),cC(x,o,a,s,e),fM(nd(l,a));break e}}s=l=nd(l,a),Xn!==4&&(Xn=2),Vf===null?Vf=[s]:Vf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=bI(s,l,e);tC(s,g);break e;case 1:a=l;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(La===null||!La.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=TI(s,a,e);tC(s,b);break e}}s=s.return}while(s!==null)}WI(n)}catch(A){e=A,Bn===n&&n!==null&&(Bn=n=n.return);continue}break}while(!0)}function jI(){var t=Bv.current;return Bv.current=zv,t===null?zv:t}function LM(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),ri===null||!(nc&268435455)&&!(by&268435455)||va(ri,fi)}function jv(t,e){var n=Ut;Ut|=2;var i=jI();(ri!==t||fi!==e)&&(vo=null,Gl(t,e));do try{V5();break}catch(r){HI(t,r)}while(!0);if(pM(),Ut=n,Bv.current=i,Bn!==null)throw Error(be(261));return ri=null,fi=0,Xn}function V5(){for(;Bn!==null;)GI(Bn)}function H5(){for(;Bn!==null&&!hB();)GI(Bn)}function GI(t){var e=$I(t.alternate,t,gr);t.memoizedProps=t.pendingProps,e===null?WI(t):Bn=e,AM.current=null}function WI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k5(n,e),n!==null){n.flags&=32767,Bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xn=6,Bn=null;return}}else if(n=D5(n,e,gr),n!==null){Bn=n;return}if(e=e.sibling,e!==null){Bn=e;return}Bn=e=t}while(e!==null);Xn===0&&(Xn=5)}function El(t,e,n){var i=$t,r=Xr.transition;try{Xr.transition=null,$t=1,j5(t,e,n,i)}finally{Xr.transition=r,$t=i}return null}function j5(t,e,n,i){do Fu();while(ba!==null);if(Ut&6)throw Error(be(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(MB(t,s),t===ri&&(Bn=ri=null,fi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zm||(zm=!0,YI(Ev,function(){return Fu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xr.transition,Xr.transition=null;var o=$t;$t=1;var a=Ut;Ut|=4,AM.current=null,U5(t,n),zI(n,t),c5(q1),Tv=!!Y1,q1=Y1=null,t.current=n,F5(n),pB(),Ut=a,$t=o,Xr.transition=s}else t.current=n;if(zm&&(zm=!1,ba=t,Hv=r),s=t.pendingLanes,s===0&&(La=null),vB(n.stateNode),or(t,Dn()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Vv)throw Vv=!1,t=mw,mw=null,t;return Hv&1&&t.tag!==0&&Fu(),s=t.pendingLanes,s&1?t===gw?Hf++:(Hf=0,gw=t):Hf=0,qa(),null}function Fu(){if(ba!==null){var t=bL(Hv),e=Xr.transition,n=$t;try{if(Xr.transition=null,$t=16>t?16:t,ba===null)var i=!1;else{if(t=ba,ba=null,Hv=0,Ut&6)throw Error(be(331));var r=Ut;for(Ut|=4,je=t.current;je!==null;){var s=je,o=s.child;if(je.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(je=c;je!==null;){var f=je;switch(f.tag){case 0:case 11:case 15:Bf(8,f,s)}var h=f.child;if(h!==null)h.return=f,je=h;else for(;je!==null;){f=je;var p=f.sibling,m=f.return;if(OI(f),f===c){je=null;break}if(p!==null){p.return=m,je=p;break}je=m}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}je=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,je=o;else e:for(;je!==null;){if(s=je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bf(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,je=g;break e}je=s.return}}var w=t.current;for(je=w;je!==null;){o=je;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,je=S;else e:for(o=w;je!==null;){if(a=je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ey(9,a)}}catch(A){Tn(a,a.return,A)}if(a===o){je=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,je=b;break e}je=a.return}}if(Ut=r,qa(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(gy,t)}catch{}i=!0}return i}finally{$t=n,Xr.transition=e}}return!1}function SC(t,e,n){e=nd(n,e),e=bI(t,e,1),t=Na(t,e,1),e=Vi(),t!==null&&(tp(t,1,e),or(t,e))}function Tn(t,e,n){if(t.tag===3)SC(t,t,n);else for(;e!==null;){if(e.tag===3){SC(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(La===null||!La.has(i))){t=nd(n,t),t=TI(e,t,1),e=Na(e,t,1),t=Vi(),e!==null&&(tp(e,1,t),or(e,t));break}}e=e.return}}function G5(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Vi(),t.pingedLanes|=t.suspendedLanes&n,ri===t&&(fi&n)===n&&(Xn===4||Xn===3&&(fi&130023424)===fi&&500>Dn()-PM?Gl(t,0):CM|=n),or(t,e)}function XI(t,e){e===0&&(t.mode&1?(e=Pm,Pm<<=1,!(Pm&130023424)&&(Pm=4194304)):e=1);var n=Vi();t=No(t,e),t!==null&&(tp(t,e,n),or(t,n))}function W5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XI(t,n)}function X5(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(be(314))}i!==null&&i.delete(e),XI(t,n)}var $I;$I=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rr.current)ir=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ir=!1,I5(t,e,n);ir=!!(t.flags&131072)}else ir=!1,un&&e.flags&1048576&&ZL(e,Iv,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;tv(t,e),t=e.pendingProps;var r=Qu(e,Ri.current);Uu(e,n),r=SM(null,e,i,t,r,n);var s=MM();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sr(i)?(s=!0,Nv(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,vM(e),r.updater=My,e.stateNode=r,r._reactInternals=e,rw(e,i,t,n),e=aw(null,e,i,!0,s,n)):(e.tag=0,un&&s&&uM(e),Fi(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(tv(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Y5(i),t=is(i,t),r){case 0:e=ow(null,e,i,t,n);break e;case 1:e=fC(null,e,i,t,n);break e;case 11:e=uC(null,e,i,t,n);break e;case 14:e=dC(null,e,i,is(i.type,t),n);break e}throw Error(be(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:is(i,r),ow(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:is(i,r),fC(t,e,i,r,n);case 3:e:{if(RI(e),t===null)throw Error(be(387));i=e.pendingProps,s=e.memoizedState,r=s.element,iI(t,e),Ov(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=nd(Error(be(423)),e),e=hC(t,e,i,n,r);break e}else if(i!==r){r=nd(Error(be(424)),e),e=hC(t,e,i,n,r);break e}else for(xr=Ra(e.stateNode.containerInfo.firstChild),_r=e,un=!0,cs=null,n=tI(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ju(),i===r){e=Lo(t,e,n);break e}Fi(t,e,i,n)}e=e.child}return e;case 5:return rI(e),t===null&&tw(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,K1(i,r)?o=null:s!==null&&K1(i,s)&&(e.flags|=32),PI(t,e),Fi(t,e,o,n),e.child;case 6:return t===null&&tw(e),null;case 13:return NI(t,e,n);case 4:return yM(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ed(e,null,i,n):Fi(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:is(i,r),uC(t,e,i,r,n);case 7:return Fi(t,e,e.pendingProps,n),e.child;case 8:return Fi(t,e,e.pendingProps.children,n),e.child;case 12:return Fi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Jt(Dv,i._currentValue),i._currentValue=o,s!==null)if(ms(s.value,o)){if(s.children===r.children&&!rr.current){e=Lo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=bo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),nw(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(be(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nw(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Fi(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Uu(e,n),r=$r(r),i=i(r),e.flags|=1,Fi(t,e,i,n),e.child;case 14:return i=e.type,r=is(i,e.pendingProps),r=is(i.type,r),dC(t,e,i,r,n);case 15:return AI(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:is(i,r),tv(t,e),e.tag=1,sr(i)?(t=!0,Nv(e)):t=!1,Uu(e,n),EI(e,i,r),rw(e,i,r,n),aw(null,e,i,!0,t,n);case 19:return LI(t,e,n);case 22:return CI(t,e,n)}throw Error(be(156,e.tag))};function YI(t,e){return wL(t,e)}function $5(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(t,e,n,i){return new $5(t,e,n,i)}function IM(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y5(t){if(typeof t=="function")return IM(t)?1:0;if(t!=null){if(t=t.$$typeof,t===QS)return 11;if(t===JS)return 14}return 2}function Da(t,e){var n=t.alternate;return n===null?(n=Wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rv(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")IM(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case du:return Wl(n.children,r,s,e);case ZS:o=8,r|=8;break;case C1:return t=Wr(12,n,e,r|2),t.elementType=C1,t.lanes=s,t;case P1:return t=Wr(13,n,e,r),t.elementType=P1,t.lanes=s,t;case R1:return t=Wr(19,n,e,r),t.elementType=R1,t.lanes=s,t;case rL:return Ty(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nL:o=10;break e;case iL:o=9;break e;case QS:o=11;break e;case JS:o=14;break e;case ha:o=16,i=null;break e}throw Error(be(130,t==null?t:typeof t,""))}return e=Wr(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Wl(t,e,n,i){return t=Wr(7,t,i,e),t.lanes=n,t}function Ty(t,e,n,i){return t=Wr(22,t,i,e),t.elementType=rL,t.lanes=n,t.stateNode={isHidden:!1},t}function n_(t,e,n){return t=Wr(6,t,null,e),t.lanes=n,t}function i_(t,e,n){return e=Wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q5(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ux(0),this.expirationTimes=Ux(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ux(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function DM(t,e,n,i,r,s,o,a,l){return t=new q5(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vM(s),t}function K5(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uu,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function qI(t){if(!t)return Ba;t=t._reactInternals;e:{if(uc(t)!==t||t.tag!==1)throw Error(be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(t.tag===1){var n=t.type;if(sr(n))return qL(t,n,e)}return e}function KI(t,e,n,i,r,s,o,a,l){return t=DM(n,i,!0,t,r,s,o,a,l),t.context=qI(null),n=t.current,i=Vi(),r=Ia(n),s=bo(i,r),s.callback=e??null,Na(n,s,r),t.current.lanes=r,tp(t,r,i),or(t,i),t}function Ay(t,e,n,i){var r=e.current,s=Vi(),o=Ia(r);return n=qI(n),e.context===null?e.context=n:e.pendingContext=n,e=bo(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Na(r,e,o),t!==null&&(ps(t,r,o,s),Qg(t,r,o)),o}function Gv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function MC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kM(t,e){MC(t,e),(t=t.alternate)&&MC(t,e)}function Z5(){return null}var ZI=typeof reportError=="function"?reportError:function(t){console.error(t)};function OM(t){this._internalRoot=t}Cy.prototype.render=OM.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));Ay(t,e,null,null)};Cy.prototype.unmount=OM.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ic(function(){Ay(null,t,null,null)}),e[Ro]=null}};function Cy(t){this._internalRoot=t}Cy.prototype.unstable_scheduleHydration=function(t){if(t){var e=CL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ga.length&&e!==0&&e<ga[n].priority;n++);ga.splice(n,0,t),n===0&&RL(t)}};function UM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function EC(){}function Q5(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Gv(o);s.call(c)}}var o=KI(e,i,t,0,null,!1,!1,"",EC);return t._reactRootContainer=o,t[Ro]=o.current,lh(t.nodeType===8?t.parentNode:t),ic(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Gv(l);a.call(c)}}var l=DM(t,0,!1,null,null,!1,!1,"",EC);return t._reactRootContainer=l,t[Ro]=l.current,lh(t.nodeType===8?t.parentNode:t),ic(function(){Ay(e,l,n,i)}),l}function Ry(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Gv(o);a.call(l)}}Ay(e,o,t,r)}else o=Q5(n,e,t,r,i);return Gv(o)}TL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cf(e.pendingLanes);n!==0&&(nM(e,n|1),or(e,Dn()),!(Ut&6)&&(id=Dn()+500,qa()))}break;case 13:ic(function(){var i=No(t,1);if(i!==null){var r=Vi();ps(i,t,1,r)}}),kM(t,1)}};iM=function(t){if(t.tag===13){var e=No(t,134217728);if(e!==null){var n=Vi();ps(e,t,134217728,n)}kM(t,134217728)}};AL=function(t){if(t.tag===13){var e=Ia(t),n=No(t,e);if(n!==null){var i=Vi();ps(n,t,e,i)}kM(t,e)}};CL=function(){return $t};PL=function(t,e){var n=$t;try{return $t=t,e()}finally{$t=n}};B1=function(t,e,n){switch(e){case"input":if(I1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=_y(i);if(!r)throw Error(be(90));oL(i),I1(i,r)}}}break;case"textarea":lL(t,n);break;case"select":e=n.value,e!=null&&Iu(t,!!n.multiple,e,!1)}};mL=RM;gL=ic;var J5={usingClientEntryPoint:!1,Events:[ip,mu,_y,hL,pL,RM]},lf={findFiberByHostInstance:Rl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eV={bundleType:lf.bundleType,version:lf.version,rendererPackageName:lf.rendererPackageName,rendererConfig:lf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ho.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xL(t),t===null?null:t.stateNode},findFiberByHostInstance:lf.findFiberByHostInstance||Z5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bm.isDisabled&&Bm.supportsFiber)try{gy=Bm.inject(eV),Hs=Bm}catch{}}Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J5;Tr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UM(e))throw Error(be(200));return K5(t,e,null,n)};Tr.createRoot=function(t,e){if(!UM(t))throw Error(be(299));var n=!1,i="",r=ZI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=DM(t,1,!1,null,null,n,!1,i,r),t[Ro]=e.current,lh(t.nodeType===8?t.parentNode:t),new OM(e)};Tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=xL(e),t=t===null?null:t.stateNode,t};Tr.flushSync=function(t){return ic(t)};Tr.hydrate=function(t,e,n){if(!Py(e))throw Error(be(200));return Ry(null,t,e,!0,n)};Tr.hydrateRoot=function(t,e,n){if(!UM(t))throw Error(be(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=ZI;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KI(e,null,t,1,n??null,r,!1,s,o),t[Ro]=e.current,lh(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Cy(e)};Tr.render=function(t,e,n){if(!Py(e))throw Error(be(200));return Ry(null,t,e,!1,n)};Tr.unmountComponentAtNode=function(t){if(!Py(t))throw Error(be(40));return t._reactRootContainer?(ic(function(){Ry(null,null,t,!1,function(){t._reactRootContainer=null,t[Ro]=null})}),!0):!1};Tr.unstable_batchedUpdates=RM;Tr.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Py(n))throw Error(be(200));if(t==null||t._reactInternals===void 0)throw Error(be(38));return Ry(t,e,n,!1,i)};Tr.version="18.3.1-next-f1338f8080-20240426";function QI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QI)}catch(t){console.error(t)}}QI(),QN.exports=Tr;var sp=QN.exports;const JI=HS(sp);var e3,bC=sp;e3=bC.createRoot,bC.hydrateRoot;const tV=1,nV=1e6;let r_=0;function iV(){return r_=(r_+1)%Number.MAX_SAFE_INTEGER,r_.toString()}const s_=new Map,TC=t=>{if(s_.has(t))return;const e=setTimeout(()=>{s_.delete(t),jf({type:"REMOVE_TOAST",toastId:t})},nV);s_.set(t,e)},rV=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,tV)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?TC(n):t.toasts.forEach(i=>{TC(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},sv=[];let ov={toasts:[]};function jf(t){ov=rV(ov,t),sv.forEach(e=>{e(ov)})}function FM({...t}){const e=iV(),n=r=>jf({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>jf({type:"DISMISS_TOAST",toastId:e});return jf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:n}}function sV(){const[t,e]=P.useState(ov);return P.useEffect(()=>(sv.push(e),()=>{const n=sv.indexOf(e);n>-1&&sv.splice(n,1)}),[t]),{...t,toast:FM,dismiss:n=>jf({type:"DISMISS_TOAST",toastId:n})}}function dn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function AC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function t3(...t){return e=>{let n=!1;const i=t.map(r=>{const s=AC(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():AC(t[r],null)}}}}function Wi(...t){return P.useCallback(t3(...t),t)}function oV(t,e){const n=P.createContext(e),i=s=>{const{children:o,...a}=s,l=P.useMemo(()=>a,Object.values(a));return E.jsx(n.Provider,{value:l,children:o})};i.displayName=t+"Provider";function r(s){const o=P.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[i,r]}function xd(t,e=[]){let n=[];function i(s,o){const a=P.createContext(o),l=n.length;n=[...n,o];const c=h=>{var g;const{scope:p,children:m,...v}=h,_=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,x=P.useMemo(()=>v,Object.values(v));return E.jsx(_.Provider,{value:x,children:m})};c.displayName=s+"Provider";function f(h,p){var _;const m=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,v=P.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,f]}const r=()=>{const s=n.map(o=>P.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return r.scopeName=t,[i,aV(r,...e)]}function aV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function vh(t){const e=cV(t),n=P.forwardRef((i,r)=>{const{children:s,...o}=i,a=P.Children.toArray(s),l=a.find(dV);if(l){const c=l.props.children,f=a.map(h=>h===l?P.Children.count(c)>1?P.Children.only(null):P.isValidElement(c)?c.props.children:null:h);return E.jsx(e,{...o,ref:r,children:P.isValidElement(c)?P.cloneElement(c,void 0,f):null})}return E.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}var lV=vh("Slot");function cV(t){const e=P.forwardRef((n,i)=>{const{children:r,...s}=n;if(P.isValidElement(r)){const o=hV(r),a=fV(s,r.props);return r.type!==P.Fragment&&(a.ref=i?t3(i,o):o),P.cloneElement(r,a)}return P.Children.count(r)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var n3=Symbol("radix.slottable");function uV(t){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=n3,e}function dV(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===n3}function fV(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function hV(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pV(t){const e=t+"CollectionProvider",[n,i]=xd(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:x,children:g}=_,w=Ne.useRef(null),S=Ne.useRef(new Map).current;return E.jsx(r,{scope:x,itemMap:S,collectionRef:w,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=vh(a),c=Ne.forwardRef((_,x)=>{const{scope:g,children:w}=_,S=s(a,g),b=Wi(x,S.collectionRef);return E.jsx(l,{ref:b,children:w})});c.displayName=a;const f=t+"CollectionItemSlot",h="data-radix-collection-item",p=vh(f),m=Ne.forwardRef((_,x)=>{const{scope:g,children:w,...S}=_,b=Ne.useRef(null),A=Wi(x,b),C=s(f,g);return Ne.useEffect(()=>(C.itemMap.set(b,{ref:b,...S}),()=>void C.itemMap.delete(b))),E.jsx(p,{[h]:"",ref:A,children:w})});m.displayName=f;function v(_){const x=s(t+"CollectionConsumer",_);return Ne.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((C,N)=>S.indexOf(C.ref.current)-S.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},v,i]}var mV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cn=mV.reduce((t,e)=>{const n=vh(`Primitive.${e}`),i=P.forwardRef((r,s)=>{const{asChild:o,...a}=r,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function i3(t,e){t&&sp.flushSync(()=>t.dispatchEvent(e))}function Ks(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function gV(t,e=globalThis==null?void 0:globalThis.document){const n=Ks(t);P.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var vV="DismissableLayer",xw="dismissableLayer.update",yV="dismissableLayer.pointerDownOutside",xV="dismissableLayer.focusOutside",CC,r3=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ny=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=P.useContext(r3),[f,h]=P.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=P.useState({}),v=Wi(e,N=>h(N)),_=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=_.indexOf(x),w=f?_.indexOf(f):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,b=w>=g,A=wV(N=>{const k=N.target,L=[...c.branches].some(I=>I.contains(k));!b||L||(r==null||r(N),o==null||o(N),N.defaultPrevented||a==null||a())},p),C=SV(N=>{const k=N.target;[...c.branches].some(I=>I.contains(k))||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},p);return gV(N=>{w===c.layers.size-1&&(i==null||i(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},p),P.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(CC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),PC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=CC)}},[f,p,n,c]),P.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),PC())},[f,c]),P.useEffect(()=>{const N=()=>m({});return document.addEventListener(xw,N),()=>document.removeEventListener(xw,N)},[]),E.jsx(Cn.div,{...l,ref:v,style:{pointerEvents:S?b?"auto":"none":void 0,...t.style},onFocusCapture:dn(t.onFocusCapture,C.onFocusCapture),onBlurCapture:dn(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:dn(t.onPointerDownCapture,A.onPointerDownCapture)})});Ny.displayName=vV;var _V="DismissableLayerBranch",s3=P.forwardRef((t,e)=>{const n=P.useContext(r3),i=P.useRef(null),r=Wi(e,i);return P.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),E.jsx(Cn.div,{...t,ref:r})});s3.displayName=_V;function wV(t,e=globalThis==null?void 0:globalThis.document){const n=Ks(t),i=P.useRef(!1),r=P.useRef(()=>{});return P.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){o3(yV,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function SV(t,e=globalThis==null?void 0:globalThis.document){const n=Ks(t),i=P.useRef(!1);return P.useEffect(()=>{const r=s=>{s.target&&!i.current&&o3(xV,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function PC(){const t=new CustomEvent(xw);document.dispatchEvent(t)}function o3(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?i3(r,s):r.dispatchEvent(s)}var MV=Ny,EV=s3,Io=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},bV="Portal",zM=P.forwardRef((t,e)=>{var a;const{container:n,...i}=t,[r,s]=P.useState(!1);Io(()=>s(!0),[]);const o=n||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?JI.createPortal(E.jsx(Cn.div,{...i,ref:e}),o):null});zM.displayName=bV;function TV(t,e){return P.useReducer((n,i)=>e[n][i]??n,t)}var _d=t=>{const{present:e,children:n}=t,i=AV(e),r=typeof n=="function"?n({present:i.isPresent}):P.Children.only(n),s=Wi(i.ref,CV(r));return typeof n=="function"||i.isPresent?P.cloneElement(r,{ref:s}):null};_d.displayName="Presence";function AV(t){const[e,n]=P.useState(),i=P.useRef(null),r=P.useRef(t),s=P.useRef("none"),o=t?"mounted":"unmounted",[a,l]=TV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const c=Vm(i.current);s.current=a==="mounted"?c:"none"},[a]),Io(()=>{const c=i.current,f=r.current;if(f!==t){const p=s.current,m=Vm(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&p!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,l]),Io(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,h=m=>{const _=Vm(i.current).includes(m.animationName);if(m.target===e&&_&&(l("ANIMATION_END"),!r.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=m=>{m.target===e&&(s.current=Vm(i.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:P.useCallback(c=>{i.current=c?getComputedStyle(c):null,n(c)},[])}}function Vm(t){return(t==null?void 0:t.animationName)||"none"}function CV(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var PV=$S[" useInsertionEffect ".trim().toString()]||Io;function a3({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,o]=RV({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:r;{const f=P.useRef(t!==void 0);P.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${i} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,i])}const c=P.useCallback(f=>{var h;if(a){const p=NV(f)?f(t):f;p!==t&&((h=o.current)==null||h.call(o,p))}else s(f)},[a,t,s,o]);return[l,c]}function RV({defaultProp:t,onChange:e}){const[n,i]=P.useState(t),r=P.useRef(n),s=P.useRef(e);return PV(()=>{s.current=e},[e]),P.useEffect(()=>{var o;r.current!==n&&((o=s.current)==null||o.call(s,n),r.current=n)},[n,r]),[n,i,s]}function NV(t){return typeof t=="function"}var LV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),IV="VisuallyHidden",Ly=P.forwardRef((t,e)=>E.jsx(Cn.span,{...t,ref:e,style:{...LV,...t.style}}));Ly.displayName=IV;var DV=Ly,BM="ToastProvider",[VM,kV,OV]=pV("Toast"),[l3,dre]=xd("Toast",[OV]),[UV,Iy]=l3(BM),c3=t=>{const{__scopeToast:e,label:n="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:o}=t,[a,l]=P.useState(null),[c,f]=P.useState(0),h=P.useRef(!1),p=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${BM}\`. Expected non-empty \`string\`.`),E.jsx(VM.Provider,{scope:e,children:E.jsx(UV,{scope:e,label:n,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:P.useCallback(()=>f(m=>m+1),[]),onToastRemove:P.useCallback(()=>f(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};c3.displayName=BM;var u3="ToastViewport",FV=["F8"],_w="toast.viewportPause",ww="toast.viewportResume",d3=P.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:i=FV,label:r="Notifications ({hotkey})",...s}=t,o=Iy(u3,n),a=kV(n),l=P.useRef(null),c=P.useRef(null),f=P.useRef(null),h=P.useRef(null),p=Wi(e,h,o.onViewportChange),m=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;P.useEffect(()=>{const x=g=>{var S;i.length!==0&&i.every(b=>g[b]||g.code===b)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[i]),P.useEffect(()=>{const x=l.current,g=h.current;if(v&&x&&g){const w=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(_w);g.dispatchEvent(C),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(ww);g.dispatchEvent(C),o.isClosePausedRef.current=!1}},b=C=>{!x.contains(C.relatedTarget)&&S()},A=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",w),x.addEventListener("focusout",b),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",A),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",b),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",A),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[v,o.isClosePausedRef]);const _=P.useCallback(({tabbingDirection:x})=>{const w=a().map(S=>{const b=S.ref.current,A=[b,...ZV(b)];return x==="forwards"?A:A.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return P.useEffect(()=>{const x=h.current;if(x){const g=w=>{var A,C,N;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const k=document.activeElement,L=w.shiftKey;if(w.target===x&&L){(A=c.current)==null||A.focus();return}const W=_({tabbingDirection:L?"backwards":"forwards"}),re=W.findIndex(B=>B===k);o_(W.slice(re+1))?w.preventDefault():L?(C=c.current)==null||C.focus():(N=f.current)==null||N.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[a,_]),E.jsxs(EV,{ref:l,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&E.jsx(Sw,{ref:c,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"forwards"});o_(x)}}),E.jsx(VM.Slot,{scope:n,children:E.jsx(Cn.ol,{tabIndex:-1,...s,ref:p})}),v&&E.jsx(Sw,{ref:f,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"backwards"});o_(x)}})]})});d3.displayName=u3;var f3="ToastFocusProxy",Sw=P.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...r}=t,s=Iy(f3,n);return E.jsx(Ly,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&i()}})});Sw.displayName=f3;var op="Toast",zV="toast.swipeStart",BV="toast.swipeMove",VV="toast.swipeCancel",HV="toast.swipeEnd",h3=P.forwardRef((t,e)=>{const{forceMount:n,open:i,defaultOpen:r,onOpenChange:s,...o}=t,[a,l]=a3({prop:i,defaultProp:r??!0,onChange:s,caller:op});return E.jsx(_d,{present:n||a,children:E.jsx(WV,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ks(t.onPause),onResume:Ks(t.onResume),onSwipeStart:dn(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:dn(t.onSwipeMove,c=>{const{x:f,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:dn(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:dn(t.onSwipeEnd,c=>{const{x:f,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});h3.displayName=op;var[jV,GV]=l3(op,{onClose(){}}),WV=P.forwardRef((t,e)=>{const{__scopeToast:n,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...v}=t,_=Iy(op,n),[x,g]=P.useState(null),w=Wi(e,B=>g(B)),S=P.useRef(null),b=P.useRef(null),A=r||_.duration,C=P.useRef(0),N=P.useRef(A),k=P.useRef(0),{onToastAdd:L,onToastRemove:I}=_,j=Ks(()=>{var K;(x==null?void 0:x.contains(document.activeElement))&&((K=_.viewport)==null||K.focus()),o()}),W=P.useCallback(B=>{!B||B===1/0||(window.clearTimeout(k.current),C.current=new Date().getTime(),k.current=window.setTimeout(j,B))},[j]);P.useEffect(()=>{const B=_.viewport;if(B){const K=()=>{W(N.current),c==null||c()},Z=()=>{const ee=new Date().getTime()-C.current;N.current=N.current-ee,window.clearTimeout(k.current),l==null||l()};return B.addEventListener(_w,Z),B.addEventListener(ww,K),()=>{B.removeEventListener(_w,Z),B.removeEventListener(ww,K)}}},[_.viewport,A,l,c,W]),P.useEffect(()=>{s&&!_.isClosePausedRef.current&&W(A)},[s,A,_.isClosePausedRef,W]),P.useEffect(()=>(L(),()=>I()),[L,I]);const re=P.useMemo(()=>x?_3(x):null,[x]);return _.viewport?E.jsxs(E.Fragment,{children:[re&&E.jsx(XV,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:re}),E.jsx(jV,{scope:n,onClose:j,children:sp.createPortal(E.jsx(VM.ItemSlot,{scope:n,children:E.jsx(MV,{asChild:!0,onEscapeKeyDown:dn(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||j(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(Cn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":_.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:dn(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:dn(t.onPointerDown,B=>{B.button===0&&(S.current={x:B.clientX,y:B.clientY})}),onPointerMove:dn(t.onPointerMove,B=>{if(!S.current)return;const K=B.clientX-S.current.x,Z=B.clientY-S.current.y,ee=!!b.current,D=["left","right"].includes(_.swipeDirection),U=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,V=D?U(0,K):0,$=D?0:U(0,Z),Q=B.pointerType==="touch"?10:2,q={x:V,y:$},se={originalEvent:B,delta:q};ee?(b.current=q,Hm(BV,h,se,{discrete:!1})):RC(q,_.swipeDirection,Q)?(b.current=q,Hm(zV,f,se,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(K)>Q||Math.abs(Z)>Q)&&(S.current=null)}),onPointerUp:dn(t.onPointerUp,B=>{const K=b.current,Z=B.target;if(Z.hasPointerCapture(B.pointerId)&&Z.releasePointerCapture(B.pointerId),b.current=null,S.current=null,K){const ee=B.currentTarget,D={originalEvent:B,delta:K};RC(K,_.swipeDirection,_.swipeThreshold)?Hm(HV,m,D,{discrete:!0}):Hm(VV,p,D,{discrete:!0}),ee.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),XV=t=>{const{__scopeToast:e,children:n,...i}=t,r=Iy(op,e),[s,o]=P.useState(!1),[a,l]=P.useState(!1);return qV(()=>o(!0)),P.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:E.jsx(zM,{asChild:!0,children:E.jsx(Ly,{...i,children:s&&E.jsxs(E.Fragment,{children:[r.label," ",n]})})})},$V="ToastTitle",p3=P.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return E.jsx(Cn.div,{...i,ref:e})});p3.displayName=$V;var YV="ToastDescription",m3=P.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return E.jsx(Cn.div,{...i,ref:e})});m3.displayName=YV;var g3="ToastAction",v3=P.forwardRef((t,e)=>{const{altText:n,...i}=t;return n.trim()?E.jsx(x3,{altText:n,asChild:!0,children:E.jsx(HM,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${g3}\`. Expected non-empty \`string\`.`),null)});v3.displayName=g3;var y3="ToastClose",HM=P.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t,r=GV(y3,n);return E.jsx(x3,{asChild:!0,children:E.jsx(Cn.button,{type:"button",...i,ref:e,onClick:dn(t.onClick,r.onClose)})})});HM.displayName=y3;var x3=P.forwardRef((t,e)=>{const{__scopeToast:n,altText:i,...r}=t;return E.jsx(Cn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function _3(t){const e=[];return Array.from(t.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),KV(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(..._3(i))}}),e}function Hm(t,e,n,{discrete:i}){const r=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?i3(r,s):r.dispatchEvent(s)}var RC=(t,e,n=0)=>{const i=Math.abs(t.x),r=Math.abs(t.y),s=i>r;return e==="left"||e==="right"?s&&i>n:!s&&r>n};function qV(t=()=>{}){const e=Ks(t);Io(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[e])}function KV(t){return t.nodeType===t.ELEMENT_NODE}function ZV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function o_(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var QV=c3,w3=d3,S3=h3,M3=p3,E3=m3,b3=v3,T3=HM;function A3(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=A3(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function C3(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=A3(t))&&(i&&(i+=" "),i+=e);return i}const NC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LC=C3,P3=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return LC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(c=>{const f=n==null?void 0:n[c],h=s==null?void 0:s[c];if(f===null)return null;const p=NC(f)||NC(h);return r[c][p]}),a=n&&Object.entries(n).reduce((c,f)=>{let[h,p]=f;return p===void 0||(c[h]=p),c},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((c,f)=>{let{class:h,className:p,...m}=f;return Object.entries(m).every(v=>{let[_,x]=v;return Array.isArray(x)?x.includes({...s,...a}[_]):{...s,...a}[_]===x})?[...c,h,p]:c},[]);return LC(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R3=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>P.createElement("svg",{ref:l,...eH,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:R3("lucide",r),...a},[...o.map(([c,f])=>P.createElement(c,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(t,e)=>{const n=P.forwardRef(({className:i,...r},s)=>P.createElement(tH,{ref:s,iconNode:e,className:R3(`lucide-${JV(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=qt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=qt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=qt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=qt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=qt("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=qt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=qt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=qt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=qt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=qt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=qt("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=qt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=qt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=qt("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=qt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=qt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=qt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=qt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=qt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=qt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=qt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=qt("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=qt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=qt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=qt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=qt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=qt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=qt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),$M="-",aH=t=>{const e=cH(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:o=>{const a=o.split($M);return a[0]===""&&a.length!==1&&a.shift(),j3(a,e)||lH(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},j3=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?j3(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join($M);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},DC=/^\[(.+)\]$/,lH=t=>{if(DC.test(t)){const e=DC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},cH=t=>{const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return dH(Object.entries(t.classGroups),n).forEach(([s,o])=>{Mw(o,i,s,e)}),i},Mw=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:kC(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(uH(r)){Mw(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,o])=>{Mw(o,kC(e,s),n,i)})})},kC=(t,e)=>{let n=t;return e.split($M).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},uH=t=>t.isThemeGetter,dH=(t,e)=>e?t.map(([n,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,r]}):t,fH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,i=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){n.has(s)?n.set(s,o):r(s,o)}}},G3="!",hH=t=>{const{separator:e,experimentalParseClassName:n}=t,i=e.length===1,r=e[0],s=e.length,o=a=>{const l=[];let c=0,f=0,h;for(let x=0;x<a.length;x++){let g=a[x];if(c===0){if(g===r&&(i||a.slice(x,x+s)===e)){l.push(a.slice(f,x)),f=x+s;continue}if(g==="/"){h=x;continue}}g==="["?c++:g==="]"&&c--}const p=l.length===0?a:a.substring(f),m=p.startsWith(G3),v=m?p.substring(1):p,_=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},pH=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},mH=t=>({cache:fH(t.cacheSize),parseClassName:hH(t),...aH(t)}),gH=/\s+/,vH=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=t.trim().split(gH);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let v=!!m,_=i(v?p.substring(0,m):p);if(!_){if(!v){a=c+(a.length>0?" "+a:a);continue}if(_=i(p),!_){a=c+(a.length>0?" "+a:a);continue}v=!1}const x=pH(f).join(":"),g=h?x+G3:x,w=g+_;if(s.includes(w))continue;s.push(w);const S=r(_,v);for(let b=0;b<S.length;++b){const A=S[b];s.push(g+A)}a=c+(a.length>0?" "+a:a)}return a};function yH(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=W3(e))&&(i&&(i+=" "),i+=n);return i}const W3=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=W3(t[i]))&&(n&&(n+=" "),n+=e);return n};function xH(t,...e){let n,i,r,s=o;function o(l){const c=e.reduce((f,h)=>h(f),t());return n=mH(c),i=n.cache.get,r=n.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const f=vH(l,n);return r(l,f),f}return function(){return s(yH.apply(null,arguments))}}const nn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},X3=/^\[(?:([a-z-]+):)?(.+)\]$/i,_H=/^\d+\/\d+$/,wH=new Set(["px","full","screen"]),SH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lo=t=>zu(t)||wH.has(t)||_H.test(t),ta=t=>Sd(t,"length",DH),zu=t=>!!t&&!Number.isNaN(Number(t)),a_=t=>Sd(t,"number",zu),cf=t=>!!t&&Number.isInteger(Number(t)),AH=t=>t.endsWith("%")&&zu(t.slice(0,-1)),Mt=t=>X3.test(t),na=t=>SH.test(t),CH=new Set(["length","size","percentage"]),PH=t=>Sd(t,CH,$3),RH=t=>Sd(t,"position",$3),NH=new Set(["image","url"]),LH=t=>Sd(t,NH,OH),IH=t=>Sd(t,"",kH),uf=()=>!0,Sd=(t,e,n)=>{const i=X3.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},DH=t=>MH.test(t)&&!EH.test(t),$3=()=>!1,kH=t=>bH.test(t),OH=t=>TH.test(t),UH=()=>{const t=nn("colors"),e=nn("spacing"),n=nn("blur"),i=nn("brightness"),r=nn("borderColor"),s=nn("borderRadius"),o=nn("borderSpacing"),a=nn("borderWidth"),l=nn("contrast"),c=nn("grayscale"),f=nn("hueRotate"),h=nn("invert"),p=nn("gap"),m=nn("gradientColorStops"),v=nn("gradientColorStopPositions"),_=nn("inset"),x=nn("margin"),g=nn("opacity"),w=nn("padding"),S=nn("saturate"),b=nn("scale"),A=nn("sepia"),C=nn("skew"),N=nn("space"),k=nn("translate"),L=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Mt,e],W=()=>[Mt,e],re=()=>["",lo,ta],B=()=>["auto",zu,Mt],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Mt],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[zu,Mt];return{cacheSize:500,separator:":",theme:{colors:[uf],spacing:[lo,ta],blur:["none","",na,Mt],brightness:$(),borderColor:[t],borderRadius:["none","","full",na,Mt],borderSpacing:W(),borderWidth:re(),contrast:$(),grayscale:U(),hueRotate:$(),invert:U(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[AH,ta],inset:j(),margin:j(),opacity:$(),padding:W(),saturate:$(),scale:$(),sepia:U(),skew:$(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",Mt]}],container:["container"],columns:[{columns:[na]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Mt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cf,Mt]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Mt]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",cf,Mt]}],"grid-cols":[{"grid-cols":[uf]}],"col-start-end":[{col:["auto",{span:["full",cf,Mt]},Mt]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[uf]}],"row-start-end":[{row:["auto",{span:[cf,Mt]},Mt]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Mt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Mt,e]}],"min-w":[{"min-w":[Mt,e,"min","max","fit"]}],"max-w":[{"max-w":[Mt,e,"none","full","min","max","fit","prose",{screen:[na]},na]}],h:[{h:[Mt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Mt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Mt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Mt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",na,ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",a_]}],"font-family":[{font:[uf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Mt]}],"line-clamp":[{"line-clamp":["none",zu,a_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lo,Mt]}],"list-image":[{"list-image":["none",Mt]}],"list-style-type":[{list:["none","disc","decimal",Mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lo,ta]}],"underline-offset":[{"underline-offset":["auto",lo,Mt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),RH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:Z()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[lo,Mt]}],"outline-w":[{outline:[lo,ta]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[lo,ta]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",na,IH]}],"shadow-color":[{shadow:[uf]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",na,Mt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Mt]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Mt]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[cf,Mt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Mt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[lo,ta,a_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FH=xH(UH);function Hn(...t){return FH(C3(t))}const zH=QV,Y3=P.forwardRef(({className:t,...e},n)=>E.jsx(w3,{ref:n,className:Hn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Y3.displayName=w3.displayName;const BH=P3("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),q3=P.forwardRef(({className:t,variant:e,...n},i)=>E.jsx(S3,{ref:i,className:Hn(BH({variant:e}),t),...n}));q3.displayName=S3.displayName;const VH=P.forwardRef(({className:t,...e},n)=>E.jsx(b3,{ref:n,className:Hn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));VH.displayName=b3.displayName;const K3=P.forwardRef(({className:t,...e},n)=>E.jsx(T3,{ref:n,className:Hn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:E.jsx(WM,{className:"h-4 w-4"})}));K3.displayName=T3.displayName;const Z3=P.forwardRef(({className:t,...e},n)=>E.jsx(M3,{ref:n,className:Hn("text-sm font-semibold",t),...e}));Z3.displayName=M3.displayName;const Q3=P.forwardRef(({className:t,...e},n)=>E.jsx(E3,{ref:n,className:Hn("text-sm opacity-90",t),...e}));Q3.displayName=E3.displayName;function HH(){const{toasts:t}=sV();return E.jsxs(zH,{children:[t.map(function({id:e,title:n,description:i,action:r,...s}){return E.jsxs(q3,{...s,children:[E.jsxs("div",{className:"grid gap-1",children:[n&&E.jsx(Z3,{children:n}),i&&E.jsx(Q3,{children:i})]}),r,E.jsx(K3,{})]},e)}),E.jsx(Y3,{})]})}var OC=["light","dark"],jH="(prefers-color-scheme: dark)",GH=P.createContext(void 0),WH={setTheme:t=>{},themes:[]},XH=()=>{var t;return(t=P.useContext(GH))!=null?t:WH};P.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=r?OC.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,_=!1,x=!0)=>{let g=o?o[v]:v,w=_?v+"|| ''":`'${g}'`,S="";return r&&x&&!_&&OC.includes(v)&&(S+=`d.style.colorScheme = '${v}';`),n==="class"?_||g?S+=`c.add(${w})`:S+="null":g&&(S+=`d[s](n,${w})`),S},m=t?`!function(){${f}${p(t)}}()`:i?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${jH}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${h}}catch(t){}}();`;return P.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var $H=t=>{switch(t){case"success":return KH;case"info":return QH;case"warning":return ZH;case"error":return JH;default:return null}},YH=Array(12).fill(0),qH=({visible:t,className:e})=>Ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ne.createElement("div",{className:"sonner-spinner"},YH.map((n,i)=>Ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),KH=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ZH=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),QH=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),JH=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ej=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),tj=()=>{let[t,e]=Ne.useState(document.hidden);return Ne.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ew=1,nj=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...i}=t,r=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ew++,s=this.toasts.find(a=>a.id===r),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...t,id:r,title:n}),{...a,...t,id:r,dismissible:o,title:n}):a):this.addToast({title:n,...i,dismissible:o,id:r}),r},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=t instanceof Promise?t:t(),r=n!==void 0,s,o=i.then(async l=>{if(s=["resolve",l],Ne.isValidElement(l))r=!1,this.create({id:n,type:"default",message:l});else if(rj(l)&&!l.ok){r=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:f})}else if(e.success!==void 0){r=!1;let c=typeof e.success=="function"?await e.success(l):e.success,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:f})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){r=!1;let c=typeof e.error=="function"?await e.error(l):e.error,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:f})}}).finally(()=>{var l;r&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>s[0]==="reject"?c(s[1]):l(s[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Ew++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ji=new nj,ij=(t,e)=>{let n=(e==null?void 0:e.id)||Ew++;return Ji.addToast({title:t,...e,id:n}),n},rj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",sj=ij,oj=()=>Ji.toasts,aj=()=>Ji.getActiveToasts();Object.assign(sj,{success:Ji.success,info:Ji.info,warning:Ji.warning,error:Ji.error,custom:Ji.custom,message:Ji.message,promise:Ji.promise,dismiss:Ji.dismiss,loading:Ji.loading},{getHistory:oj,getToasts:aj});function lj(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}lj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function jm(t){return t.label!==void 0}var cj=3,uj="32px",dj="16px",UC=4e3,fj=356,hj=14,pj=20,mj=200;function Qr(...t){return t.filter(Boolean).join(" ")}function gj(t){let[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}var vj=t=>{var e,n,i,r,s,o,a,l,c,f,h;let{invert:p,toast:m,unstyled:v,interacting:_,setHeights:x,visibleToasts:g,heights:w,index:S,toasts:b,expanded:A,removeToast:C,defaultRichColors:N,closeButton:k,style:L,cancelButtonStyle:I,actionButtonStyle:j,className:W="",descriptionClassName:re="",duration:B,position:K,gap:Z,loadingIcon:ee,expandByDefault:D,classNames:U,icons:V,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:Q}=t,[q,se]=Ne.useState(null),[me,Te]=Ne.useState(null),[ge,tt]=Ne.useState(!1),[nt,Fe]=Ne.useState(!1),[Xe,X]=Ne.useState(!1),[we,he]=Ne.useState(!1),[Ee,fe]=Ne.useState(!1),[qe,De]=Ne.useState(0),[F,O]=Ne.useState(0),ne=Ne.useRef(m.duration||B||UC),Se=Ne.useRef(null),ye=Ne.useRef(null),xe=S===0,$e=S+1<=g,Ae=m.type,Oe=m.dismissible!==!1,rt=m.className||"",mt=m.descriptionClassName||"",_e=Ne.useMemo(()=>w.findIndex(Me=>Me.toastId===m.id)||0,[w,m.id]),It=Ne.useMemo(()=>{var Me;return(Me=m.closeButton)!=null?Me:k},[m.closeButton,k]),St=Ne.useMemo(()=>m.duration||B||UC,[m.duration,B]),ct=Ne.useRef(0),Ke=Ne.useRef(0),He=Ne.useRef(0),ut=Ne.useRef(null),[Dt,Zt]=K.split("-"),yt=Ne.useMemo(()=>w.reduce((Me,Qe,it)=>it>=_e?Me:Me+Qe.height,0),[w,_e]),Pe=tj(),Y=m.invert||p,Ie=Ae==="loading";Ke.current=Ne.useMemo(()=>_e*Z+yt,[_e,yt]),Ne.useEffect(()=>{ne.current=St},[St]),Ne.useEffect(()=>{tt(!0)},[]),Ne.useEffect(()=>{let Me=ye.current;if(Me){let Qe=Me.getBoundingClientRect().height;return O(Qe),x(it=>[{toastId:m.id,height:Qe,position:m.position},...it]),()=>x(it=>it.filter(kt=>kt.toastId!==m.id))}},[x,m.id]),Ne.useLayoutEffect(()=>{if(!ge)return;let Me=ye.current,Qe=Me.style.height;Me.style.height="auto";let it=Me.getBoundingClientRect().height;Me.style.height=Qe,O(it),x(kt=>kt.find(Gt=>Gt.toastId===m.id)?kt.map(Gt=>Gt.toastId===m.id?{...Gt,height:it}:Gt):[{toastId:m.id,height:it,position:m.position},...kt])},[ge,m.title,m.description,x,m.id]);let Re=Ne.useCallback(()=>{Fe(!0),De(Ke.current),x(Me=>Me.filter(Qe=>Qe.toastId!==m.id)),setTimeout(()=>{C(m)},mj)},[m,C,x,Ke]);Ne.useEffect(()=>{if(m.promise&&Ae==="loading"||m.duration===1/0||m.type==="loading")return;let Me;return A||_||Q&&Pe?(()=>{if(He.current<ct.current){let Qe=new Date().getTime()-ct.current;ne.current=ne.current-Qe}He.current=new Date().getTime()})():ne.current!==1/0&&(ct.current=new Date().getTime(),Me=setTimeout(()=>{var Qe;(Qe=m.onAutoClose)==null||Qe.call(m,m),Re()},ne.current)),()=>clearTimeout(Me)},[A,_,m,Ae,Q,Pe,Re]),Ne.useEffect(()=>{m.delete&&Re()},[Re,m.delete]);function ot(){var Me,Qe,it;return V!=null&&V.loading?Ne.createElement("div",{className:Qr(U==null?void 0:U.loader,(Me=m==null?void 0:m.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":Ae==="loading"},V.loading):ee?Ne.createElement("div",{className:Qr(U==null?void 0:U.loader,(Qe=m==null?void 0:m.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":Ae==="loading"},ee):Ne.createElement(qH,{className:Qr(U==null?void 0:U.loader,(it=m==null?void 0:m.classNames)==null?void 0:it.loader),visible:Ae==="loading"})}return Ne.createElement("li",{tabIndex:0,ref:ye,className:Qr(W,rt,U==null?void 0:U.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[Ae],(n=m==null?void 0:m.classNames)==null?void 0:n[Ae]),"data-sonner-toast":"","data-rich-colors":(i=m.richColors)!=null?i:N,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":ge,"data-promise":!!m.promise,"data-swiped":Ee,"data-removed":nt,"data-visible":$e,"data-y-position":Dt,"data-x-position":Zt,"data-index":S,"data-front":xe,"data-swiping":Xe,"data-dismissible":Oe,"data-type":Ae,"data-invert":Y,"data-swipe-out":we,"data-swipe-direction":me,"data-expanded":!!(A||D&&ge),style:{"--index":S,"--toasts-before":S,"--z-index":b.length-S,"--offset":`${nt?qe:Ke.current}px`,"--initial-height":D?"auto":`${F}px`,...L,...m.style},onDragEnd:()=>{X(!1),se(null),ut.current=null},onPointerDown:Me=>{Ie||!Oe||(Se.current=new Date,De(Ke.current),Me.target.setPointerCapture(Me.pointerId),Me.target.tagName!=="BUTTON"&&(X(!0),ut.current={x:Me.clientX,y:Me.clientY}))},onPointerUp:()=>{var Me,Qe,it,kt;if(we||!Oe)return;ut.current=null;let Gt=Number(((Me=ye.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Nt=Number(((Qe=ye.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),en=new Date().getTime()-((it=Se.current)==null?void 0:it.getTime()),ln=q==="x"?Gt:Nt,Yi=Math.abs(ln)/en;if(Math.abs(ln)>=pj||Yi>.11){De(Ke.current),(kt=m.onDismiss)==null||kt.call(m,m),Te(q==="x"?Gt>0?"right":"left":Nt>0?"down":"up"),Re(),he(!0),fe(!1);return}X(!1),se(null)},onPointerMove:Me=>{var Qe,it,kt,Gt;if(!ut.current||!Oe||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;let Nt=Me.clientY-ut.current.y,en=Me.clientX-ut.current.x,ln=(it=t.swipeDirections)!=null?it:gj(K);!q&&(Math.abs(en)>1||Math.abs(Nt)>1)&&se(Math.abs(en)>Math.abs(Nt)?"x":"y");let Yi={x:0,y:0};q==="y"?(ln.includes("top")||ln.includes("bottom"))&&(ln.includes("top")&&Nt<0||ln.includes("bottom")&&Nt>0)&&(Yi.y=Nt):q==="x"&&(ln.includes("left")||ln.includes("right"))&&(ln.includes("left")&&en<0||ln.includes("right")&&en>0)&&(Yi.x=en),(Math.abs(Yi.x)>0||Math.abs(Yi.y)>0)&&fe(!0),(kt=ye.current)==null||kt.style.setProperty("--swipe-amount-x",`${Yi.x}px`),(Gt=ye.current)==null||Gt.style.setProperty("--swipe-amount-y",`${Yi.y}px`)}},It&&!m.jsx?Ne.createElement("button",{"aria-label":$,"data-disabled":Ie,"data-close-button":!0,onClick:Ie||!Oe?()=>{}:()=>{var Me;Re(),(Me=m.onDismiss)==null||Me.call(m,m)},className:Qr(U==null?void 0:U.closeButton,(r=m==null?void 0:m.classNames)==null?void 0:r.closeButton)},(s=V==null?void 0:V.close)!=null?s:ej):null,m.jsx||P.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Ne.createElement(Ne.Fragment,null,Ae||m.icon||m.promise?Ne.createElement("div",{"data-icon":"",className:Qr(U==null?void 0:U.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ot():null,m.type!=="loading"?m.icon||(V==null?void 0:V[Ae])||$H(Ae):null):null,Ne.createElement("div",{"data-content":"",className:Qr(U==null?void 0:U.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},Ne.createElement("div",{"data-title":"",className:Qr(U==null?void 0:U.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?Ne.createElement("div",{"data-description":"",className:Qr(re,mt,U==null?void 0:U.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),P.isValidElement(m.cancel)?m.cancel:m.cancel&&jm(m.cancel)?Ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:Me=>{var Qe,it;jm(m.cancel)&&Oe&&((it=(Qe=m.cancel).onClick)==null||it.call(Qe,Me),Re())},className:Qr(U==null?void 0:U.cancelButton,(f=m==null?void 0:m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,P.isValidElement(m.action)?m.action:m.action&&jm(m.action)?Ne.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||j,onClick:Me=>{var Qe,it;jm(m.action)&&((it=(Qe=m.action).onClick)==null||it.call(Qe,Me),!Me.defaultPrevented&&Re())},className:Qr(U==null?void 0:U.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function FC(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function yj(t,e){let n={};return[t,e].forEach((i,r)=>{let s=r===1,o=s?"--mobile-offset":"--offset",a=s?dj:uj;function l(c){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof c=="number"?`${c}px`:c})}typeof i=="number"||typeof i=="string"?l(i):typeof i=="object"?["top","right","bottom","left"].forEach(c=>{i[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof i[c]=="number"?`${i[c]}px`:i[c]}):l(a)}),n}var xj=P.forwardRef(function(t,e){let{invert:n,position:i="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:f="light",richColors:h,duration:p,style:m,visibleToasts:v=cj,toastOptions:_,dir:x=FC(),gap:g=hj,loadingIcon:w,icons:S,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:A}=t,[C,N]=Ne.useState([]),k=Ne.useMemo(()=>Array.from(new Set([i].concat(C.filter(Q=>Q.position).map(Q=>Q.position)))),[C,i]),[L,I]=Ne.useState([]),[j,W]=Ne.useState(!1),[re,B]=Ne.useState(!1),[K,Z]=Ne.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=Ne.useRef(null),D=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=Ne.useRef(null),V=Ne.useRef(!1),$=Ne.useCallback(Q=>{N(q=>{var se;return(se=q.find(me=>me.id===Q.id))!=null&&se.delete||Ji.dismiss(Q.id),q.filter(({id:me})=>me!==Q.id)})},[]);return Ne.useEffect(()=>Ji.subscribe(Q=>{if(Q.dismiss){N(q=>q.map(se=>se.id===Q.id?{...se,delete:!0}:se));return}setTimeout(()=>{JI.flushSync(()=>{N(q=>{let se=q.findIndex(me=>me.id===Q.id);return se!==-1?[...q.slice(0,se),{...q[se],...Q},...q.slice(se+1)]:[Q,...q]})})})}),[]),Ne.useEffect(()=>{if(f!=="system"){Z(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:q})=>{Z(q?"dark":"light")})}catch{Q.addListener(({matches:se})=>{try{Z(se?"dark":"light")}catch(me){console.error(me)}})}},[f]),Ne.useEffect(()=>{C.length<=1&&W(!1)},[C]),Ne.useEffect(()=>{let Q=q=>{var se,me;r.every(Te=>q[Te]||q.code===Te)&&(W(!0),(se=ee.current)==null||se.focus()),q.code==="Escape"&&(document.activeElement===ee.current||(me=ee.current)!=null&&me.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),Ne.useEffect(()=>{if(ee.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,V.current=!1)}},[ee.current]),Ne.createElement("section",{ref:e,"aria-label":`${b} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((Q,q)=>{var se;let[me,Te]=Q.split("-");return C.length?Ne.createElement("ol",{key:Q,dir:x==="auto"?FC():x,tabIndex:-1,ref:ee,className:a,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":me,"data-lifted":j&&C.length>1&&!s,"data-x-position":Te,style:{"--front-toast-height":`${((se=L[0])==null?void 0:se.height)||0}px`,"--width":`${fj}px`,"--gap":`${g}px`,...m,...yj(l,c)},onBlur:ge=>{V.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(V.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||V.current||(V.current=!0,U.current=ge.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{re||W(!1)},onDragEnd:()=>W(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},C.filter(ge=>!ge.position&&q===0||ge.position===Q).map((ge,tt)=>{var nt,Fe;return Ne.createElement(vj,{key:ge.id,icons:S,index:tt,toast:ge,defaultRichColors:h,duration:(nt=_==null?void 0:_.duration)!=null?nt:p,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:v,closeButton:(Fe=_==null?void 0:_.closeButton)!=null?Fe:o,interacting:re,position:Q,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:$,toasts:C.filter(Xe=>Xe.position==ge.position),heights:L.filter(Xe=>Xe.position==ge.position),setHeights:I,expandByDefault:s,gap:g,loadingIcon:w,expanded:j,pauseWhenPageIsHidden:A,swipeDirections:t.swipeDirections})})):null}))});const _j=({...t})=>{const{theme:e="system"}=XH();return E.jsx(xj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var wj=$S[" useId ".trim().toString()]||(()=>{}),Sj=0;function l_(t){const[e,n]=P.useState(wj());return Io(()=>{t||n(i=>i??String(Sj++))},[t]),t||(e?`radix-${e}`:"")}const Mj=["top","right","bottom","left"],Va=Math.min,vr=Math.max,Xv=Math.round,Gm=Math.floor,Gs=t=>({x:t,y:t}),Ej={left:"right",right:"left",bottom:"top",top:"bottom"},bj={start:"end",end:"start"};function bw(t,e,n){return vr(t,Va(e,n))}function Do(t,e){return typeof t=="function"?t(e):t}function ko(t){return t.split("-")[0]}function Md(t){return t.split("-")[1]}function YM(t){return t==="x"?"y":"x"}function qM(t){return t==="y"?"height":"width"}const Tj=new Set(["top","bottom"]);function Vs(t){return Tj.has(ko(t))?"y":"x"}function KM(t){return YM(Vs(t))}function Aj(t,e,n){n===void 0&&(n=!1);const i=Md(t),r=KM(t),s=qM(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=$v(o)),[o,$v(o)]}function Cj(t){const e=$v(t);return[Tw(t),e,Tw(e)]}function Tw(t){return t.replace(/start|end/g,e=>bj[e])}const zC=["left","right"],BC=["right","left"],Pj=["top","bottom"],Rj=["bottom","top"];function Nj(t,e,n){switch(t){case"top":case"bottom":return n?e?BC:zC:e?zC:BC;case"left":case"right":return e?Pj:Rj;default:return[]}}function Lj(t,e,n,i){const r=Md(t);let s=Nj(ko(t),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(Tw)))),s}function $v(t){return t.replace(/left|right|bottom|top/g,e=>Ej[e])}function Ij(t){return{top:0,right:0,bottom:0,left:0,...t}}function J3(t){return typeof t!="number"?Ij(t):{top:t,right:t,bottom:t,left:t}}function Yv(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function VC(t,e,n){let{reference:i,floating:r}=t;const s=Vs(e),o=KM(e),a=qM(o),l=ko(e),c=s==="y",f=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,p=i[a]/2-r[a]/2;let m;switch(l){case"top":m={x:f,y:i.y-r.height};break;case"bottom":m={x:f,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:h};break;case"left":m={x:i.x-r.width,y:h};break;default:m={x:i.x,y:i.y}}switch(Md(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const Dj=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:f,y:h}=VC(c,i,l),p=i,m={},v=0;for(let _=0;_<a.length;_++){const{name:x,fn:g}=a[_],{x:w,y:S,data:b,reset:A}=await g({x:f,y:h,initialPlacement:i,placement:p,strategy:r,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});f=w??f,h=S??h,m={...m,[x]:{...m[x],...b}},A&&v<=50&&(v++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(c=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):A.rects),{x:f,y:h}=VC(c,p,l)),_=-1)}return{x:f,y:h,placement:p,strategy:r,middlewareData:m}};async function xh(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Do(e,t),v=J3(m),x=a[p?h==="floating"?"reference":"floating":h],g=Yv(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),w=h==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},A=Yv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(g.top-A.top+v.top)/b.y,bottom:(A.bottom-g.bottom+v.bottom)/b.y,left:(g.left-A.left+v.left)/b.x,right:(A.right-g.right+v.right)/b.x}}const kj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=Do(t,e)||{};if(c==null)return{};const h=J3(f),p={x:n,y:i},m=KM(r),v=qM(m),_=await o.getDimensions(c),x=m==="y",g=x?"top":"left",w=x?"bottom":"right",S=x?"clientHeight":"clientWidth",b=s.reference[v]+s.reference[m]-p[m]-s.floating[v],A=p[m]-s.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let N=C?C[S]:0;(!N||!await(o.isElement==null?void 0:o.isElement(C)))&&(N=a.floating[S]||s.floating[v]);const k=b/2-A/2,L=N/2-_[v]/2-1,I=Va(h[g],L),j=Va(h[w],L),W=I,re=N-_[v]-j,B=N/2-_[v]/2+k,K=bw(W,B,re),Z=!l.arrow&&Md(r)!=null&&B!==K&&s.reference[v]/2-(B<W?I:j)-_[v]/2<0,ee=Z?B<W?B-W:B-re:0;return{[m]:p[m]+ee,data:{[m]:K,centerOffset:B-K-ee,...Z&&{alignmentOffset:ee}},reset:Z}}}),Oj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0,...x}=Do(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=ko(r),w=Vs(a),S=ko(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=p||(S||!_?[$v(a)]:Cj(a)),C=v!=="none";!p&&C&&A.push(...Lj(a,_,v,b));const N=[a,...A],k=await xh(e,x),L=[];let I=((i=s.flip)==null?void 0:i.overflows)||[];if(f&&L.push(k[g]),h){const B=Aj(r,o,b);L.push(k[B[0]],k[B[1]])}if(I=[...I,{placement:r,overflows:L}],!L.every(B=>B<=0)){var j,W;const B=(((j=s.flip)==null?void 0:j.index)||0)+1,K=N[B];if(K&&(!(h==="alignment"?w!==Vs(K):!1)||I.every(D=>D.overflows[0]>0&&Vs(D.placement)===w)))return{data:{index:B,overflows:I},reset:{placement:K}};let Z=(W=I.filter(ee=>ee.overflows[0]<=0).sort((ee,D)=>ee.overflows[1]-D.overflows[1])[0])==null?void 0:W.placement;if(!Z)switch(m){case"bestFit":{var re;const ee=(re=I.filter(D=>{if(C){const U=Vs(D.placement);return U===w||U==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(U=>U>0).reduce((U,V)=>U+V,0)]).sort((D,U)=>D[1]-U[1])[0])==null?void 0:re[0];ee&&(Z=ee);break}case"initialPlacement":Z=a;break}if(r!==Z)return{reset:{placement:Z}}}return{}}}};function HC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function jC(t){return Mj.some(e=>t[e]>=0)}const Uj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=Do(t,e);switch(i){case"referenceHidden":{const s=await xh(e,{...r,elementContext:"reference"}),o=HC(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:jC(o)}}}case"escaped":{const s=await xh(e,{...r,altBoundary:!0}),o=HC(s,n.floating);return{data:{escapedOffsets:o,escaped:jC(o)}}}default:return{}}}}},eD=new Set(["left","top"]);async function Fj(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=ko(n),a=Md(n),l=Vs(n)==="y",c=eD.has(o)?-1:1,f=s&&l?-1:1,h=Do(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*f,y:p*c}:{x:p*c,y:m*f}}const zj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await Fj(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},Bj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:g,y:w}=x;return{x:g,y:w}}},...l}=Do(t,e),c={x:n,y:i},f=await xh(e,l),h=Vs(ko(r)),p=YM(h);let m=c[p],v=c[h];if(s){const x=p==="y"?"top":"left",g=p==="y"?"bottom":"right",w=m+f[x],S=m-f[g];m=bw(w,m,S)}if(o){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",w=v+f[x],S=v-f[g];v=bw(w,v,S)}const _=a.fn({...e,[p]:m,[h]:v});return{..._,data:{x:_.x-n,y:_.y-i,enabled:{[p]:s,[h]:o}}}}}},Vj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Do(t,e),f={x:n,y:i},h=Vs(r),p=YM(h);let m=f[p],v=f[h];const _=Do(a,e),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const S=p==="y"?"height":"width",b=s.reference[p]-s.floating[S]+x.mainAxis,A=s.reference[p]+s.reference[S]-x.mainAxis;m<b?m=b:m>A&&(m=A)}if(c){var g,w;const S=p==="y"?"width":"height",b=eD.has(ko(r)),A=s.reference[h]-s.floating[S]+(b&&((g=o.offset)==null?void 0:g[h])||0)+(b?0:x.crossAxis),C=s.reference[h]+s.reference[S]+(b?0:((w=o.offset)==null?void 0:w[h])||0)-(b?x.crossAxis:0);v<A?v=A:v>C&&(v=C)}return{[p]:m,[h]:v}}}},Hj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Do(t,e),f=await xh(e,c),h=ko(r),p=Md(r),m=Vs(r)==="y",{width:v,height:_}=s.floating;let x,g;h==="top"||h==="bottom"?(x=h,g=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,x=p==="end"?"top":"bottom");const w=_-f.top-f.bottom,S=v-f.left-f.right,b=Va(_-f[x],w),A=Va(v-f[g],S),C=!e.middlewareData.shift;let N=b,k=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=S),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(N=w),C&&!p){const I=vr(f.left,0),j=vr(f.right,0),W=vr(f.top,0),re=vr(f.bottom,0);m?k=v-2*(I!==0||j!==0?I+j:vr(f.left,f.right)):N=_-2*(W!==0||re!==0?W+re:vr(f.top,f.bottom))}await l({...e,availableWidth:k,availableHeight:N});const L=await o.getDimensions(a.floating);return v!==L.width||_!==L.height?{reset:{rects:!0}}:{}}}};function ky(){return typeof window<"u"}function Ed(t){return tD(t)?(t.nodeName||"").toLowerCase():"#document"}function wr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function eo(t){var e;return(e=(tD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tD(t){return ky()?t instanceof Node||t instanceof wr(t).Node:!1}function gs(t){return ky()?t instanceof Element||t instanceof wr(t).Element:!1}function Zs(t){return ky()?t instanceof HTMLElement||t instanceof wr(t).HTMLElement:!1}function GC(t){return!ky()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wr(t).ShadowRoot}const jj=new Set(["inline","contents"]);function ap(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!jj.has(r)}const Gj=new Set(["table","td","th"]);function Wj(t){return Gj.has(Ed(t))}const Xj=[":popover-open",":modal"];function Oy(t){return Xj.some(e=>{try{return t.matches(e)}catch{return!1}})}const $j=["transform","translate","scale","rotate","perspective"],Yj=["transform","translate","scale","rotate","perspective","filter"],qj=["paint","layout","strict","content"];function ZM(t){const e=QM(),n=gs(t)?vs(t):t;return $j.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Yj.some(i=>(n.willChange||"").includes(i))||qj.some(i=>(n.contain||"").includes(i))}function Kj(t){let e=Ha(t);for(;Zs(e)&&!rd(e);){if(ZM(e))return e;if(Oy(e))return null;e=Ha(e)}return null}function QM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Zj=new Set(["html","body","#document"]);function rd(t){return Zj.has(Ed(t))}function vs(t){return wr(t).getComputedStyle(t)}function Uy(t){return gs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ha(t){if(Ed(t)==="html")return t;const e=t.assignedSlot||t.parentNode||GC(t)&&t.host||eo(t);return GC(e)?e.host:e}function nD(t){const e=Ha(t);return rd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zs(e)&&ap(e)?e:nD(e)}function _h(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=nD(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=wr(r);if(s){const a=Aw(o);return e.concat(o,o.visualViewport||[],ap(r)?r:[],a&&n?_h(a):[])}return e.concat(r,_h(r,[],n))}function Aw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function iD(t){const e=vs(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Zs(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,a=Xv(n)!==s||Xv(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function JM(t){return gs(t)?t:t.contextElement}function Bu(t){const e=JM(t);if(!Zs(e))return Gs(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=iD(e);let o=(s?Xv(n.width):n.width)/i,a=(s?Xv(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Qj=Gs(0);function rD(t){const e=wr(t);return!QM()||!e.visualViewport?Qj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Jj(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wr(t)?!1:e}function rc(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=JM(t);let o=Gs(1);e&&(i?gs(i)&&(o=Bu(i)):o=Bu(t));const a=Jj(s,n,i)?rD(s):Gs(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,f=r.width/o.x,h=r.height/o.y;if(s){const p=wr(s),m=i&&gs(i)?wr(i):i;let v=p,_=Aw(v);for(;_&&i&&m!==v;){const x=Bu(_),g=_.getBoundingClientRect(),w=vs(_),S=g.left+(_.clientLeft+parseFloat(w.paddingLeft))*x.x,b=g.top+(_.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,c*=x.y,f*=x.x,h*=x.y,l+=S,c+=b,v=wr(_),_=Aw(v)}}return Yv({width:f,height:h,x:l,y:c})}function eE(t,e){const n=Uy(t).scrollLeft;return e?e.left+n:rc(eo(t)).left+n}function sD(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-(n?0:eE(t,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function e6(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",o=eo(i),a=e?Oy(e.floating):!1;if(i===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Gs(1);const f=Gs(0),h=Zs(i);if((h||!h&&!s)&&((Ed(i)!=="body"||ap(o))&&(l=Uy(i)),Zs(i))){const m=rc(i);c=Bu(i),f.x=m.x+i.clientLeft,f.y=m.y+i.clientTop}const p=o&&!h&&!s?sD(o,l,!0):Gs(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x+p.x,y:n.y*c.y-l.scrollTop*c.y+f.y+p.y}}function t6(t){return Array.from(t.getClientRects())}function n6(t){const e=eo(t),n=Uy(t),i=t.ownerDocument.body,r=vr(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=vr(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+eE(t);const a=-n.scrollTop;return vs(i).direction==="rtl"&&(o+=vr(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function i6(t,e){const n=wr(t),i=eo(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=QM();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}const r6=new Set(["absolute","fixed"]);function s6(t,e){const n=rc(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=Zs(t)?Bu(t):Gs(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function WC(t,e,n){let i;if(e==="viewport")i=i6(t,n);else if(e==="document")i=n6(eo(t));else if(gs(e))i=s6(e,n);else{const r=rD(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Yv(i)}function oD(t,e){const n=Ha(t);return n===e||!gs(n)||rd(n)?!1:vs(n).position==="fixed"||oD(n,e)}function o6(t,e){const n=e.get(t);if(n)return n;let i=_h(t,[],!1).filter(a=>gs(a)&&Ed(a)!=="body"),r=null;const s=vs(t).position==="fixed";let o=s?Ha(t):t;for(;gs(o)&&!rd(o);){const a=vs(o),l=ZM(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&r6.has(r.position)||ap(o)&&!l&&oD(t,o))?i=i.filter(f=>f!==o):r=a,o=Ha(o)}return e.set(t,i),i}function a6(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[...n==="clippingAncestors"?Oy(e)?[]:o6(e,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,f)=>{const h=WC(e,f,r);return c.top=vr(h.top,c.top),c.right=Va(h.right,c.right),c.bottom=Va(h.bottom,c.bottom),c.left=vr(h.left,c.left),c},WC(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function l6(t){const{width:e,height:n}=iD(t);return{width:e,height:n}}function c6(t,e,n){const i=Zs(e),r=eo(e),s=n==="fixed",o=rc(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Gs(0);function c(){l.x=eE(r)}if(i||!i&&!s)if((Ed(e)!=="body"||ap(r))&&(a=Uy(e)),i){const m=rc(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else r&&c();s&&!i&&r&&c();const f=r&&!i&&!s?sD(r,a):Gs(0),h=o.left+a.scrollLeft-l.x-f.x,p=o.top+a.scrollTop-l.y-f.y;return{x:h,y:p,width:o.width,height:o.height}}function c_(t){return vs(t).position==="static"}function XC(t,e){if(!Zs(t)||vs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return eo(t)===n&&(n=n.ownerDocument.body),n}function aD(t,e){const n=wr(t);if(Oy(t))return n;if(!Zs(t)){let r=Ha(t);for(;r&&!rd(r);){if(gs(r)&&!c_(r))return r;r=Ha(r)}return n}let i=XC(t,e);for(;i&&Wj(i)&&c_(i);)i=XC(i,e);return i&&rd(i)&&c_(i)&&!ZM(i)?n:i||Kj(t)||n}const u6=async function(t){const e=this.getOffsetParent||aD,n=this.getDimensions,i=await n(t.floating);return{reference:c6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function d6(t){return vs(t).direction==="rtl"}const f6={convertOffsetParentRelativeRectToViewportRelativeRect:e6,getDocumentElement:eo,getClippingRect:a6,getOffsetParent:aD,getElementRects:u6,getClientRects:t6,getDimensions:l6,getScale:Bu,isElement:gs,isRTL:d6};function lD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function h6(t,e){let n=null,i;const r=eo(t);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:f,top:h,width:p,height:m}=c;if(a||e(),!p||!m)return;const v=Gm(h),_=Gm(r.clientWidth-(f+p)),x=Gm(r.clientHeight-(h+m)),g=Gm(f),S={rootMargin:-v+"px "+-_+"px "+-x+"px "+-g+"px",threshold:vr(0,Va(1,l))||1};let b=!0;function A(C){const N=C[0].intersectionRatio;if(N!==l){if(!b)return o();N?o(!1,N):i=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!lD(c,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(A,{...S,root:r.ownerDocument})}catch{n=new IntersectionObserver(A,S)}n.observe(t)}return o(!0),s}function p6(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=JM(t),f=r||s?[...c?_h(c):[],..._h(e)]:[];f.forEach(g=>{r&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const h=c&&a?h6(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[w]=g;w&&w.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,_=l?rc(t):null;l&&x();function x(){const g=rc(t);_&&!lD(_,g)&&n(),_=g,v=requestAnimationFrame(x)}return n(),()=>{var g;f.forEach(w=>{r&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const m6=zj,g6=Bj,v6=Oj,y6=Hj,x6=Uj,$C=kj,_6=Vj,w6=(t,e,n)=>{const i=new Map,r={platform:f6,...n},s={...r.platform,_c:i};return Dj(t,e,{...r,platform:s})};var S6=typeof document<"u",M6=function(){},av=S6?P.useLayoutEffect:M6;function qv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!qv(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!qv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function cD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function YC(t,e){const n=cD(t);return Math.round(e*n)/n}function u_(t){const e=P.useRef(t);return av(()=>{e.current=t}),e}function E6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,h]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=P.useState(i);qv(p,i)||m(i);const[v,_]=P.useState(null),[x,g]=P.useState(null),w=P.useCallback(D=>{D!==C.current&&(C.current=D,_(D))},[]),S=P.useCallback(D=>{D!==N.current&&(N.current=D,g(D))},[]),b=s||v,A=o||x,C=P.useRef(null),N=P.useRef(null),k=P.useRef(f),L=l!=null,I=u_(l),j=u_(r),W=u_(c),re=P.useCallback(()=>{if(!C.current||!N.current)return;const D={placement:e,strategy:n,middleware:p};j.current&&(D.platform=j.current),w6(C.current,N.current,D).then(U=>{const V={...U,isPositioned:W.current!==!1};B.current&&!qv(k.current,V)&&(k.current=V,sp.flushSync(()=>{h(V)}))})},[p,e,n,j,W]);av(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[c]);const B=P.useRef(!1);av(()=>(B.current=!0,()=>{B.current=!1}),[]),av(()=>{if(b&&(C.current=b),A&&(N.current=A),b&&A){if(I.current)return I.current(b,A,re);re()}},[b,A,re,I,L]);const K=P.useMemo(()=>({reference:C,floating:N,setReference:w,setFloating:S}),[w,S]),Z=P.useMemo(()=>({reference:b,floating:A}),[b,A]),ee=P.useMemo(()=>{const D={position:n,left:0,top:0};if(!Z.floating)return D;const U=YC(Z.floating,f.x),V=YC(Z.floating,f.y);return a?{...D,transform:"translate("+U+"px, "+V+"px)",...cD(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:V}},[n,a,Z.floating,f.x,f.y]);return P.useMemo(()=>({...f,update:re,refs:K,elements:Z,floatingStyles:ee}),[f,re,K,Z,ee])}const b6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?$C({element:i.current,padding:r}).fn(n):{}:i?$C({element:i,padding:r}).fn(n):{}}}},T6=(t,e)=>({...m6(t),options:[t,e]}),A6=(t,e)=>({...g6(t),options:[t,e]}),C6=(t,e)=>({..._6(t),options:[t,e]}),P6=(t,e)=>({...v6(t),options:[t,e]}),R6=(t,e)=>({...y6(t),options:[t,e]}),N6=(t,e)=>({...x6(t),options:[t,e]}),L6=(t,e)=>({...b6(t),options:[t,e]});var I6="Arrow",uD=P.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return E.jsx(Cn.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});uD.displayName=I6;var D6=uD;function k6(t){const[e,n]=P.useState(void 0);return Io(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var dD="Popper",[fD,hD]=xd(dD),[fre,pD]=fD(dD),mD="PopperAnchor",gD=P.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=pD(mD,n),o=P.useRef(null),a=Wi(e,o);return P.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:E.jsx(Cn.div,{...r,ref:a})});gD.displayName=mD;var tE="PopperContent",[O6,U6]=fD(tE),vD=P.forwardRef((t,e)=>{var ge,tt,nt,Fe,Xe,X;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,..._}=t,x=pD(tE,n),[g,w]=P.useState(null),S=Wi(e,we=>w(we)),[b,A]=P.useState(null),C=k6(b),N=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,L=i+(s!=="center"?"-"+s:""),I=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},j=Array.isArray(c)?c:[c],W=j.length>0,re={padding:I,boundary:j.filter(z6),altBoundary:W},{refs:B,floatingStyles:K,placement:Z,isPositioned:ee,middlewareData:D}=E6({strategy:"fixed",placement:L,whileElementsMounted:(...we)=>p6(...we,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[T6({mainAxis:r+k,alignmentAxis:o}),l&&A6({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?C6():void 0,...re}),l&&P6({...re}),R6({...re,apply:({elements:we,rects:he,availableWidth:Ee,availableHeight:fe})=>{const{width:qe,height:De}=he.reference,F=we.floating.style;F.setProperty("--radix-popper-available-width",`${Ee}px`),F.setProperty("--radix-popper-available-height",`${fe}px`),F.setProperty("--radix-popper-anchor-width",`${qe}px`),F.setProperty("--radix-popper-anchor-height",`${De}px`)}}),b&&L6({element:b,padding:a}),B6({arrowWidth:N,arrowHeight:k}),p&&N6({strategy:"referenceHidden",...re})]}),[U,V]=_D(Z),$=Ks(v);Io(()=>{ee&&($==null||$())},[ee,$]);const Q=(ge=D.arrow)==null?void 0:ge.x,q=(tt=D.arrow)==null?void 0:tt.y,se=((nt=D.arrow)==null?void 0:nt.centerOffset)!==0,[me,Te]=P.useState();return Io(()=>{g&&Te(window.getComputedStyle(g).zIndex)},[g]),E.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:ee?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(Fe=D.transformOrigin)==null?void 0:Fe.x,(Xe=D.transformOrigin)==null?void 0:Xe.y].join(" "),...((X=D.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(O6,{scope:n,placedSide:U,onArrowChange:A,arrowX:Q,arrowY:q,shouldHideArrow:se,children:E.jsx(Cn.div,{"data-side":U,"data-align":V,..._,ref:S,style:{..._.style,animation:ee?void 0:"none"}})})})});vD.displayName=tE;var yD="PopperArrow",F6={top:"bottom",right:"left",bottom:"top",left:"right"},xD=P.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=U6(yD,i),o=F6[s.placedSide];return E.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:E.jsx(D6,{...r,ref:n,style:{...r.style,display:"block"}})})});xD.displayName=yD;function z6(t){return t!==null}var B6=t=>({name:"transformOrigin",options:t,fn(e){var x,g,w;const{placement:n,rects:i,middlewareData:r}=e,o=((x=r.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,f]=_D(n),h={start:"0%",center:"50%",end:"100%"}[f],p=(((g=r.arrow)==null?void 0:g.x)??0)+a/2,m=(((w=r.arrow)==null?void 0:w.y)??0)+l/2;let v="",_="";return c==="bottom"?(v=o?h:`${p}px`,_=`${-l}px`):c==="top"?(v=o?h:`${p}px`,_=`${i.floating.height+l}px`):c==="right"?(v=`${-l}px`,_=o?h:`${m}px`):c==="left"&&(v=`${i.floating.width+l}px`,_=o?h:`${m}px`),{data:{x:v,y:_}}}});function _D(t){const[e,n="center"]=t.split("-");return[e,n]}var V6=gD,H6=vD,j6=xD,[Fy,hre]=xd("Tooltip",[hD]),nE=hD(),wD="TooltipProvider",G6=700,qC="tooltip.open",[W6,SD]=Fy(wD),MD=t=>{const{__scopeTooltip:e,delayDuration:n=G6,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=t,o=P.useRef(!0),a=P.useRef(!1),l=P.useRef(0);return P.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),E.jsx(W6,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:P.useCallback(c=>{a.current=c},[]),disableHoverableContent:r,children:s})};MD.displayName=wD;var ED="Tooltip",[pre,zy]=Fy(ED),Cw="TooltipTrigger",X6=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=zy(Cw,n),s=SD(Cw,n),o=nE(n),a=P.useRef(null),l=Wi(e,a,r.onTriggerChange),c=P.useRef(!1),f=P.useRef(!1),h=P.useCallback(()=>c.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),E.jsx(V6,{asChild:!0,...o,children:E.jsx(Cn.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:dn(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:dn(t.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:dn(t.onPointerDown,()=>{r.open&&r.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:dn(t.onFocus,()=>{c.current||r.onOpen()}),onBlur:dn(t.onBlur,r.onClose),onClick:dn(t.onClick,r.onClose)})})});X6.displayName=Cw;var $6="TooltipPortal",[mre,Y6]=Fy($6,{forceMount:void 0}),sd="TooltipContent",bD=P.forwardRef((t,e)=>{const n=Y6(sd,t.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...s}=t,o=zy(sd,t.__scopeTooltip);return E.jsx(_d,{present:i||o.open,children:o.disableHoverableContent?E.jsx(TD,{side:r,...s,ref:e}):E.jsx(q6,{side:r,...s,ref:e})})}),q6=P.forwardRef((t,e)=>{const n=zy(sd,t.__scopeTooltip),i=SD(sd,t.__scopeTooltip),r=P.useRef(null),s=Wi(e,r),[o,a]=P.useState(null),{trigger:l,onClose:c}=n,f=r.current,{onPointerInTransitChange:h}=i,p=P.useCallback(()=>{a(null),h(!1)},[h]),m=P.useCallback((v,_)=>{const x=v.currentTarget,g={x:v.clientX,y:v.clientY},w=eG(g,x.getBoundingClientRect()),S=tG(g,w),b=nG(_.getBoundingClientRect()),A=rG([...S,...b]);a(A),h(!0)},[h]);return P.useEffect(()=>()=>p(),[p]),P.useEffect(()=>{if(l&&f){const v=x=>m(x,f),_=x=>m(x,l);return l.addEventListener("pointerleave",v),f.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",_)}}},[l,f,m,p]),P.useEffect(()=>{if(o){const v=_=>{const x=_.target,g={x:_.clientX,y:_.clientY},w=(l==null?void 0:l.contains(x))||(f==null?void 0:f.contains(x)),S=!iG(g,o);w?p():S&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,f,o,c,p]),E.jsx(TD,{...t,ref:s})}),[K6,Z6]=Fy(ED,{isInside:!1}),Q6=uV("TooltipContent"),TD=P.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=zy(sd,n),c=nE(n),{onClose:f}=l;return P.useEffect(()=>(document.addEventListener(qC,f),()=>document.removeEventListener(qC,f)),[f]),P.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,f]),E.jsx(Ny,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:E.jsxs(H6,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(Q6,{children:i}),E.jsx(K6,{scope:n,isInside:!0,children:E.jsx(DV,{id:l.contentId,role:"tooltip",children:r||i})})]})})});bD.displayName=sd;var AD="TooltipArrow",J6=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=nE(n);return Z6(AD,n).isInside?null:E.jsx(j6,{...r,...i,ref:e})});J6.displayName=AD;function eG(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,i,r,s)){case s:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function tG(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function nG(t){const{top:e,right:n,bottom:i,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:i},{x:r,y:i}]}function iG(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,f=a.y,h=l.x,p=l.y;f>i!=p>i&&n<(h-c)*(i-f)/(p-f)+c&&(r=!r)}return r}function rG(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),sG(e)}function sG(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const r=t[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const r=t[i];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var oG=MD,CD=bD;const aG=oG,lG=P.forwardRef(({className:t,sideOffset:e=4,...n},i)=>E.jsx(CD,{ref:i,sideOffset:e,className:Hn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));lG.displayName=CD.displayName;var By=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vy=typeof window>"u"||"Deno"in globalThis;function rs(){}function cG(t,e){return typeof t=="function"?t(e):t}function uG(t){return typeof t=="number"&&t>=0&&t!==1/0}function dG(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Pw(t,e){return typeof t=="function"?t(e):t}function fG(t,e){return typeof t=="function"?t(e):t}function KC(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=t;if(o){if(i){if(e.queryHash!==iE(o,e.options))return!1}else if(!Sh(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||s&&!s(e))}function ZC(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(wh(e.options.mutationKey)!==wh(s))return!1}else if(!Sh(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function iE(t,e){return((e==null?void 0:e.queryKeyHashFn)||wh)(t)}function wh(t){return JSON.stringify(t,(e,n)=>Rw(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function Sh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Sh(t[n],e[n])):!1}function PD(t,e){if(t===e)return t;const n=QC(t)&&QC(e);if(n||Rw(t)&&Rw(e)){const i=n?t:Object.keys(t),r=i.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},l=new Set(i);let c=0;for(let f=0;f<o;f++){const h=n?f:s[f];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=PD(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return r===o&&c===r?t:a}return e}function QC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Rw(t){if(!JC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!JC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function JC(t){return Object.prototype.toString.call(t)==="[object Object]"}function hG(t){return new Promise(e=>{setTimeout(e,t)})}function pG(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?PD(t,e):e}function mG(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function gG(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var rE=Symbol();function RD(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===rE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Fl,xa,ju,IN,vG=(IN=class extends By{constructor(){super();Ht(this,Fl);Ht(this,xa);Ht(this,ju);wt(this,ju,e=>{if(!Vy&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){pe(this,xa)||this.setEventListener(pe(this,ju))}onUnsubscribe(){var e;this.hasListeners()||((e=pe(this,xa))==null||e.call(this),wt(this,xa,void 0))}setEventListener(e){var n;wt(this,ju,e),(n=pe(this,xa))==null||n.call(this),wt(this,xa,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){pe(this,Fl)!==e&&(wt(this,Fl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof pe(this,Fl)=="boolean"?pe(this,Fl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fl=new WeakMap,xa=new WeakMap,ju=new WeakMap,IN),ND=new vG,Gu,_a,Wu,DN,yG=(DN=class extends By{constructor(){super();Ht(this,Gu,!0);Ht(this,_a);Ht(this,Wu);wt(this,Wu,e=>{if(!Vy&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){pe(this,_a)||this.setEventListener(pe(this,Wu))}onUnsubscribe(){var e;this.hasListeners()||((e=pe(this,_a))==null||e.call(this),wt(this,_a,void 0))}setEventListener(e){var n;wt(this,Wu,e),(n=pe(this,_a))==null||n.call(this),wt(this,_a,e(this.setOnline.bind(this)))}setOnline(e){pe(this,Gu)!==e&&(wt(this,Gu,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return pe(this,Gu)}},Gu=new WeakMap,_a=new WeakMap,Wu=new WeakMap,DN),Kv=new yG;function xG(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}function _G(t){return Math.min(1e3*2**t,3e4)}function LD(t){return(t??"online")==="online"?Kv.isOnline():!0}var ID=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function d_(t){return t instanceof ID}function DD(t){let e=!1,n=0,i=!1,r;const s=xG(),o=_=>{var x;i||(p(new ID(_)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>ND.isFocused()&&(t.networkMode==="always"||Kv.isOnline())&&t.canRun(),f=()=>LD(t.networkMode)&&t.canRun(),h=_=>{var x;i||(i=!0,(x=t.onSuccess)==null||x.call(t,_),r==null||r(),s.resolve(_))},p=_=>{var x;i||(i=!0,(x=t.onError)==null||x.call(t,_),r==null||r(),s.reject(_))},m=()=>new Promise(_=>{var x;r=g=>{(i||c())&&_(g)},(x=t.onPause)==null||x.call(t)}).then(()=>{var _;r=void 0,i||(_=t.onContinue)==null||_.call(t)}),v=()=>{if(i)return;let _;const x=n===0?t.initialPromise:void 0;try{_=x??t.fn()}catch(g){_=Promise.reject(g)}Promise.resolve(_).then(h).catch(g=>{var C;if(i)return;const w=t.retry??(Vy?0:3),S=t.retryDelay??_G,b=typeof S=="function"?S(n,g):S,A=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,g);if(e||!A){p(g);return}n++,(C=t.onFail)==null||C.call(t,n,g),hG(b).then(()=>c()?void 0:m()).then(()=>{e?p(g):v()})})};return{promise:s,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?v():m().then(v),s)}}var wG=t=>setTimeout(t,0);function SG(){let t=[],e=0,n=a=>{a()},i=a=>{a()},r=wG;const s=a=>{e?t.push(a):r(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&r(()=>{i(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{r=a}}}var zi=SG(),zl,kN,kD=(kN=class{constructor(){Ht(this,zl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uG(this.gcTime)&&wt(this,zl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vy?1/0:5*60*1e3))}clearGcTimeout(){pe(this,zl)&&(clearTimeout(pe(this,zl)),wt(this,zl,void 0))}},zl=new WeakMap,kN),Xu,Bl,Hr,Vl,Ei,Qh,Hl,os,go,ON,MG=(ON=class extends kD{constructor(e){super();Ht(this,os);Ht(this,Xu);Ht(this,Bl);Ht(this,Hr);Ht(this,Vl);Ht(this,Ei);Ht(this,Qh);Ht(this,Hl);wt(this,Hl,!1),wt(this,Qh,e.defaultOptions),this.setOptions(e.options),this.observers=[],wt(this,Vl,e.client),wt(this,Hr,pe(this,Vl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,wt(this,Xu,bG(this.options)),this.state=e.state??pe(this,Xu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=pe(this,Ei))==null?void 0:e.promise}setOptions(e){this.options={...pe(this,Qh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,Hr).remove(this)}setData(e,n){const i=pG(this.state.data,e,this.options);return yi(this,os,go).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){yi(this,os,go).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var i,r;const n=(i=pe(this,Ei))==null?void 0:i.promise;return(r=pe(this,Ei))==null||r.cancel(e),n?n.then(rs).catch(rs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,Xu))}isActive(){return this.observers.some(e=>fG(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Pw(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!dG(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=pe(this,Ei))==null||n.continue()}onOnline(){var n;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=pe(this,Ei))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),pe(this,Hr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(pe(this,Ei)&&(pe(this,Hl)?pe(this,Ei).cancel({revert:!0}):pe(this,Ei).cancelRetry()),this.scheduleGc()),pe(this,Hr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yi(this,os,go).call(this,{type:"invalidate"})}fetch(e,n){var c,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(pe(this,Ei))return pe(this,Ei).continueRetry(),pe(this,Ei).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,r=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(wt(this,Hl,!0),i.signal)})},s=()=>{const p=RD(this.options,n),v=(()=>{const _={client:pe(this,Vl),queryKey:this.queryKey,meta:this.meta};return r(_),_})();return wt(this,Hl,!1),this.options.persister?this.options.persister(p,v,this):p(v)},a=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:pe(this,Vl),state:this.state,fetchFn:s};return r(p),p})();(c=this.options.behavior)==null||c.onFetch(a,this),wt(this,Bl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&yi(this,os,go).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=p=>{var m,v,_,x;d_(p)&&p.silent||yi(this,os,go).call(this,{type:"error",error:p}),d_(p)||((v=(m=pe(this,Hr).config).onError)==null||v.call(m,p,this),(x=(_=pe(this,Hr).config).onSettled)==null||x.call(_,this.state.data,p,this)),this.scheduleGc()};return wt(this,Ei,DD({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var m,v,_,x;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(g){l(g);return}(v=(m=pe(this,Hr).config).onSuccess)==null||v.call(m,p,this),(x=(_=pe(this,Hr).config).onSettled)==null||x.call(_,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{yi(this,os,go).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{yi(this,os,go).call(this,{type:"pause"})},onContinue:()=>{yi(this,os,go).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),pe(this,Ei).start()}},Xu=new WeakMap,Bl=new WeakMap,Hr=new WeakMap,Vl=new WeakMap,Ei=new WeakMap,Qh=new WeakMap,Hl=new WeakMap,os=new WeakSet,go=function(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...EG(i.data,this.options),fetchMeta:e.meta??null};case"success":return wt(this,Bl,void 0),{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return d_(r)&&r.revert&&pe(this,Bl)?{...pe(this,Bl),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),zi.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),pe(this,Hr).notify({query:this,type:"updated",action:e})})},ON);function EG(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function bG(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ks,UN,TG=(UN=class extends By{constructor(e={}){super();Ht(this,ks);this.config=e,wt(this,ks,new Map)}build(e,n,i){const r=n.queryKey,s=n.queryHash??iE(r,n);let o=this.get(s);return o||(o=new MG({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){pe(this,ks).has(e.queryHash)||(pe(this,ks).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=pe(this,ks).get(e.queryHash);n&&(e.destroy(),n===e&&pe(this,ks).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return pe(this,ks).get(e)}getAll(){return[...pe(this,ks).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>KC(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>KC(e,i)):n}notify(e){zi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){zi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ks=new WeakMap,UN),Os,Ui,jl,Us,ua,FN,AG=(FN=class extends kD{constructor(e){super();Ht(this,Us);Ht(this,Os);Ht(this,Ui);Ht(this,jl);this.mutationId=e.mutationId,wt(this,Ui,e.mutationCache),wt(this,Os,[]),this.state=e.state||CG(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){pe(this,Os).includes(e)||(pe(this,Os).push(e),this.clearGcTimeout(),pe(this,Ui).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){wt(this,Os,pe(this,Os).filter(n=>n!==e)),this.scheduleGc(),pe(this,Ui).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){pe(this,Os).length||(this.state.status==="pending"?this.scheduleGc():pe(this,Ui).remove(this))}continue(){var e;return((e=pe(this,jl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,l,c,f,h,p,m,v,_,x,g,w,S,b,A,C,N,k;const n=()=>{yi(this,Us,ua).call(this,{type:"continue"})};wt(this,jl,DD({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,I)=>{yi(this,Us,ua).call(this,{type:"failed",failureCount:L,error:I})},onPause:()=>{yi(this,Us,ua).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,Ui).canRun(this)}));const i=this.state.status==="pending",r=!pe(this,jl).canStart();try{if(i)n();else{yi(this,Us,ua).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(s=pe(this,Ui).config).onMutate)==null?void 0:o.call(s,e,this));const I=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));I!==this.state.context&&yi(this,Us,ua).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const L=await pe(this,jl).start();return await((f=(c=pe(this,Ui).config).onSuccess)==null?void 0:f.call(c,L,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,L,e,this.state.context)),await((v=(m=pe(this,Ui).config).onSettled)==null?void 0:v.call(m,L,null,this.state.variables,this.state.context,this)),await((x=(_=this.options).onSettled)==null?void 0:x.call(_,L,null,e,this.state.context)),yi(this,Us,ua).call(this,{type:"success",data:L}),L}catch(L){try{throw await((w=(g=pe(this,Ui).config).onError)==null?void 0:w.call(g,L,e,this.state.context,this)),await((b=(S=this.options).onError)==null?void 0:b.call(S,L,e,this.state.context)),await((C=(A=pe(this,Ui).config).onSettled)==null?void 0:C.call(A,void 0,L,this.state.variables,this.state.context,this)),await((k=(N=this.options).onSettled)==null?void 0:k.call(N,void 0,L,e,this.state.context)),L}finally{yi(this,Us,ua).call(this,{type:"error",error:L})}}finally{pe(this,Ui).runNext(this)}}},Os=new WeakMap,Ui=new WeakMap,jl=new WeakMap,Us=new WeakSet,ua=function(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),zi.batch(()=>{pe(this,Os).forEach(i=>{i.onMutationUpdate(e)}),pe(this,Ui).notify({mutation:this,type:"updated",action:e})})},FN);function CG(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xo,as,Jh,zN,PG=(zN=class extends By{constructor(e={}){super();Ht(this,xo);Ht(this,as);Ht(this,Jh);this.config=e,wt(this,xo,new Set),wt(this,as,new Map),wt(this,Jh,0)}build(e,n,i){const r=new AG({mutationCache:this,mutationId:++Mm(this,Jh)._,options:e.defaultMutationOptions(n),state:i});return this.add(r),r}add(e){pe(this,xo).add(e);const n=Wm(e);if(typeof n=="string"){const i=pe(this,as).get(n);i?i.push(e):pe(this,as).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(pe(this,xo).delete(e)){const n=Wm(e);if(typeof n=="string"){const i=pe(this,as).get(n);if(i)if(i.length>1){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}else i[0]===e&&pe(this,as).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Wm(e);if(typeof n=="string"){const i=pe(this,as).get(n),r=i==null?void 0:i.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){var i;const n=Wm(e);if(typeof n=="string"){const r=(i=pe(this,as).get(n))==null?void 0:i.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zi.batch(()=>{pe(this,xo).forEach(e=>{this.notify({type:"removed",mutation:e})}),pe(this,xo).clear(),pe(this,as).clear()})}getAll(){return Array.from(pe(this,xo))}find(e){const n={exact:!0,...e};return this.getAll().find(i=>ZC(n,i))}findAll(e={}){return this.getAll().filter(n=>ZC(e,n))}notify(e){zi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return zi.batch(()=>Promise.all(e.map(n=>n.continue().catch(rs))))}},xo=new WeakMap,as=new WeakMap,Jh=new WeakMap,zN);function Wm(t){var e;return(e=t.options.scope)==null?void 0:e.id}function eP(t){return{onFetch:(e,n)=>{var f,h,p,m,v;const i=e.options,r=(p=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},g=RD(e.options,e.fetchOptions),w=async(S,b,A)=>{if(_)return Promise.reject();if(b==null&&S.pages.length)return Promise.resolve(S);const N=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:b,direction:A?"backward":"forward",meta:e.options.meta};return x(j),j})(),k=await g(N),{maxPages:L}=e.options,I=A?gG:mG;return{pages:I(S.pages,k,L),pageParams:I(S.pageParams,b,L)}};if(r&&s.length){const S=r==="backward",b=S?RG:tP,A={pages:s,pageParams:o},C=b(i,A);a=await w(A,C,S)}else{const S=t??s.length;do{const b=l===0?o[0]??i.initialPageParam:tP(i,a);if(l>0&&b==null)break;a=await w(a,b),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var _,x;return(x=(_=e.options).persister)==null?void 0:x.call(_,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function tP(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function RG(t,{pages:e,pageParams:n}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,n[0],n):void 0}var En,wa,Sa,$u,Yu,Ma,qu,Ku,BN,NG=(BN=class{constructor(t={}){Ht(this,En);Ht(this,wa);Ht(this,Sa);Ht(this,$u);Ht(this,Yu);Ht(this,Ma);Ht(this,qu);Ht(this,Ku);wt(this,En,t.queryCache||new TG),wt(this,wa,t.mutationCache||new PG),wt(this,Sa,t.defaultOptions||{}),wt(this,$u,new Map),wt(this,Yu,new Map),wt(this,Ma,0)}mount(){Mm(this,Ma)._++,pe(this,Ma)===1&&(wt(this,qu,ND.subscribe(async t=>{t&&(await this.resumePausedMutations(),pe(this,En).onFocus())})),wt(this,Ku,Kv.subscribe(async t=>{t&&(await this.resumePausedMutations(),pe(this,En).onOnline())})))}unmount(){var t,e;Mm(this,Ma)._--,pe(this,Ma)===0&&((t=pe(this,qu))==null||t.call(this),wt(this,qu,void 0),(e=pe(this,Ku))==null||e.call(this),wt(this,Ku,void 0))}isFetching(t){return pe(this,En).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return pe(this,wa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=pe(this,En).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=pe(this,En).build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Pw(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return pe(this,En).findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),r=pe(this,En).get(i.queryHash),s=r==null?void 0:r.state.data,o=cG(e,s);if(o!==void 0)return pe(this,En).build(this,i).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return zi.batch(()=>pe(this,En).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=pe(this,En).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=pe(this,En);zi.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=pe(this,En);return zi.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=zi.batch(()=>pe(this,En).findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(rs).catch(rs)}invalidateQueries(t,e={}){return zi.batch(()=>(pe(this,En).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=zi.batch(()=>pe(this,En).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(rs)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(rs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=pe(this,En).build(this,e);return n.isStaleByTime(Pw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rs).catch(rs)}fetchInfiniteQuery(t){return t.behavior=eP(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rs).catch(rs)}ensureInfiniteQueryData(t){return t.behavior=eP(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Kv.isOnline()?pe(this,wa).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,En)}getMutationCache(){return pe(this,wa)}getDefaultOptions(){return pe(this,Sa)}setDefaultOptions(t){wt(this,Sa,t)}setQueryDefaults(t,e){pe(this,$u).set(wh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...pe(this,$u).values()],n={};return e.forEach(i=>{Sh(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){pe(this,Yu).set(wh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...pe(this,Yu).values()],n={};return e.forEach(i=>{Sh(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...pe(this,Sa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=iE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===rE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...pe(this,Sa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){pe(this,En).clear(),pe(this,wa).clear()}},En=new WeakMap,wa=new WeakMap,Sa=new WeakMap,$u=new WeakMap,Yu=new WeakMap,Ma=new WeakMap,qu=new WeakMap,Ku=new WeakMap,BN),LG=P.createContext(void 0),IG=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(LG.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Mh.apply(this,arguments)}var Ta;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ta||(Ta={}));const nP="popstate";function DG(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Nw("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Zv(r)}return OG(e,n,null,t)}function Vn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function OD(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kG(){return Math.random().toString(36).substr(2,8)}function iP(t,e){return{usr:t.state,key:t.key,idx:e}}function Nw(t,e,n,i){return n===void 0&&(n=null),Mh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bd(e):e,{state:n,key:e&&e.key||i||kG()})}function Zv(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function bd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function OG(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Ta.Pop,l=null,c=f();c==null&&(c=0,o.replaceState(Mh({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=Ta.Pop;let x=f(),g=x==null?null:x-c;c=x,l&&l({action:a,location:_.location,delta:g})}function p(x,g){a=Ta.Push;let w=Nw(_.location,x,g);c=f()+1;let S=iP(w,c),b=_.createHref(w);try{o.pushState(S,"",b)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(b)}s&&l&&l({action:a,location:_.location,delta:1})}function m(x,g){a=Ta.Replace;let w=Nw(_.location,x,g);c=f();let S=iP(w,c),b=_.createHref(w);o.replaceState(S,"",b),s&&l&&l({action:a,location:_.location,delta:0})}function v(x){let g=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof x=="string"?x:Zv(x);return w=w.replace(/ $/,"%20"),Vn(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let _={get action(){return a},get location(){return t(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(nP,h),l=x,()=>{r.removeEventListener(nP,h),l=null}},createHref(x){return e(r,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(x){return o.go(x)}};return _}var rP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rP||(rP={}));function UG(t,e,n){return n===void 0&&(n="/"),FG(t,e,n,!1)}function FG(t,e,n,i){let r=typeof e=="string"?bd(e):e,s=sE(r.pathname||"/",n);if(s==null)return null;let o=UD(t);zG(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=KG(s);a=YG(o[l],c,i)}return a}function UD(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Vn(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=ka([i,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(Vn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),UD(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:XG(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of FD(s.path))r(s,o,l)}),e}function FD(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=FD(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function zG(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$G(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const BG=/^:[\w-]+$/,VG=3,HG=2,jG=1,GG=10,WG=-2,sP=t=>t==="*";function XG(t,e){let n=t.split("/"),i=n.length;return n.some(sP)&&(i+=WG),e&&(i+=HG),n.filter(r=>!sP(r)).reduce((r,s)=>r+(BG.test(s)?VG:s===""?jG:GG),i)}function $G(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function YG(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=oP({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),p=l.route;if(!h&&c&&n&&!i[i.length-1].route.index&&(h=oP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:ka([s,h.pathname]),pathnameBase:eW(ka([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=ka([s,h.pathnameBase]))}return o}function oP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=qG(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,f,h)=>{let{paramName:p,isOptional:m}=f;if(p==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function qG(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),OD(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function KG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return OD(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function ZG(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?bd(t):t;return{pathname:n?n.startsWith("/")?n:QG(n,e):e,search:tW(i),hash:nW(r)}}function QG(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function f_(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JG(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zD(t,e){let n=JG(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function BD(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=bd(t):(r=Mh({},t),Vn(!r.pathname||!r.pathname.includes("?"),f_("?","pathname","search",r)),Vn(!r.pathname||!r.pathname.includes("#"),f_("#","pathname","hash",r)),Vn(!r.search||!r.search.includes("#"),f_("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=ZG(r,a),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const ka=t=>t.join("/").replace(/\/\/+/g,"/"),eW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VD=["post","put","patch","delete"];new Set(VD);const rW=["get",...VD];new Set(rW);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Eh.apply(this,arguments)}const oE=P.createContext(null),sW=P.createContext(null),fc=P.createContext(null),Hy=P.createContext(null),hc=P.createContext({outlet:null,matches:[],isDataRoute:!1}),HD=P.createContext(null);function oW(t,e){let{relative:n}=e===void 0?{}:e;lp()||Vn(!1);let{basename:i,navigator:r}=P.useContext(fc),{hash:s,pathname:o,search:a}=GD(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:ka([i,o])),r.createHref({pathname:l,search:a,hash:s})}function lp(){return P.useContext(Hy)!=null}function cp(){return lp()||Vn(!1),P.useContext(Hy).location}function jD(t){P.useContext(fc).static||P.useLayoutEffect(t)}function aW(){let{isDataRoute:t}=P.useContext(hc);return t?_W():lW()}function lW(){lp()||Vn(!1);let t=P.useContext(oE),{basename:e,future:n,navigator:i}=P.useContext(fc),{matches:r}=P.useContext(hc),{pathname:s}=cp(),o=JSON.stringify(zD(r,n.v7_relativeSplatPath)),a=P.useRef(!1);return jD(()=>{a.current=!0}),P.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let h=BD(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ka([e,h.pathname])),(f.replace?i.replace:i.push)(h,f.state,f)},[e,i,o,s,t])}function GD(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=P.useContext(fc),{matches:r}=P.useContext(hc),{pathname:s}=cp(),o=JSON.stringify(zD(r,i.v7_relativeSplatPath));return P.useMemo(()=>BD(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function cW(t,e){return uW(t,e)}function uW(t,e,n,i){lp()||Vn(!1);let{navigator:r}=P.useContext(fc),{matches:s}=P.useContext(hc),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=cp(),f;if(e){var h;let x=typeof e=="string"?bd(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||Vn(!1),f=x}else f=c;let p=f.pathname||"/",m=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=UG(t,{pathname:m}),_=mW(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ka([l,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ka([l,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,i);return e&&_?P.createElement(Hy.Provider,{value:{location:Eh({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ta.Pop}},_):_}function dW(){let t=xW(),e=iW(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:r},n):null,null)}const fW=P.createElement(dW,null);class hW extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(hc.Provider,{value:this.props.routeContext},P.createElement(HD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pW(t){let{routeContext:e,match:n,children:i}=t,r=P.useContext(oE);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(hc.Provider,{value:e},i)}function mW(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||Vn(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:p,errors:m}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,h,p)=>{let m,v=!1,_=null,x=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||fW,l&&(c<0&&p===0?(v=!0,x=null):c===p&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),w=()=>{let S;return m?S=_:v?S=x:h.route.Component?S=P.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,P.createElement(pW,{match:h,routeContext:{outlet:f,matches:g,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?P.createElement(hW,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var WD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WD||{}),Qv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qv||{});function gW(t){let e=P.useContext(oE);return e||Vn(!1),e}function vW(t){let e=P.useContext(sW);return e||Vn(!1),e}function yW(t){let e=P.useContext(hc);return e||Vn(!1),e}function XD(t){let e=yW(),n=e.matches[e.matches.length-1];return n.route.id||Vn(!1),n.route.id}function xW(){var t;let e=P.useContext(HD),n=vW(Qv.UseRouteError),i=XD(Qv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function _W(){let{router:t}=gW(WD.UseNavigateStable),e=XD(Qv.UseNavigateStable),n=P.useRef(!1);return jD(()=>{n.current=!0}),P.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Eh({fromRouteId:e},s)))},[t,e])}function wW(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Is(t){Vn(!1)}function SW(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ta.Pop,navigator:s,static:o=!1,future:a}=t;lp()&&Vn(!1);let l=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:s,static:o,future:Eh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=bd(i));let{pathname:f="/",search:h="",hash:p="",state:m=null,key:v="default"}=i,_=P.useMemo(()=>{let x=sE(f,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:m,key:v},navigationType:r}},[l,f,h,p,m,v,r]);return _==null?null:P.createElement(fc.Provider,{value:c},P.createElement(Hy.Provider,{children:n,value:_}))}function MW(t){let{children:e,location:n}=t;return cW(Lw(e),n)}new Promise(()=>{});function Lw(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(i,r)=>{if(!P.isValidElement(i))return;let s=[...e,r];if(i.type===P.Fragment){n.push.apply(n,Lw(i.props.children,s));return}i.type!==Is&&Vn(!1),!i.props.index||!i.props.children||Vn(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Lw(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Iw.apply(this,arguments)}function EW(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function bW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TW(t,e){return t.button===0&&(!e||e==="_self")&&!bW(t)}const AW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CW="6";try{window.__reactRouterVersion=CW}catch{}const PW="startTransition",aP=$S[PW];function RW(t){let{basename:e,children:n,future:i,window:r}=t,s=P.useRef();s.current==null&&(s.current=DG({window:r,v5Compat:!0}));let o=s.current,[a,l]=P.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},f=P.useCallback(h=>{c&&aP?aP(()=>l(h)):l(h)},[l,c]);return P.useLayoutEffect(()=>o.listen(f),[o,f]),P.useEffect(()=>wW(i),[i]),P.createElement(SW,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const NW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cr=P.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:f,viewTransition:h}=e,p=EW(e,AW),{basename:m}=P.useContext(fc),v,_=!1;if(typeof c=="string"&&LW.test(c)&&(v=c,NW))try{let S=new URL(window.location.href),b=c.startsWith("//")?new URL(S.protocol+c):new URL(c),A=sE(b.pathname,m);b.origin===S.origin&&A!=null?c=A+b.search+b.hash:_=!0}catch{}let x=oW(c,{relative:r}),g=IW(c,{replace:o,state:a,target:l,preventScrollReset:f,relative:r,viewTransition:h});function w(S){i&&i(S),S.defaultPrevented||g(S)}return P.createElement("a",Iw({},p,{href:v||x,onClick:_||s?i:w,ref:n,target:l}))});var lP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lP||(lP={}));var cP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cP||(cP={}));function IW(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=aW(),c=cp(),f=GD(t,{relative:o});return P.useCallback(h=>{if(TW(h,n)){h.preventDefault();let p=i!==void 0?i:Zv(c)===Zv(f);l(t,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,f,i,r,n,t,s,o,a])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const up="160",DW={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},kW={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},$D=0,Dw=1,YD=2,OW=3,qD=0,jy=1,Gf=2,ss=3,Oo=0,ji=1,zs=2,UW=2,To=0,Xl=1,od=2,kw=3,Ow=4,KD=5,ya=100,ZD=101,QD=102,Uw=103,Fw=104,JD=200,ek=201,tk=202,nk=203,Jv=204,ey=205,ik=206,rk=207,sk=208,ok=209,ak=210,lk=211,ck=212,uk=213,dk=214,fk=0,hk=1,pk=2,bh=3,mk=4,gk=5,vk=6,yk=7,dp=0,xk=1,_k=2,Ws=0,wk=1,Sk=2,Mk=3,aE=4,Ek=5,bk=6,zw="attached",Tk="detached",Gy=300,Uo=301,ja=302,Th=303,Ah=304,Td=306,Ch=1e3,Ai=1001,Ph=1002,In=1003,ty=1004,FW=1004,Wf=1005,zW=1005,kn=1006,lE=1007,BW=1007,Ga=1008,VW=1008,Xs=1009,Ak=1010,Ck=1011,Wy=1012,cE=1013,Mo=1014,ds=1015,ad=1016,uE=1017,dE=1018,Oa=1020,Pk=1021,Bi=1023,Rk=1024,Nk=1025,Ua=1026,sc=1027,Lk=1028,fE=1029,Ik=1030,hE=1031,pE=1033,lv=33776,cv=33777,uv=33778,dv=33779,Bw=35840,Vw=35841,Hw=35842,jw=35843,mE=36196,Gw=37492,Ww=37496,Xw=37808,$w=37809,Yw=37810,qw=37811,Kw=37812,Zw=37813,Qw=37814,Jw=37815,eS=37816,tS=37817,nS=37818,iS=37819,rS=37820,sS=37821,fv=36492,oS=36494,aS=36495,Dk=36283,lS=36284,cS=36285,uS=36286,kk=2200,Ok=2201,Uk=2202,Rh=2300,Nh=2301,hv=2302,Il=2400,Dl=2401,Lh=2402,Xy=2500,gE=2501,HW=0,jW=1,GW=2,vE=3e3,Fa=3001,Fk=3200,zk=3201,Ka=0,Bk=1,yr="",Wn="srgb",Qs="srgb-linear",$y="display-p3",fp="display-p3-linear",Ih="linear",Qt="srgb",Dh="rec709",kh="p3",WW=0,bl=7680,XW=7681,$W=7682,YW=7683,qW=34055,KW=34056,ZW=5386,QW=512,JW=513,e8=514,t8=515,n8=516,i8=517,r8=518,dS=519,Vk=512,Hk=513,jk=514,yE=515,Gk=516,Wk=517,Xk=518,$k=519,Oh=35044,$l=35048,s8=35040,o8=35045,a8=35049,l8=35041,c8=35046,u8=35050,d8=35042,f8="100",fS="300 es",ny=1035,fs=2e3,ld=2001;class jo{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const wi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let uP=1234567;const Yl=Math.PI/180,cd=180/Math.PI;function Sr(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(wi[t&255]+wi[t>>8&255]+wi[t>>16&255]+wi[t>>24&255]+"-"+wi[e&255]+wi[e>>8&255]+"-"+wi[e>>16&15|64]+wi[e>>24&255]+"-"+wi[n&63|128]+wi[n>>8&255]+"-"+wi[n>>16&255]+wi[n>>24&255]+wi[i&255]+wi[i>>8&255]+wi[i>>16&255]+wi[i>>24&255]).toLowerCase()}function An(t,e,n){return Math.max(e,Math.min(n,t))}function xE(t,e){return(t%e+e)%e}function h8(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function p8(t,e,n){return t!==e?(n-t)/(e-t):0}function Xf(t,e,n){return(1-n)*t+n*e}function m8(t,e,n,i){return Xf(t,e,1-Math.exp(-n*i))}function g8(t,e=1){return e-Math.abs(xE(t,e*2)-e)}function v8(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function y8(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function x8(t,e){return t+Math.floor(Math.random()*(e-t+1))}function _8(t,e){return t+Math.random()*(e-t)}function w8(t){return t*(.5-Math.random())}function S8(t){t!==void 0&&(uP=t);let e=uP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function M8(t){return t*Yl}function E8(t){return t*cd}function hS(t){return(t&t-1)===0&&t!==0}function b8(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function iy(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function T8(t,e,n,i,r){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+i)/2),f=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":t.set(a*f,l*h,l*p,a*c);break;case"YZY":t.set(l*p,a*f,l*h,a*c);break;case"ZXZ":t.set(l*h,l*p,a*f,a*c);break;case"XZX":t.set(a*f,l*v,l*m,a*c);break;case"YXY":t.set(l*m,a*f,l*v,a*c);break;case"ZYZ":t.set(l*v,l*m,a*f,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function nr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function bt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const A8={DEG2RAD:Yl,RAD2DEG:cd,generateUUID:Sr,clamp:An,euclideanModulo:xE,mapLinear:h8,inverseLerp:p8,lerp:Xf,damp:m8,pingpong:g8,smoothstep:v8,smootherstep:y8,randInt:x8,randFloat:_8,randFloatSpread:w8,seededRandom:S8,degToRad:M8,radToDeg:E8,isPowerOfTwo:hS,ceilPowerOfTwo:b8,floorPowerOfTwo:iy,setQuaternionFromProperEuler:T8,normalize:bt,denormalize:nr};class ve{constructor(e=0,n=0){ve.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(An(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ct{constructor(e,n,i,r,s,o,a,l,c){Ct.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c)}set(e,n,i,r,s,o,a,l,c){const f=this.elements;return f[0]=e,f[1]=r,f[2]=a,f[3]=n,f[4]=s,f[5]=l,f[6]=i,f[7]=o,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],f=i[4],h=i[7],p=i[2],m=i[5],v=i[8],_=r[0],x=r[3],g=r[6],w=r[1],S=r[4],b=r[7],A=r[2],C=r[5],N=r[8];return s[0]=o*_+a*w+l*A,s[3]=o*x+a*S+l*C,s[6]=o*g+a*b+l*N,s[1]=c*_+f*w+h*A,s[4]=c*x+f*S+h*C,s[7]=c*g+f*b+h*N,s[2]=p*_+m*w+v*A,s[5]=p*x+m*S+v*C,s[8]=p*g+m*b+v*N,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8];return n*o*f-n*a*c-i*s*f+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],h=f*o-a*c,p=a*l-f*s,m=c*s-o*l,v=n*h+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/v;return e[0]=h*_,e[1]=(r*c-f*i)*_,e[2]=(a*i-r*o)*_,e[3]=p*_,e[4]=(f*n-r*l)*_,e[5]=(r*s-a*n)*_,e[6]=m*_,e[7]=(i*l-c*n)*_,e[8]=(o*n-i*s)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(h_.makeScale(e,n)),this}rotate(e){return this.premultiply(h_.makeRotation(-e)),this}translate(e,n){return this.premultiply(h_.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const h_=new Ct;function Yk(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const C8={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Su(t,e){return new C8[t](e)}function Uh(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function qk(){const t=Uh("canvas");return t.style.display="block",t}const dP={};function $f(t){t in dP||(dP[t]=!0,console.warn(t))}const fP=new Ct().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),hP=new Ct().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Xm={[Qs]:{transfer:Ih,primaries:Dh,toReference:t=>t,fromReference:t=>t},[Wn]:{transfer:Qt,primaries:Dh,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[fp]:{transfer:Ih,primaries:kh,toReference:t=>t.applyMatrix3(hP),fromReference:t=>t.applyMatrix3(fP)},[$y]:{transfer:Qt,primaries:kh,toReference:t=>t.convertSRGBToLinear().applyMatrix3(hP),fromReference:t=>t.applyMatrix3(fP).convertLinearToSRGB()}},P8=new Set([Qs,fp]),Wt={enabled:!0,_workingColorSpace:Qs,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!P8.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=Xm[e].toReference,r=Xm[n].fromReference;return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Xm[t].primaries},getTransfer:function(t){return t===yr?Ih:Xm[t].transfer}};function Vu(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function p_(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Oc;class _E{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Oc===void 0&&(Oc=Uh("canvas")),Oc.width=e.width,Oc.height=e.height;const i=Oc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Oc}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Uh("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Vu(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Vu(n[i]/255)*255):n[i]=Vu(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let R8=0;class kl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:R8++}),this.uuid=Sr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(m_(r[o].image)):s.push(m_(r[o]))}else s=m_(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function m_(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?_E.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let N8=0;class On extends jo{constructor(e=On.DEFAULT_IMAGE,n=On.DEFAULT_MAPPING,i=Ai,r=Ai,s=kn,o=Ga,a=Bi,l=Xs,c=On.DEFAULT_ANISOTROPY,f=yr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:N8++}),this.uuid=Sr(),this.name="",this.source=new kl(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ve(0,0),this.repeat=new ve(1,1),this.center=new ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ct,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof f=="string"?this.colorSpace=f:($f("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===Fa?Wn:yr),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Gy)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ch:e.x=e.x-Math.floor(e.x);break;case Ai:e.x=e.x<0?0:1;break;case Ph:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ch:e.y=e.y-Math.floor(e.y);break;case Ai:e.y=e.y<0?0:1;break;case Ph:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return $f("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Wn?Fa:vE}set encoding(e){$f("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Fa?Wn:yr}}On.DEFAULT_IMAGE=null;On.DEFAULT_MAPPING=Gy;On.DEFAULT_ANISOTROPY=1;class Xt{constructor(e=0,n=0,i=0,r=1){Xt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,c=l[0],f=l[4],h=l[8],p=l[1],m=l[5],v=l[9],_=l[2],x=l[6],g=l[10];if(Math.abs(f-p)<.01&&Math.abs(h-_)<.01&&Math.abs(v-x)<.01){if(Math.abs(f+p)<.1&&Math.abs(h+_)<.1&&Math.abs(v+x)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(c+1)/2,b=(m+1)/2,A=(g+1)/2,C=(f+p)/4,N=(h+_)/4,k=(v+x)/4;return S>b&&S>A?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=C/i,s=N/i):b>A?b<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(b),i=C/r,s=k/r):A<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(A),i=N/s,r=k/s),this.set(i,r,s,n),this}let w=Math.sqrt((x-v)*(x-v)+(h-_)*(h-_)+(p-f)*(p-f));return Math.abs(w)<.001&&(w=1),this.x=(x-v)/w,this.y=(h-_)/w,this.z=(p-f)/w,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Kk extends jo{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Xt(0,0,e,n),this.scissorTest=!1,this.viewport=new Xt(0,0,e,n);const r={width:e,height:n,depth:1};i.encoding!==void 0&&($f("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Fa?Wn:yr),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:kn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new On(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new kl(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ys extends Kk{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class Yy extends On{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=In,this.minFilter=In,this.wrapR=Ai,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class L8 extends ys{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Yy(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class wE extends On{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=In,this.minFilter=In,this.wrapR=Ai,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class I8 extends ys{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new wE(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class D8 extends ys{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=n,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,i=e.texture.length;n<i;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class ar{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,a){let l=i[r+0],c=i[r+1],f=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],_=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=f,e[n+3]=h;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=v,e[n+3]=_;return}if(h!==_||l!==p||c!==m||f!==v){let x=1-a;const g=l*p+c*m+f*v+h*_,w=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const A=Math.sqrt(S),C=Math.atan2(A,g*w);x=Math.sin(x*C)/A,a=Math.sin(a*C)/A}const b=a*w;if(l=l*x+p*b,c=c*x+m*b,f=f*x+v*b,h=h*x+_*b,x===1-a){const A=1/Math.sqrt(l*l+c*c+f*f+h*h);l*=A,c*=A,f*=A,h*=A}}e[n]=l,e[n+1]=c,e[n+2]=f,e[n+3]=h}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],f=i[r+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[n]=a*v+f*h+l*m-c*p,e[n+1]=l*v+f*p+c*h-a*m,e[n+2]=c*v+f*m+a*p-l*h,e[n+3]=f*v-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),f=a(r/2),h=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*f*h+c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h-p*m*v;break;case"YXZ":this._x=p*f*h+c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h+p*m*v;break;case"ZXY":this._x=p*f*h-c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h-p*m*v;break;case"ZYX":this._x=p*f*h-c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h+p*m*v;break;case"YZX":this._x=p*f*h+c*m*v,this._y=c*m*h+p*f*v,this._z=c*f*v-p*m*h,this._w=c*f*h-p*m*v;break;case"XZY":this._x=p*f*h-c*m*v,this._y=c*m*h-p*f*v,this._z=c*f*v+p*m*h,this._w=c*f*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],f=n[6],h=n[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(f-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(An(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,f=n._w;return this._x=i*f+o*a+r*c-s*l,this._y=r*f+o*l+s*a-i*c,this._z=s*f+o*c+i*l-r*a,this._w=o*f-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*i+n*this._x,this._y=m*r+n*this._y,this._z=m*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),f=Math.atan2(c,a),h=Math.sin((1-n)*f)/c,p=Math.sin(n*f)/c;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(s),i*Math.cos(s),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,n=0,i=0){H.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(pP.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(pP.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),f=2*(a*n-s*r),h=2*(s*i-o*n);return this.x=n+l*c+o*h-a*f,this.y=i+l*f+a*c-s*h,this.z=r+l*h+s*f-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return g_.copy(this).projectOnVector(e),this.sub(g_)}reflect(e){return this.sub(g_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(An(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const g_=new H,pP=new ar;class Gi{constructor(e=new H(1/0,1/0,1/0),n=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Jr.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Jr.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Jr.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Jr):Jr.fromBufferAttribute(s,o),Jr.applyMatrix4(e.matrixWorld),this.expandByPoint(Jr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),$m.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),$m.copy(i.boundingBox)),$m.applyMatrix4(e.matrixWorld),this.union($m)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Jr),Jr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(df),Ym.subVectors(this.max,df),Uc.subVectors(e.a,df),Fc.subVectors(e.b,df),zc.subVectors(e.c,df),ia.subVectors(Fc,Uc),ra.subVectors(zc,Fc),dl.subVectors(Uc,zc);let n=[0,-ia.z,ia.y,0,-ra.z,ra.y,0,-dl.z,dl.y,ia.z,0,-ia.x,ra.z,0,-ra.x,dl.z,0,-dl.x,-ia.y,ia.x,0,-ra.y,ra.x,0,-dl.y,dl.x,0];return!v_(n,Uc,Fc,zc,Ym)||(n=[1,0,0,0,1,0,0,0,1],!v_(n,Uc,Fc,zc,Ym))?!1:(qm.crossVectors(ia,ra),n=[qm.x,qm.y,qm.z],v_(n,Uc,Fc,zc,Ym))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Jr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Jr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(co[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),co[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),co[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),co[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),co[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),co[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),co[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),co[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(co),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const co=[new H,new H,new H,new H,new H,new H,new H,new H],Jr=new H,$m=new Gi,Uc=new H,Fc=new H,zc=new H,ia=new H,ra=new H,dl=new H,df=new H,Ym=new H,qm=new H,fl=new H;function v_(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){fl.fromArray(t,s);const a=r.x*Math.abs(fl.x)+r.y*Math.abs(fl.y)+r.z*Math.abs(fl.z),l=e.dot(fl),c=n.dot(fl),f=i.dot(fl);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>a)return!1}return!0}const k8=new Gi,ff=new H,y_=new H;let Pi=class{constructor(e=new H,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):k8.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ff.subVectors(e,this.center);const n=ff.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(ff,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(y_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ff.copy(e.center).add(y_)),this.expandByPoint(ff.copy(e.center).sub(y_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const uo=new H,x_=new H,Km=new H,sa=new H,__=new H,Zm=new H,w_=new H;class Ad{constructor(e=new H,n=new H(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,uo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=uo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(uo.copy(this.origin).addScaledVector(this.direction,n),uo.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){x_.copy(e).add(n).multiplyScalar(.5),Km.copy(n).sub(e).normalize(),sa.copy(this.origin).sub(x_);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Km),a=sa.dot(this.direction),l=-sa.dot(Km),c=sa.lengthSq(),f=Math.abs(1-o*o);let h,p,m,v;if(f>0)if(h=o*l-a,p=o*a-l,v=s*f,h>=0)if(p>=-v)if(p<=v){const _=1/f;h*=_,p*=_,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(x_).addScaledVector(Km,p),m}intersectSphere(e,n){uo.subVectors(e.center,this.origin);const i=uo.dot(this.direction),r=uo.dot(uo)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,l;const c=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,uo)!==null}intersectTriangle(e,n,i,r,s){__.subVectors(n,e),Zm.subVectors(i,e),w_.crossVectors(__,Zm);let o=this.direction.dot(w_),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;sa.subVectors(this.origin,e);const l=a*this.direction.dot(Zm.crossVectors(sa,Zm));if(l<0)return null;const c=a*this.direction.dot(__.cross(sa));if(c<0||l+c>o)return null;const f=-a*sa.dot(w_);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ht{constructor(e,n,i,r,s,o,a,l,c,f,h,p,m,v,_,x){ht.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c,f,h,p,m,v,_,x)}set(e,n,i,r,s,o,a,l,c,f,h,p,m,v,_,x){const g=this.elements;return g[0]=e,g[4]=n,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=f,g[10]=h,g[14]=p,g[3]=m,g[7]=v,g[11]=_,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ht().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Bc.setFromMatrixColumn(e,0).length(),s=1/Bc.setFromMatrixColumn(e,1).length(),o=1/Bc.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),f=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*f,m=o*h,v=a*f,_=a*h;n[0]=l*f,n[4]=-l*h,n[8]=c,n[1]=m+v*c,n[5]=p-_*c,n[9]=-a*l,n[2]=_-p*c,n[6]=v+m*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*f,m=l*h,v=c*f,_=c*h;n[0]=p+_*a,n[4]=v*a-m,n[8]=o*c,n[1]=o*h,n[5]=o*f,n[9]=-a,n[2]=m*a-v,n[6]=_+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*f,m=l*h,v=c*f,_=c*h;n[0]=p-_*a,n[4]=-o*h,n[8]=v+m*a,n[1]=m+v*a,n[5]=o*f,n[9]=_-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*f,m=o*h,v=a*f,_=a*h;n[0]=l*f,n[4]=v*c-m,n[8]=p*c+_,n[1]=l*h,n[5]=_*c+p,n[9]=m*c-v,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,_=a*c;n[0]=l*f,n[4]=_-p*h,n[8]=v*h+m,n[1]=h,n[5]=o*f,n[9]=-a*f,n[2]=-c*f,n[6]=m*h+v,n[10]=p-_*h}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,_=a*c;n[0]=l*f,n[4]=-h,n[8]=c*f,n[1]=p*h+_,n[5]=o*f,n[9]=m*h-v,n[2]=v*h-m,n[6]=a*f,n[10]=_*h+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(O8,e,U8)}lookAt(e,n,i){const r=this.elements;return pr.subVectors(e,n),pr.lengthSq()===0&&(pr.z=1),pr.normalize(),oa.crossVectors(i,pr),oa.lengthSq()===0&&(Math.abs(i.z)===1?pr.x+=1e-4:pr.z+=1e-4,pr.normalize(),oa.crossVectors(i,pr)),oa.normalize(),Qm.crossVectors(pr,oa),r[0]=oa.x,r[4]=Qm.x,r[8]=pr.x,r[1]=oa.y,r[5]=Qm.y,r[9]=pr.y,r[2]=oa.z,r[6]=Qm.z,r[10]=pr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],f=i[1],h=i[5],p=i[9],m=i[13],v=i[2],_=i[6],x=i[10],g=i[14],w=i[3],S=i[7],b=i[11],A=i[15],C=r[0],N=r[4],k=r[8],L=r[12],I=r[1],j=r[5],W=r[9],re=r[13],B=r[2],K=r[6],Z=r[10],ee=r[14],D=r[3],U=r[7],V=r[11],$=r[15];return s[0]=o*C+a*I+l*B+c*D,s[4]=o*N+a*j+l*K+c*U,s[8]=o*k+a*W+l*Z+c*V,s[12]=o*L+a*re+l*ee+c*$,s[1]=f*C+h*I+p*B+m*D,s[5]=f*N+h*j+p*K+m*U,s[9]=f*k+h*W+p*Z+m*V,s[13]=f*L+h*re+p*ee+m*$,s[2]=v*C+_*I+x*B+g*D,s[6]=v*N+_*j+x*K+g*U,s[10]=v*k+_*W+x*Z+g*V,s[14]=v*L+_*re+x*ee+g*$,s[3]=w*C+S*I+b*B+A*D,s[7]=w*N+S*j+b*K+A*U,s[11]=w*k+S*W+b*Z+A*V,s[15]=w*L+S*re+b*ee+A*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],f=e[2],h=e[6],p=e[10],m=e[14],v=e[3],_=e[7],x=e[11],g=e[15];return v*(+s*l*h-r*c*h-s*a*p+i*c*p+r*a*m-i*l*m)+_*(+n*l*m-n*c*p+s*o*p-r*o*m+r*c*f-s*l*f)+x*(+n*c*h-n*a*m-s*o*h+i*o*m+s*a*f-i*c*f)+g*(-r*a*f-n*l*h+n*a*p+r*o*h-i*o*p+i*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],m=e[11],v=e[12],_=e[13],x=e[14],g=e[15],w=h*x*c-_*p*c+_*l*m-a*x*m-h*l*g+a*p*g,S=v*p*c-f*x*c-v*l*m+o*x*m+f*l*g-o*p*g,b=f*_*c-v*h*c+v*a*m-o*_*m-f*a*g+o*h*g,A=v*h*l-f*_*l-v*a*p+o*_*p+f*a*x-o*h*x,C=n*w+i*S+r*b+s*A;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/C;return e[0]=w*N,e[1]=(_*p*s-h*x*s-_*r*m+i*x*m+h*r*g-i*p*g)*N,e[2]=(a*x*s-_*l*s+_*r*c-i*x*c-a*r*g+i*l*g)*N,e[3]=(h*l*s-a*p*s-h*r*c+i*p*c+a*r*m-i*l*m)*N,e[4]=S*N,e[5]=(f*x*s-v*p*s+v*r*m-n*x*m-f*r*g+n*p*g)*N,e[6]=(v*l*s-o*x*s-v*r*c+n*x*c+o*r*g-n*l*g)*N,e[7]=(o*p*s-f*l*s+f*r*c-n*p*c-o*r*m+n*l*m)*N,e[8]=b*N,e[9]=(v*h*s-f*_*s-v*i*m+n*_*m+f*i*g-n*h*g)*N,e[10]=(o*_*s-v*a*s+v*i*c-n*_*c-o*i*g+n*a*g)*N,e[11]=(f*a*s-o*h*s-f*i*c+n*h*c+o*i*m-n*a*m)*N,e[12]=A*N,e[13]=(f*_*r-v*h*r+v*i*p-n*_*p-f*i*x+n*h*x)*N,e[14]=(v*a*r-o*_*r-v*i*l+n*_*l+o*i*x-n*a*x)*N,e[15]=(o*h*r-f*a*r+f*i*l-n*h*l-o*i*p+n*a*p)*N,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,f=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,f*a+i,f*l-r*o,0,c*l-r*a,f*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,f=o+o,h=a+a,p=s*c,m=s*f,v=s*h,_=o*f,x=o*h,g=a*h,w=l*c,S=l*f,b=l*h,A=i.x,C=i.y,N=i.z;return r[0]=(1-(_+g))*A,r[1]=(m+b)*A,r[2]=(v-S)*A,r[3]=0,r[4]=(m-b)*C,r[5]=(1-(p+g))*C,r[6]=(x+w)*C,r[7]=0,r[8]=(v+S)*N,r[9]=(x-w)*N,r[10]=(1-(p+_))*N,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Bc.set(r[0],r[1],r[2]).length();const o=Bc.set(r[4],r[5],r[6]).length(),a=Bc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],es.copy(this);const c=1/s,f=1/o,h=1/a;return es.elements[0]*=c,es.elements[1]*=c,es.elements[2]*=c,es.elements[4]*=f,es.elements[5]*=f,es.elements[6]*=f,es.elements[8]*=h,es.elements[9]*=h,es.elements[10]*=h,n.setFromRotationMatrix(es),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o,a=fs){const l=this.elements,c=2*s/(n-e),f=2*s/(i-r),h=(n+e)/(n-e),p=(i+r)/(i-r);let m,v;if(a===fs)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===ld)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,s,o,a=fs){const l=this.elements,c=1/(n-e),f=1/(i-r),h=1/(o-s),p=(n+e)*c,m=(i+r)*f;let v,_;if(a===fs)v=(o+s)*h,_=-2*h;else if(a===ld)v=s*h,_=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*f,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=_,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Bc=new H,es=new ht,O8=new H(0,0,0),U8=new H(1,1,1),oa=new H,Qm=new H,pr=new H,mP=new ht,gP=new ar;class hp{constructor(e=0,n=0,i=0,r=hp.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],f=r[9],h=r[2],p=r[6],m=r[10];switch(n){case"XYZ":this._y=Math.asin(An(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-An(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(An(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-An(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(An(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-An(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return mP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(mP,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return gP.setFromEuler(this),this.setFromQuaternion(gP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}hp.DEFAULT_ORDER="XYZ";class ql{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let F8=0;const vP=new H,Vc=new ar,fo=new ht,Jm=new H,hf=new H,z8=new H,B8=new ar,yP=new H(1,0,0),xP=new H(0,1,0),_P=new H(0,0,1),V8={type:"added"},H8={type:"removed"};class jt extends jo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:F8++}),this.uuid=Sr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=jt.DEFAULT_UP.clone();const e=new H,n=new hp,i=new ar,r=new H(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ht},normalMatrix:{value:new Ct}}),this.matrix=new ht,this.matrixWorld=new ht,this.matrixAutoUpdate=jt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ql,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Vc.setFromAxisAngle(e,n),this.quaternion.multiply(Vc),this}rotateOnWorldAxis(e,n){return Vc.setFromAxisAngle(e,n),this.quaternion.premultiply(Vc),this}rotateX(e){return this.rotateOnAxis(yP,e)}rotateY(e){return this.rotateOnAxis(xP,e)}rotateZ(e){return this.rotateOnAxis(_P,e)}translateOnAxis(e,n){return vP.copy(e).applyQuaternion(this.quaternion),this.position.add(vP.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(yP,e)}translateY(e){return this.translateOnAxis(xP,e)}translateZ(e){return this.translateOnAxis(_P,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(fo.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Jm.copy(e):Jm.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),hf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fo.lookAt(hf,Jm,this.up):fo.lookAt(Jm,hf,this.up),this.quaternion.setFromRotationMatrix(fo),r&&(fo.extractRotation(r.matrixWorld),Vc.setFromRotationMatrix(fo),this.quaternion.premultiply(Vc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(V8)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(H8)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),fo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),fo.multiply(e.parent.matrixWorld)),e.applyMatrix4(fo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hf,e,z8),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hf,B8,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++){const s=n[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),f=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),f.length>0&&(i.images=f),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const c in a){const f=a[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}jt.DEFAULT_UP=new H(0,1,0);jt.DEFAULT_MATRIX_AUTO_UPDATE=!0;jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ts=new H,ho=new H,S_=new H,po=new H,Hc=new H,jc=new H,wP=new H,M_=new H,E_=new H,b_=new H;let eg=!1;class tr{constructor(e=new H,n=new H,i=new H){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),ts.subVectors(e,n),r.cross(ts);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){ts.subVectors(r,n),ho.subVectors(i,n),S_.subVectors(e,n);const o=ts.dot(ts),a=ts.dot(ho),l=ts.dot(S_),c=ho.dot(ho),f=ho.dot(S_),h=o*c-a*a;if(h===0)return s.set(0,0,0),null;const p=1/h,m=(c*l-a*f)*p,v=(o*f-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,po)===null?!1:po.x>=0&&po.y>=0&&po.x+po.y<=1}static getUV(e,n,i,r,s,o,a,l){return eg===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),eg=!0),this.getInterpolation(e,n,i,r,s,o,a,l)}static getInterpolation(e,n,i,r,s,o,a,l){return this.getBarycoord(e,n,i,r,po)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,po.x),l.addScaledVector(o,po.y),l.addScaledVector(a,po.z),l)}static isFrontFacing(e,n,i,r){return ts.subVectors(i,n),ho.subVectors(e,n),ts.cross(ho).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ts.subVectors(this.c,this.b),ho.subVectors(this.a,this.b),ts.cross(ho).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return tr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return tr.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,r,s){return eg===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),eg=!0),tr.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}getInterpolation(e,n,i,r,s){return tr.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return tr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return tr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;Hc.subVectors(r,i),jc.subVectors(s,i),M_.subVectors(e,i);const l=Hc.dot(M_),c=jc.dot(M_);if(l<=0&&c<=0)return n.copy(i);E_.subVectors(e,r);const f=Hc.dot(E_),h=jc.dot(E_);if(f>=0&&h<=f)return n.copy(r);const p=l*h-f*c;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),n.copy(i).addScaledVector(Hc,o);b_.subVectors(e,s);const m=Hc.dot(b_),v=jc.dot(b_);if(v>=0&&m<=v)return n.copy(s);const _=m*c-l*v;if(_<=0&&c>=0&&v<=0)return a=c/(c-v),n.copy(i).addScaledVector(jc,a);const x=f*v-m*h;if(x<=0&&h-f>=0&&m-v>=0)return wP.subVectors(s,r),a=(h-f)/(h-f+(m-v)),n.copy(r).addScaledVector(wP,a);const g=1/(x+_+p);return o=_*g,a=p*g,n.copy(i).addScaledVector(Hc,o).addScaledVector(jc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Zk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},aa={h:0,s:0,l:0},tg={h:0,s:0,l:0};function T_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Ve{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Wn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Wt.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=Wt.workingColorSpace){return this.r=e,this.g=n,this.b=i,Wt.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=Wt.workingColorSpace){if(e=xE(e,1),n=An(n,0,1),i=An(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=T_(o,s,e+1/3),this.g=T_(o,s,e),this.b=T_(o,s,e-1/3)}return Wt.toWorkingColorSpace(this,r),this}setStyle(e,n=Wn){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Wn){const i=Zk[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Vu(e.r),this.g=Vu(e.g),this.b=Vu(e.b),this}copyLinearToSRGB(e){return this.r=p_(e.r),this.g=p_(e.g),this.b=p_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Wn){return Wt.fromWorkingColorSpace(Si.copy(this),e),Math.round(An(Si.r*255,0,255))*65536+Math.round(An(Si.g*255,0,255))*256+Math.round(An(Si.b*255,0,255))}getHexString(e=Wn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Wt.workingColorSpace){Wt.fromWorkingColorSpace(Si.copy(this),n);const i=Si.r,r=Si.g,s=Si.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const f=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=f<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,n=Wt.workingColorSpace){return Wt.fromWorkingColorSpace(Si.copy(this),n),e.r=Si.r,e.g=Si.g,e.b=Si.b,e}getStyle(e=Wn){Wt.fromWorkingColorSpace(Si.copy(this),e);const n=Si.r,i=Si.g,r=Si.b;return e!==Wn?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(aa),this.setHSL(aa.h+e,aa.s+n,aa.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(aa),e.getHSL(tg);const i=Xf(aa.h,tg.h,n),r=Xf(aa.s,tg.s,n),s=Xf(aa.l,tg.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Si=new Ve;Ve.NAMES=Zk;let j8=0;class Ni extends jo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:j8++}),this.uuid=Sr(),this.name="",this.type="Material",this.blending=Xl,this.side=Oo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Jv,this.blendDst=ey,this.blendEquation=ya,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ve(0,0,0),this.blendAlpha=0,this.depthFunc=bh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=dS,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=bl,this.stencilZFail=bl,this.stencilZPass=bl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Xl&&(i.blending=this.blending),this.side!==Oo&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Jv&&(i.blendSrc=this.blendSrc),this.blendDst!==ey&&(i.blendDst=this.blendDst),this.blendEquation!==ya&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==bh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==dS&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==bl&&(i.stencilFail=this.stencilFail),this.stencilZFail!==bl&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==bl&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Za extends Ni{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=dp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _o=G8();function G8(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;!(c&8388608);)c<<=1,f-=8388608;c&=-8388609,f+=947912704,s[l]=c|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Qi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=An(t,-65504,65504),_o.floatView[0]=t;const e=_o.uint32View[0],n=e>>23&511;return _o.baseTable[n]+((e&8388607)>>_o.shiftTable[n])}function Rf(t){const e=t>>10;return _o.uint32View[0]=_o.mantissaTable[_o.offsetTable[e]+(t&1023)]+_o.exponentTable[e],_o.floatView[0]}const W8={toHalfFloat:Qi,fromHalfFloat:Rf},zn=new H,ng=new ve;class Yt{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Oh,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ds,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)ng.fromBufferAttribute(this,n),ng.applyMatrix3(e),this.setXY(n,ng.x,ng.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)zn.fromBufferAttribute(this,n),zn.applyMatrix3(e),this.setXYZ(n,zn.x,zn.y,zn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)zn.fromBufferAttribute(this,n),zn.applyMatrix4(e),this.setXYZ(n,zn.x,zn.y,zn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)zn.fromBufferAttribute(this,n),zn.applyNormalMatrix(e),this.setXYZ(n,zn.x,zn.y,zn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)zn.fromBufferAttribute(this,n),zn.transformDirection(e),this.setXYZ(n,zn.x,zn.y,zn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=nr(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=bt(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=nr(n,this.array)),n}setX(e,n){return this.normalized&&(n=bt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=nr(n,this.array)),n}setY(e,n){return this.normalized&&(n=bt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=nr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=bt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=nr(n,this.array)),n}setW(e,n){return this.normalized&&(n=bt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=bt(n,this.array),i=bt(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=bt(n,this.array),i=bt(i,this.array),r=bt(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=bt(n,this.array),i=bt(i,this.array),r=bt(r,this.array),s=bt(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Oh&&(e.usage=this.usage),e}}class X8 extends Yt{constructor(e,n,i){super(new Int8Array(e),n,i)}}class $8 extends Yt{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class Y8 extends Yt{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class q8 extends Yt{constructor(e,n,i){super(new Int16Array(e),n,i)}}class SE extends Yt{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class K8 extends Yt{constructor(e,n,i){super(new Int32Array(e),n,i)}}class ME extends Yt{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class Z8 extends Yt{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Rf(this.array[e*this.itemSize]);return this.normalized&&(n=nr(n,this.array)),n}setX(e,n){return this.normalized&&(n=bt(n,this.array)),this.array[e*this.itemSize]=Qi(n),this}getY(e){let n=Rf(this.array[e*this.itemSize+1]);return this.normalized&&(n=nr(n,this.array)),n}setY(e,n){return this.normalized&&(n=bt(n,this.array)),this.array[e*this.itemSize+1]=Qi(n),this}getZ(e){let n=Rf(this.array[e*this.itemSize+2]);return this.normalized&&(n=nr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=bt(n,this.array)),this.array[e*this.itemSize+2]=Qi(n),this}getW(e){let n=Rf(this.array[e*this.itemSize+3]);return this.normalized&&(n=nr(n,this.array)),n}setW(e,n){return this.normalized&&(n=bt(n,this.array)),this.array[e*this.itemSize+3]=Qi(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=bt(n,this.array),i=bt(i,this.array)),this.array[e+0]=Qi(n),this.array[e+1]=Qi(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=bt(n,this.array),i=bt(i,this.array),r=bt(r,this.array)),this.array[e+0]=Qi(n),this.array[e+1]=Qi(i),this.array[e+2]=Qi(r),this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=bt(n,this.array),i=bt(i,this.array),r=bt(r,this.array),s=bt(s,this.array)),this.array[e+0]=Qi(n),this.array[e+1]=Qi(i),this.array[e+2]=Qi(r),this.array[e+3]=Qi(s),this}}class Ye extends Yt{constructor(e,n,i){super(new Float32Array(e),n,i)}}class Q8 extends Yt{constructor(e,n,i){super(new Float64Array(e),n,i)}}let J8=0;const zr=new ht,A_=new jt,Gc=new H,mr=new Gi,pf=new Gi,ti=new H;class Tt extends jo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:J8++}),this.uuid=Sr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Yk(e)?ME:SE)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Ct().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return zr.makeRotationFromQuaternion(e),this.applyMatrix4(zr),this}rotateX(e){return zr.makeRotationX(e),this.applyMatrix4(zr),this}rotateY(e){return zr.makeRotationY(e),this.applyMatrix4(zr),this}rotateZ(e){return zr.makeRotationZ(e),this.applyMatrix4(zr),this}translate(e,n,i){return zr.makeTranslation(e,n,i),this.applyMatrix4(zr),this}scale(e,n,i){return zr.makeScale(e,n,i),this.applyMatrix4(zr),this}lookAt(e){return A_.lookAt(e),A_.updateMatrix(),this.applyMatrix4(A_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gc).negate(),this.translate(Gc.x,Gc.y,Gc.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ye(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];mr.setFromBufferAttribute(s),this.morphTargetsRelative?(ti.addVectors(this.boundingBox.min,mr.min),this.boundingBox.expandByPoint(ti),ti.addVectors(this.boundingBox.max,mr.max),this.boundingBox.expandByPoint(ti)):(this.boundingBox.expandByPoint(mr.min),this.boundingBox.expandByPoint(mr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Pi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new H,1/0);return}if(e){const i=this.boundingSphere.center;if(mr.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];pf.setFromBufferAttribute(a),this.morphTargetsRelative?(ti.addVectors(mr.min,pf.min),mr.expandByPoint(ti),ti.addVectors(mr.max,pf.max),mr.expandByPoint(ti)):(mr.expandByPoint(pf.min),mr.expandByPoint(pf.max))}mr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)ti.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(ti));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,f=a.count;c<f;c++)ti.fromBufferAttribute(a,c),l&&(Gc.fromBufferAttribute(e,c),ti.add(Gc)),r=Math.max(r,i.distanceToSquared(ti))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,s=n.normal.array,o=n.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Yt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],f=[];for(let I=0;I<a;I++)c[I]=new H,f[I]=new H;const h=new H,p=new H,m=new H,v=new ve,_=new ve,x=new ve,g=new H,w=new H;function S(I,j,W){h.fromArray(r,I*3),p.fromArray(r,j*3),m.fromArray(r,W*3),v.fromArray(o,I*2),_.fromArray(o,j*2),x.fromArray(o,W*2),p.sub(h),m.sub(h),_.sub(v),x.sub(v);const re=1/(_.x*x.y-x.x*_.y);isFinite(re)&&(g.copy(p).multiplyScalar(x.y).addScaledVector(m,-_.y).multiplyScalar(re),w.copy(m).multiplyScalar(_.x).addScaledVector(p,-x.x).multiplyScalar(re),c[I].add(g),c[j].add(g),c[W].add(g),f[I].add(w),f[j].add(w),f[W].add(w))}let b=this.groups;b.length===0&&(b=[{start:0,count:i.length}]);for(let I=0,j=b.length;I<j;++I){const W=b[I],re=W.start,B=W.count;for(let K=re,Z=re+B;K<Z;K+=3)S(i[K+0],i[K+1],i[K+2])}const A=new H,C=new H,N=new H,k=new H;function L(I){N.fromArray(s,I*3),k.copy(N);const j=c[I];A.copy(j),A.sub(N.multiplyScalar(N.dot(j))).normalize(),C.crossVectors(k,j);const re=C.dot(f[I])<0?-1:1;l[I*4]=A.x,l[I*4+1]=A.y,l[I*4+2]=A.z,l[I*4+3]=re}for(let I=0,j=b.length;I<j;++I){const W=b[I],re=W.start,B=W.count;for(let K=re,Z=re+B;K<Z;K+=3)L(i[K+0]),L(i[K+1]),L(i[K+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Yt(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new H,s=new H,o=new H,a=new H,l=new H,c=new H,f=new H,h=new H;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),_=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(n,v),s.fromBufferAttribute(n,_),o.fromBufferAttribute(n,x),f.subVectors(o,s),h.subVectors(r,s),f.cross(h),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,_),c.fromBufferAttribute(i,x),a.add(f),l.add(f),c.add(f),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=n.count;p<m;p+=3)r.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),f.subVectors(o,s),h.subVectors(r,s),f.cross(h),i.setXYZ(p+0,f.x,f.y,f.z),i.setXYZ(p+1,f.x,f.y,f.z),i.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)ti.fromBufferAttribute(e,n),ti.normalize(),e.setXYZ(n,ti.x,ti.y,ti.z)}toNonIndexed(){function e(a,l){const c=a.array,f=a.itemSize,h=a.normalized,p=new c.constructor(l.length*f);let m=0,v=0;for(let _=0,x=l.length;_<x;_++){a.isInterleavedBufferAttribute?m=l[_]*a.data.stride+a.offset:m=l[_]*f;for(let g=0;g<f;g++)p[v++]=c[m++]}return new Yt(p,f,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Tt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let f=0,h=c.length;f<h;f++){const p=c[f],m=e(p,i);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];f.push(m.toJSON(e.data))}f.length>0&&(r[l]=f,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const f=r[c];this.setAttribute(c,f.clone(n))}const s=e.morphAttributes;for(const c in s){const f=[],h=s[c];for(let p=0,m=h.length;p<m;p++)f.push(h[p].clone(n));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,f=o.length;c<f;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const SP=new ht,hl=new Ad,ig=new Pi,MP=new H,Wc=new H,Xc=new H,$c=new H,C_=new H,rg=new H,sg=new ve,og=new ve,ag=new ve,EP=new H,bP=new H,TP=new H,lg=new H,cg=new H;class $n extends jt{constructor(e=new Tt,n=new Za){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){rg.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const f=a[l],h=s[l];f!==0&&(C_.fromBufferAttribute(h,e),o?rg.addScaledVector(C_,f):rg.addScaledVector(C_.sub(n),f))}n.add(rg)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),ig.copy(i.boundingSphere),ig.applyMatrix4(s),hl.copy(e.ray).recast(e.near),!(ig.containsPoint(hl.origin)===!1&&(hl.intersectSphere(ig,MP)===null||hl.origin.distanceToSquared(MP)>(e.far-e.near)**2))&&(SP.copy(s).invert(),hl.copy(e.ray).applyMatrix4(SP),!(i.boundingBox!==null&&hl.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,hl)))}_computeIntersections(e,n,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,f=s.attributes.uv1,h=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,_=p.length;v<_;v++){const x=p[v],g=o[x.materialIndex],w=Math.max(x.start,m.start),S=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let b=w,A=S;b<A;b+=3){const C=a.getX(b),N=a.getX(b+1),k=a.getX(b+2);r=ug(this,g,e,i,c,f,h,C,N,k),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=x.materialIndex,n.push(r))}}else{const v=Math.max(0,m.start),_=Math.min(a.count,m.start+m.count);for(let x=v,g=_;x<g;x+=3){const w=a.getX(x),S=a.getX(x+1),b=a.getX(x+2);r=ug(this,o,e,i,c,f,h,w,S,b),r&&(r.faceIndex=Math.floor(x/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,_=p.length;v<_;v++){const x=p[v],g=o[x.materialIndex],w=Math.max(x.start,m.start),S=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let b=w,A=S;b<A;b+=3){const C=b,N=b+1,k=b+2;r=ug(this,g,e,i,c,f,h,C,N,k),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=x.materialIndex,n.push(r))}}else{const v=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let x=v,g=_;x<g;x+=3){const w=x,S=x+1,b=x+2;r=ug(this,o,e,i,c,f,h,w,S,b),r&&(r.faceIndex=Math.floor(x/3),n.push(r))}}}}function e9(t,e,n,i,r,s,o,a){let l;if(e.side===ji?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Oo,a),l===null)return null;cg.copy(a),cg.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(cg);return c<n.near||c>n.far?null:{distance:c,point:cg.clone(),object:t}}function ug(t,e,n,i,r,s,o,a,l,c){t.getVertexPosition(a,Wc),t.getVertexPosition(l,Xc),t.getVertexPosition(c,$c);const f=e9(t,e,n,i,Wc,Xc,$c,lg);if(f){r&&(sg.fromBufferAttribute(r,a),og.fromBufferAttribute(r,l),ag.fromBufferAttribute(r,c),f.uv=tr.getInterpolation(lg,Wc,Xc,$c,sg,og,ag,new ve)),s&&(sg.fromBufferAttribute(s,a),og.fromBufferAttribute(s,l),ag.fromBufferAttribute(s,c),f.uv1=tr.getInterpolation(lg,Wc,Xc,$c,sg,og,ag,new ve),f.uv2=f.uv1),o&&(EP.fromBufferAttribute(o,a),bP.fromBufferAttribute(o,l),TP.fromBufferAttribute(o,c),f.normal=tr.getInterpolation(lg,Wc,Xc,$c,EP,bP,TP,new H),f.normal.dot(i.direction)>0&&f.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new H,materialIndex:0};tr.getNormal(Wc,Xc,$c,h.normal),f.face=h}return f}class pc extends Tt{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],f=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,i,n,e,o,s,0),v("z","y","x",1,-1,i,n,-e,o,s,1),v("x","z","y",1,1,e,i,n,r,o,2),v("x","z","y",1,-1,e,i,-n,r,o,3),v("x","y","z",1,-1,e,n,i,r,s,4),v("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ye(c,3)),this.setAttribute("normal",new Ye(f,3)),this.setAttribute("uv",new Ye(h,2));function v(_,x,g,w,S,b,A,C,N,k,L){const I=b/N,j=A/k,W=b/2,re=A/2,B=C/2,K=N+1,Z=k+1;let ee=0,D=0;const U=new H;for(let V=0;V<Z;V++){const $=V*j-re;for(let Q=0;Q<K;Q++){const q=Q*I-W;U[_]=q*w,U[x]=$*S,U[g]=B,c.push(U.x,U.y,U.z),U[_]=0,U[x]=0,U[g]=C>0?1:-1,f.push(U.x,U.y,U.z),h.push(Q/N),h.push(1-V/k),ee+=1}}for(let V=0;V<k;V++)for(let $=0;$<N;$++){const Q=p+$+K*V,q=p+$+K*(V+1),se=p+($+1)+K*(V+1),me=p+($+1)+K*V;l.push(Q,q,me),l.push(q,se,me),D+=6}a.addGroup(m,D,L),m+=D,p+=ee}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ud(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Oi(t){const e={};for(let n=0;n<t.length;n++){const i=ud(t[n]);for(const r in i)e[r]=i[r]}return e}function t9(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Qk(t){return t.getRenderTarget()===null?t.outputColorSpace:Wt.workingColorSpace}const Jk={clone:ud,merge:Oi};var n9=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,i9=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Js extends Ni{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=n9,this.fragmentShader=i9,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ud(e.uniforms),this.uniformsGroups=t9(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class pp extends jt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ht,this.projectionMatrix=new ht,this.projectionMatrixInverse=new ht,this.coordinateSystem=fs}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class ii extends pp{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=cd*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Yl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return cd*2*Math.atan(Math.tan(Yl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Yl*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,n-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Yc=-90,qc=1;class eO extends jt{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ii(Yc,qc,e,n);r.layers=this.layers,this.add(r);const s=new ii(Yc,qc,e,n);s.layers=this.layers,this.add(s);const o=new ii(Yc,qc,e,n);o.layers=this.layers,this.add(o);const a=new ii(Yc,qc,e,n);a.layers=this.layers,this.add(a);const l=new ii(Yc,qc,e,n);l.layers=this.layers,this.add(l);const c=new ii(Yc,qc,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===fs)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===ld)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,f]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,o),e.setRenderTarget(i,2,r),e.render(n,a),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=_,e.setRenderTarget(i,5,r),e.render(n,f),e.setRenderTarget(h,p,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class mp extends On{constructor(e,n,i,r,s,o,a,l,c,f){e=e!==void 0?e:[],n=n!==void 0?n:Uo,super(e,n,i,r,s,o,a,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class tO extends ys{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];n.encoding!==void 0&&($f("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Fa?Wn:yr),this.texture=new mp(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:kn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new pc(5,5,5),s=new Js({name:"CubemapFromEquirect",uniforms:ud(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ji,blending:To});s.uniforms.tEquirect.value=n;const o=new $n(r,s),a=n.minFilter;return n.minFilter===Ga&&(n.minFilter=kn),new eO(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}const P_=new H,r9=new H,s9=new Ct;class ma{constructor(e=new H(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=P_.subVectors(i,n).cross(r9.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(P_),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||s9.getNormalMatrix(e),r=this.coplanarPoint(P_).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const pl=new Pi,dg=new H;class gp{constructor(e=new ma,n=new ma,i=new ma,r=new ma,s=new ma,o=new ma){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=fs){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],f=r[5],h=r[6],p=r[7],m=r[8],v=r[9],_=r[10],x=r[11],g=r[12],w=r[13],S=r[14],b=r[15];if(i[0].setComponents(l-s,p-c,x-m,b-g).normalize(),i[1].setComponents(l+s,p+c,x+m,b+g).normalize(),i[2].setComponents(l+o,p+f,x+v,b+w).normalize(),i[3].setComponents(l-o,p-f,x-v,b-w).normalize(),i[4].setComponents(l-a,p-h,x-_,b-S).normalize(),n===fs)i[5].setComponents(l+a,p+h,x+_,b+S).normalize();else if(n===ld)i[5].setComponents(a,h,_,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),pl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),pl.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(pl)}intersectsSprite(e){return pl.center.set(0,0,0),pl.radius=.7071067811865476,pl.applyMatrix4(e.matrixWorld),this.intersectsSphere(pl)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(dg.x=r.normal.x>0?e.max.x:e.min.x,dg.y=r.normal.y>0?e.max.y:e.min.y,dg.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(dg)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function nO(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function o9(t,e){const n=e.isWebGL2,i=new WeakMap;function r(c,f){const h=c.array,p=c.usage,m=h.byteLength,v=t.createBuffer();t.bindBuffer(f,v),t.bufferData(f,h,p),c.onUploadCallback();let _;if(h instanceof Float32Array)_=t.FLOAT;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)_=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=t.UNSIGNED_SHORT;else if(h instanceof Int16Array)_=t.SHORT;else if(h instanceof Uint32Array)_=t.UNSIGNED_INT;else if(h instanceof Int32Array)_=t.INT;else if(h instanceof Int8Array)_=t.BYTE;else if(h instanceof Uint8Array)_=t.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)_=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:v,type:_,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version,size:m}}function s(c,f,h){const p=f.array,m=f._updateRange,v=f.updateRanges;if(t.bindBuffer(h,c),m.count===-1&&v.length===0&&t.bufferSubData(h,0,p),v.length!==0){for(let _=0,x=v.length;_<x;_++){const g=v[_];n?t.bufferSubData(h,g.start*p.BYTES_PER_ELEMENT,p,g.start,g.count):t.bufferSubData(h,g.start*p.BYTES_PER_ELEMENT,p.subarray(g.start,g.start+g.count))}f.clearUpdateRanges()}m.count!==-1&&(n?t.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),f.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=i.get(c);f&&(t.deleteBuffer(f.buffer),i.delete(c))}function l(c,f){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);if(h===void 0)i.set(c,r(c,f));else if(h.version<c.version){if(h.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(h.buffer,c,f),h.version=c.version}}return{get:o,remove:a,update:l}}class vp extends Tt{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),l=Math.floor(r),c=a+1,f=l+1,h=e/a,p=n/l,m=[],v=[],_=[],x=[];for(let g=0;g<f;g++){const w=g*p-o;for(let S=0;S<c;S++){const b=S*h-s;v.push(b,-w,0),_.push(0,0,1),x.push(S/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let w=0;w<a;w++){const S=w+c*g,b=w+c*(g+1),A=w+1+c*(g+1),C=w+1+c*g;m.push(S,b,C),m.push(b,A,C)}this.setIndex(m),this.setAttribute("position",new Ye(v,3)),this.setAttribute("normal",new Ye(_,3)),this.setAttribute("uv",new Ye(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vp(e.width,e.height,e.widthSegments,e.heightSegments)}}var a9=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,l9=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,c9=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,u9=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,d9=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,f9=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,h9=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,p9=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,m9=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,g9=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,v9=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,y9=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,x9=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,_9=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,w9=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,S9=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,M9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,E9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,b9=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,T9=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,A9=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,C9=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,P9=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,R9=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,N9=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,L9=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,I9=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,D9=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,k9=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,O9=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,U9="gl_FragColor = linearToOutputTexel( gl_FragColor );",F9=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,z9=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,B9=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,V9=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,H9=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,j9=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,G9=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,W9=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,X9=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$9=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Y9=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,q9=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,K9=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Z9=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Q9=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,J9=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,e7=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,t7=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,n7=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,i7=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,r7=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,s7=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,o7=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,a7=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,l7=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,c7=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,u7=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,d7=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,f7=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,h7=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,p7=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,m7=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,g7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,v7=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,y7=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,x7=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,_7=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,w7=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,S7=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,M7=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,E7=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,b7=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,T7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,A7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,C7=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,P7=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,R7=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,N7=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,L7=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,I7=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,D7=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,k7=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,O7=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,U7=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,F7=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,z7=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,B7=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,V7=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,H7=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,j7=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,G7=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,W7=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,X7=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$7=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Y7=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,q7=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,K7=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Z7=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Q7=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,J7=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,eX=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,tX=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,nX=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,iX=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rX=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,sX=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const oX=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,aX=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cX=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dX=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fX=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,hX=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,pX=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,mX=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,gX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,vX=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yX=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xX=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_X=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,wX=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SX=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MX=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EX=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,bX=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TX=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,AX=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,CX=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PX=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RX=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,NX=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LX=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,IX=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DX=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,kX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,OX=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,UX=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,FX=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Et={alphahash_fragment:a9,alphahash_pars_fragment:l9,alphamap_fragment:c9,alphamap_pars_fragment:u9,alphatest_fragment:d9,alphatest_pars_fragment:f9,aomap_fragment:h9,aomap_pars_fragment:p9,batching_pars_vertex:m9,batching_vertex:g9,begin_vertex:v9,beginnormal_vertex:y9,bsdfs:x9,iridescence_fragment:_9,bumpmap_pars_fragment:w9,clipping_planes_fragment:S9,clipping_planes_pars_fragment:M9,clipping_planes_pars_vertex:E9,clipping_planes_vertex:b9,color_fragment:T9,color_pars_fragment:A9,color_pars_vertex:C9,color_vertex:P9,common:R9,cube_uv_reflection_fragment:N9,defaultnormal_vertex:L9,displacementmap_pars_vertex:I9,displacementmap_vertex:D9,emissivemap_fragment:k9,emissivemap_pars_fragment:O9,colorspace_fragment:U9,colorspace_pars_fragment:F9,envmap_fragment:z9,envmap_common_pars_fragment:B9,envmap_pars_fragment:V9,envmap_pars_vertex:H9,envmap_physical_pars_fragment:e7,envmap_vertex:j9,fog_vertex:G9,fog_pars_vertex:W9,fog_fragment:X9,fog_pars_fragment:$9,gradientmap_pars_fragment:Y9,lightmap_fragment:q9,lightmap_pars_fragment:K9,lights_lambert_fragment:Z9,lights_lambert_pars_fragment:Q9,lights_pars_begin:J9,lights_toon_fragment:t7,lights_toon_pars_fragment:n7,lights_phong_fragment:i7,lights_phong_pars_fragment:r7,lights_physical_fragment:s7,lights_physical_pars_fragment:o7,lights_fragment_begin:a7,lights_fragment_maps:l7,lights_fragment_end:c7,logdepthbuf_fragment:u7,logdepthbuf_pars_fragment:d7,logdepthbuf_pars_vertex:f7,logdepthbuf_vertex:h7,map_fragment:p7,map_pars_fragment:m7,map_particle_fragment:g7,map_particle_pars_fragment:v7,metalnessmap_fragment:y7,metalnessmap_pars_fragment:x7,morphcolor_vertex:_7,morphnormal_vertex:w7,morphtarget_pars_vertex:S7,morphtarget_vertex:M7,normal_fragment_begin:E7,normal_fragment_maps:b7,normal_pars_fragment:T7,normal_pars_vertex:A7,normal_vertex:C7,normalmap_pars_fragment:P7,clearcoat_normal_fragment_begin:R7,clearcoat_normal_fragment_maps:N7,clearcoat_pars_fragment:L7,iridescence_pars_fragment:I7,opaque_fragment:D7,packing:k7,premultiplied_alpha_fragment:O7,project_vertex:U7,dithering_fragment:F7,dithering_pars_fragment:z7,roughnessmap_fragment:B7,roughnessmap_pars_fragment:V7,shadowmap_pars_fragment:H7,shadowmap_pars_vertex:j7,shadowmap_vertex:G7,shadowmask_pars_fragment:W7,skinbase_vertex:X7,skinning_pars_vertex:$7,skinning_vertex:Y7,skinnormal_vertex:q7,specularmap_fragment:K7,specularmap_pars_fragment:Z7,tonemapping_fragment:Q7,tonemapping_pars_fragment:J7,transmission_fragment:eX,transmission_pars_fragment:tX,uv_pars_fragment:nX,uv_pars_vertex:iX,uv_vertex:rX,worldpos_vertex:sX,background_vert:oX,background_frag:aX,backgroundCube_vert:lX,backgroundCube_frag:cX,cube_vert:uX,cube_frag:dX,depth_vert:fX,depth_frag:hX,distanceRGBA_vert:pX,distanceRGBA_frag:mX,equirect_vert:gX,equirect_frag:vX,linedashed_vert:yX,linedashed_frag:xX,meshbasic_vert:_X,meshbasic_frag:wX,meshlambert_vert:SX,meshlambert_frag:MX,meshmatcap_vert:EX,meshmatcap_frag:bX,meshnormal_vert:TX,meshnormal_frag:AX,meshphong_vert:CX,meshphong_frag:PX,meshphysical_vert:RX,meshphysical_frag:NX,meshtoon_vert:LX,meshtoon_frag:IX,points_vert:DX,points_frag:kX,shadow_vert:OX,shadow_frag:UX,sprite_vert:FX,sprite_frag:zX},Le={common:{diffuse:{value:new Ve(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ct},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ct}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ct}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ct}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ct},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ct},normalScale:{value:new ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ct},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ct}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ct}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ct}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ve(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ve(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0},uvTransform:{value:new Ct}},sprite:{diffuse:{value:new Ve(16777215)},opacity:{value:1},center:{value:new ve(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ct},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0}}},us={basic:{uniforms:Oi([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.fog]),vertexShader:Et.meshbasic_vert,fragmentShader:Et.meshbasic_frag},lambert:{uniforms:Oi([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,Le.lights,{emissive:{value:new Ve(0)}}]),vertexShader:Et.meshlambert_vert,fragmentShader:Et.meshlambert_frag},phong:{uniforms:Oi([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,Le.lights,{emissive:{value:new Ve(0)},specular:{value:new Ve(1118481)},shininess:{value:30}}]),vertexShader:Et.meshphong_vert,fragmentShader:Et.meshphong_frag},standard:{uniforms:Oi([Le.common,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.roughnessmap,Le.metalnessmap,Le.fog,Le.lights,{emissive:{value:new Ve(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Et.meshphysical_vert,fragmentShader:Et.meshphysical_frag},toon:{uniforms:Oi([Le.common,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.gradientmap,Le.fog,Le.lights,{emissive:{value:new Ve(0)}}]),vertexShader:Et.meshtoon_vert,fragmentShader:Et.meshtoon_frag},matcap:{uniforms:Oi([Le.common,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,{matcap:{value:null}}]),vertexShader:Et.meshmatcap_vert,fragmentShader:Et.meshmatcap_frag},points:{uniforms:Oi([Le.points,Le.fog]),vertexShader:Et.points_vert,fragmentShader:Et.points_frag},dashed:{uniforms:Oi([Le.common,Le.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Et.linedashed_vert,fragmentShader:Et.linedashed_frag},depth:{uniforms:Oi([Le.common,Le.displacementmap]),vertexShader:Et.depth_vert,fragmentShader:Et.depth_frag},normal:{uniforms:Oi([Le.common,Le.bumpmap,Le.normalmap,Le.displacementmap,{opacity:{value:1}}]),vertexShader:Et.meshnormal_vert,fragmentShader:Et.meshnormal_frag},sprite:{uniforms:Oi([Le.sprite,Le.fog]),vertexShader:Et.sprite_vert,fragmentShader:Et.sprite_frag},background:{uniforms:{uvTransform:{value:new Ct},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Et.background_vert,fragmentShader:Et.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Et.backgroundCube_vert,fragmentShader:Et.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Et.cube_vert,fragmentShader:Et.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Et.equirect_vert,fragmentShader:Et.equirect_frag},distanceRGBA:{uniforms:Oi([Le.common,Le.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Et.distanceRGBA_vert,fragmentShader:Et.distanceRGBA_frag},shadow:{uniforms:Oi([Le.lights,Le.fog,{color:{value:new Ve(0)},opacity:{value:1}}]),vertexShader:Et.shadow_vert,fragmentShader:Et.shadow_frag}};us.physical={uniforms:Oi([us.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ct},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ct},clearcoatNormalScale:{value:new ve(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ct},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ct},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ct},sheen:{value:0},sheenColor:{value:new Ve(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ct},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ct},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ct},transmissionSamplerSize:{value:new ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ct},attenuationDistance:{value:0},attenuationColor:{value:new Ve(0)},specularColor:{value:new Ve(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ct},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ct},anisotropyVector:{value:new ve},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ct}}]),vertexShader:Et.meshphysical_vert,fragmentShader:Et.meshphysical_frag};const fg={r:0,b:0,g:0};function BX(t,e,n,i,r,s,o){const a=new Ve(0);let l=s===!0?0:1,c,f,h=null,p=0,m=null;function v(x,g){let w=!1,S=g.isScene===!0?g.background:null;S&&S.isTexture&&(S=(g.backgroundBlurriness>0?n:e).get(S)),S===null?_(a,l):S&&S.isColor&&(_(S,1),w=!0);const b=t.xr.getEnvironmentBlendMode();b==="additive"?i.buffers.color.setClear(0,0,0,1,o):b==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Td)?(f===void 0&&(f=new $n(new pc(1,1,1),new Js({name:"BackgroundCubeMaterial",uniforms:ud(us.backgroundCube.uniforms),vertexShader:us.backgroundCube.vertexShader,fragmentShader:us.backgroundCube.fragmentShader,side:ji,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(A,C,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(f)),f.material.uniforms.envMap.value=S,f.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,f.material.toneMapped=Wt.getTransfer(S.colorSpace)!==Qt,(h!==S||p!==S.version||m!==t.toneMapping)&&(f.material.needsUpdate=!0,h=S,p=S.version,m=t.toneMapping),f.layers.enableAll(),x.unshift(f,f.geometry,f.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new $n(new vp(2,2),new Js({name:"BackgroundMaterial",uniforms:ud(us.background.uniforms),vertexShader:us.background.vertexShader,fragmentShader:us.background.fragmentShader,side:Oo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=Wt.getTransfer(S.colorSpace)!==Qt,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||p!==S.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,h=S,p=S.version,m=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function _(x,g){x.getRGB(fg,Qk(t)),i.buffers.color.setClear(fg.r,fg.g,fg.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(x,g=1){a.set(x),l=g,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,_(a,l)},render:v}}function VX(t,e,n,i){const r=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let c=l,f=!1;function h(B,K,Z,ee,D){let U=!1;if(o){const V=_(ee,Z,K);c!==V&&(c=V,m(c.object)),U=g(B,ee,Z,D),U&&w(B,ee,Z,D)}else{const V=K.wireframe===!0;(c.geometry!==ee.id||c.program!==Z.id||c.wireframe!==V)&&(c.geometry=ee.id,c.program=Z.id,c.wireframe=V,U=!0)}D!==null&&n.update(D,t.ELEMENT_ARRAY_BUFFER),(U||f)&&(f=!1,k(B,K,Z,ee),D!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(D).buffer))}function p(){return i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(B){return i.isWebGL2?t.bindVertexArray(B):s.bindVertexArrayOES(B)}function v(B){return i.isWebGL2?t.deleteVertexArray(B):s.deleteVertexArrayOES(B)}function _(B,K,Z){const ee=Z.wireframe===!0;let D=a[B.id];D===void 0&&(D={},a[B.id]=D);let U=D[K.id];U===void 0&&(U={},D[K.id]=U);let V=U[ee];return V===void 0&&(V=x(p()),U[ee]=V),V}function x(B){const K=[],Z=[],ee=[];for(let D=0;D<r;D++)K[D]=0,Z[D]=0,ee[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:K,enabledAttributes:Z,attributeDivisors:ee,object:B,attributes:{},index:null}}function g(B,K,Z,ee){const D=c.attributes,U=K.attributes;let V=0;const $=Z.getAttributes();for(const Q in $)if($[Q].location>=0){const se=D[Q];let me=U[Q];if(me===void 0&&(Q==="instanceMatrix"&&B.instanceMatrix&&(me=B.instanceMatrix),Q==="instanceColor"&&B.instanceColor&&(me=B.instanceColor)),se===void 0||se.attribute!==me||me&&se.data!==me.data)return!0;V++}return c.attributesNum!==V||c.index!==ee}function w(B,K,Z,ee){const D={},U=K.attributes;let V=0;const $=Z.getAttributes();for(const Q in $)if($[Q].location>=0){let se=U[Q];se===void 0&&(Q==="instanceMatrix"&&B.instanceMatrix&&(se=B.instanceMatrix),Q==="instanceColor"&&B.instanceColor&&(se=B.instanceColor));const me={};me.attribute=se,se&&se.data&&(me.data=se.data),D[Q]=me,V++}c.attributes=D,c.attributesNum=V,c.index=ee}function S(){const B=c.newAttributes;for(let K=0,Z=B.length;K<Z;K++)B[K]=0}function b(B){A(B,0)}function A(B,K){const Z=c.newAttributes,ee=c.enabledAttributes,D=c.attributeDivisors;Z[B]=1,ee[B]===0&&(t.enableVertexAttribArray(B),ee[B]=1),D[B]!==K&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](B,K),D[B]=K)}function C(){const B=c.newAttributes,K=c.enabledAttributes;for(let Z=0,ee=K.length;Z<ee;Z++)K[Z]!==B[Z]&&(t.disableVertexAttribArray(Z),K[Z]=0)}function N(B,K,Z,ee,D,U,V){V===!0?t.vertexAttribIPointer(B,K,Z,D,U):t.vertexAttribPointer(B,K,Z,ee,D,U)}function k(B,K,Z,ee){if(i.isWebGL2===!1&&(B.isInstancedMesh||ee.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const D=ee.attributes,U=Z.getAttributes(),V=K.defaultAttributeValues;for(const $ in U){const Q=U[$];if(Q.location>=0){let q=D[$];if(q===void 0&&($==="instanceMatrix"&&B.instanceMatrix&&(q=B.instanceMatrix),$==="instanceColor"&&B.instanceColor&&(q=B.instanceColor)),q!==void 0){const se=q.normalized,me=q.itemSize,Te=n.get(q);if(Te===void 0)continue;const ge=Te.buffer,tt=Te.type,nt=Te.bytesPerElement,Fe=i.isWebGL2===!0&&(tt===t.INT||tt===t.UNSIGNED_INT||q.gpuType===cE);if(q.isInterleavedBufferAttribute){const Xe=q.data,X=Xe.stride,we=q.offset;if(Xe.isInstancedInterleavedBuffer){for(let he=0;he<Q.locationSize;he++)A(Q.location+he,Xe.meshPerAttribute);B.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=Xe.meshPerAttribute*Xe.count)}else for(let he=0;he<Q.locationSize;he++)b(Q.location+he);t.bindBuffer(t.ARRAY_BUFFER,ge);for(let he=0;he<Q.locationSize;he++)N(Q.location+he,me/Q.locationSize,tt,se,X*nt,(we+me/Q.locationSize*he)*nt,Fe)}else{if(q.isInstancedBufferAttribute){for(let Xe=0;Xe<Q.locationSize;Xe++)A(Q.location+Xe,q.meshPerAttribute);B.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=q.meshPerAttribute*q.count)}else for(let Xe=0;Xe<Q.locationSize;Xe++)b(Q.location+Xe);t.bindBuffer(t.ARRAY_BUFFER,ge);for(let Xe=0;Xe<Q.locationSize;Xe++)N(Q.location+Xe,me/Q.locationSize,tt,se,me*nt,me/Q.locationSize*Xe*nt,Fe)}}else if(V!==void 0){const se=V[$];if(se!==void 0)switch(se.length){case 2:t.vertexAttrib2fv(Q.location,se);break;case 3:t.vertexAttrib3fv(Q.location,se);break;case 4:t.vertexAttrib4fv(Q.location,se);break;default:t.vertexAttrib1fv(Q.location,se)}}}}C()}function L(){W();for(const B in a){const K=a[B];for(const Z in K){const ee=K[Z];for(const D in ee)v(ee[D].object),delete ee[D];delete K[Z]}delete a[B]}}function I(B){if(a[B.id]===void 0)return;const K=a[B.id];for(const Z in K){const ee=K[Z];for(const D in ee)v(ee[D].object),delete ee[D];delete K[Z]}delete a[B.id]}function j(B){for(const K in a){const Z=a[K];if(Z[B.id]===void 0)continue;const ee=Z[B.id];for(const D in ee)v(ee[D].object),delete ee[D];delete Z[B.id]}}function W(){re(),f=!0,c!==l&&(c=l,m(c.object))}function re(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:W,resetDefaultState:re,dispose:L,releaseStatesOfGeometry:I,releaseStatesOfProgram:j,initAttributes:S,enableAttribute:b,disableUnusedAttributes:C}}function HX(t,e,n,i){const r=i.isWebGL2;let s;function o(f){s=f}function a(f,h){t.drawArrays(s,f,h),n.update(h,s,1)}function l(f,h,p){if(p===0)return;let m,v;if(r)m=t,v="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](s,f,h,p),n.update(h,s,p)}function c(f,h,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<p;v++)this.render(f[v],h[v]);else{m.multiDrawArraysWEBGL(s,f,0,h,0,p);let v=0;for(let _=0;_<p;_++)v+=h[_];n.update(v,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function jX(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(N){if(N==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),f=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=p>0,b=o||e.has("OES_texture_float"),A=S&&b,C=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:_,maxVertexUniforms:x,maxVaryings:g,maxFragmentUniforms:w,vertexTextures:S,floatFragmentTextures:b,floatVertexTextures:A,maxSamples:C}}function GX(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new ma,a=new Ct,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||i!==0||r;return r=p,i=h.length,m},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){n=f(h,p,0)},this.setState=function(h,p,m){const v=h.clippingPlanes,_=h.clipIntersection,x=h.clipShadows,g=t.get(h);if(!r||v===null||v.length===0||s&&!x)s?f(null):c();else{const w=s?0:i,S=w*4;let b=g.clippingState||null;l.value=b,b=f(v,p,S,m);for(let A=0;A!==S;++A)b[A]=n[A];g.clippingState=b,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function f(h,p,m,v){const _=h!==null?h.length:0;let x=null;if(_!==0){if(x=l.value,v!==!0||x===null){const g=m+_*4,w=p.matrixWorldInverse;a.getNormalMatrix(w),(x===null||x.length<g)&&(x=new Float32Array(g));for(let S=0,b=m;S!==_;++S,b+=4)o.copy(h[S]).applyMatrix4(w,a),o.normal.toArray(x,b),x[b+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,x}}function WX(t){let e=new WeakMap;function n(o,a){return a===Th?o.mapping=Uo:a===Ah&&(o.mapping=ja),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===Th||a===Ah)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new tO(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",r),n(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class yp extends pp{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Mu=4,AP=[.125,.215,.35,.446,.526,.582],Pl=20,R_=new yp,CP=new Ve;let N_=null,L_=0,I_=0;const Tl=(1+Math.sqrt(5))/2,Kc=1/Tl,PP=[new H(1,1,1),new H(-1,1,1),new H(1,1,-1),new H(-1,1,-1),new H(0,Tl,Kc),new H(0,Tl,-Kc),new H(Kc,0,Tl),new H(-Kc,0,Tl),new H(Tl,Kc,0),new H(-Tl,Kc,0)];class pS{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){N_=this._renderer.getRenderTarget(),L_=this._renderer.getActiveCubeFace(),I_=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=LP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=NP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(N_,L_,I_),e.scissorTest=!1,hg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Uo||e.mapping===ja?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),N_=this._renderer.getRenderTarget(),L_=this._renderer.getActiveCubeFace(),I_=this._renderer.getActiveMipmapLevel();const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:kn,minFilter:kn,generateMipmaps:!1,type:ad,format:Bi,colorSpace:Qs,depthBuffer:!1},r=RP(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=RP(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=XX(s)),this._blurMaterial=$X(s,e,n)}return r}_compileMaterial(e){const n=new $n(this._lodPlanes[0],e);this._renderer.compile(n,R_)}_sceneToCubeUV(e,n,i,r){const a=new ii(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(CP),f.toneMapping=Ws,f.autoClear=!1;const m=new Za({name:"PMREM.Background",side:ji,depthWrite:!1,depthTest:!1}),v=new $n(new pc,m);let _=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,_=!0):(m.color.copy(CP),_=!0);for(let g=0;g<6;g++){const w=g%3;w===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):w===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const S=this._cubeSize;hg(r,w*S,g>2?S:0,S,S),f.setRenderTarget(r),_&&f.render(v,a),f.render(e,a)}v.geometry.dispose(),v.material.dispose(),f.toneMapping=p,f.autoClear=h,e.background=x}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Uo||e.mapping===ja;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=LP()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=NP());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new $n(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;hg(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,R_)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=PP[(r-1)%PP.length];this._blur(e,r-1,r,s,o)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,h=new $n(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Pl-1),_=s/v,x=isFinite(s)?1+Math.floor(f*_):Pl;x>Pl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Pl}`);const g=[];let w=0;for(let N=0;N<Pl;++N){const k=N/_,L=Math.exp(-k*k/2);g.push(L),N===0?w+=L:N<x&&(w+=2*L)}for(let N=0;N<g.length;N++)g[N]=g[N]/w;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-i;const b=this._sizeLods[r],A=3*b*(r>S-Mu?r-S+Mu:0),C=4*(this._cubeSize-b);hg(n,A,C,3*b,2*b),l.setRenderTarget(n),l.render(h,R_)}}function XX(t){const e=[],n=[],i=[];let r=t;const s=t-Mu+1+AP.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);n.push(a);let l=1/a;o>t-Mu?l=AP[o-t+Mu-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),f=-c,h=1+c,p=[f,f,h,f,h,h,f,f,h,h,f,h],m=6,v=6,_=3,x=2,g=1,w=new Float32Array(_*v*m),S=new Float32Array(x*v*m),b=new Float32Array(g*v*m);for(let C=0;C<m;C++){const N=C%3*2/3-1,k=C>2?0:-1,L=[N,k,0,N+2/3,k,0,N+2/3,k+1,0,N,k,0,N+2/3,k+1,0,N,k+1,0];w.set(L,_*v*C),S.set(p,x*v*C);const I=[C,C,C,C,C,C];b.set(I,g*v*C)}const A=new Tt;A.setAttribute("position",new Yt(w,_)),A.setAttribute("uv",new Yt(S,x)),A.setAttribute("faceIndex",new Yt(b,g)),e.push(A),r>Mu&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function RP(t,e,n){const i=new ys(t,e,n);return i.texture.mapping=Td,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function hg(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function $X(t,e,n){const i=new Float32Array(Pl),r=new H(0,1,0);return new Js({name:"SphericalGaussianBlur",defines:{n:Pl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:EE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:To,depthTest:!1,depthWrite:!1})}function NP(){return new Js({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:EE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:To,depthTest:!1,depthWrite:!1})}function LP(){return new Js({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:EE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:To,depthTest:!1,depthWrite:!1})}function EE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function YX(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Th||l===Ah,f=l===Uo||l===ja;if(c||f)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return n===null&&(n=new pS(t)),h=c?n.fromEquirectangular(a,h):n.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||f&&h&&r(h)){n===null&&(n=new pS(t));const p=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let f=0;f<c;f++)a[f]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function qX(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function KX(t,e,n,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const _=p.morphAttributes[v];for(let x=0,g=_.length;x<g;x++)e.remove(_[x])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,n.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],t.ARRAY_BUFFER);const m=h.morphAttributes;for(const v in m){const _=m[v];for(let x=0,g=_.length;x<g;x++)e.update(_[x],t.ARRAY_BUFFER)}}function c(h){const p=[],m=h.index,v=h.attributes.position;let _=0;if(m!==null){const w=m.array;_=m.version;for(let S=0,b=w.length;S<b;S+=3){const A=w[S+0],C=w[S+1],N=w[S+2];p.push(A,C,C,N,N,A)}}else if(v!==void 0){const w=v.array;_=v.version;for(let S=0,b=w.length/3-1;S<b;S+=3){const A=S+0,C=S+1,N=S+2;p.push(A,C,C,N,N,A)}}else return;const x=new(Yk(p)?ME:SE)(p,1);x.version=_;const g=s.get(h);g&&e.remove(g),s.set(h,x)}function f(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:f}}function ZX(t,e,n,i){const r=i.isWebGL2;let s;function o(m){s=m}let a,l;function c(m){a=m.type,l=m.bytesPerElement}function f(m,v){t.drawElements(s,v,a,m*l),n.update(v,s,1)}function h(m,v,_){if(_===0)return;let x,g;if(r)x=t,g="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[g](s,v,a,m*l,_),n.update(v,s,_)}function p(m,v,_){if(_===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let g=0;g<_;g++)this.render(m[g]/l,v[g]);else{x.multiDrawElementsWEBGL(s,v,0,a,m,0,_);let g=0;for(let w=0;w<_;w++)g+=v[w];n.update(g,s,1)}}this.setMode=o,this.setIndex=c,this.render=f,this.renderInstances=h,this.renderMultiDraw=p}function QX(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function JX(t,e){return t[0]-e[0]}function e$(t,e){return Math.abs(e[1])-Math.abs(t[1])}function t$(t,e,n){const i={},r=new Float32Array(8),s=new WeakMap,o=new Xt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,f,h){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,_=v!==void 0?v.length:0;let x=s.get(f);if(x===void 0||x.count!==_){let K=function(){re.dispose(),s.delete(f),f.removeEventListener("dispose",K)};var m=K;x!==void 0&&x.texture.dispose();const S=f.morphAttributes.position!==void 0,b=f.morphAttributes.normal!==void 0,A=f.morphAttributes.color!==void 0,C=f.morphAttributes.position||[],N=f.morphAttributes.normal||[],k=f.morphAttributes.color||[];let L=0;S===!0&&(L=1),b===!0&&(L=2),A===!0&&(L=3);let I=f.attributes.position.count*L,j=1;I>e.maxTextureSize&&(j=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const W=new Float32Array(I*j*4*_),re=new Yy(W,I,j,_);re.type=ds,re.needsUpdate=!0;const B=L*4;for(let Z=0;Z<_;Z++){const ee=C[Z],D=N[Z],U=k[Z],V=I*j*4*Z;for(let $=0;$<ee.count;$++){const Q=$*B;S===!0&&(o.fromBufferAttribute(ee,$),W[V+Q+0]=o.x,W[V+Q+1]=o.y,W[V+Q+2]=o.z,W[V+Q+3]=0),b===!0&&(o.fromBufferAttribute(D,$),W[V+Q+4]=o.x,W[V+Q+5]=o.y,W[V+Q+6]=o.z,W[V+Q+7]=0),A===!0&&(o.fromBufferAttribute(U,$),W[V+Q+8]=o.x,W[V+Q+9]=o.y,W[V+Q+10]=o.z,W[V+Q+11]=U.itemSize===4?o.w:1)}}x={count:_,texture:re,size:new ve(I,j)},s.set(f,x),f.addEventListener("dispose",K)}let g=0;for(let S=0;S<p.length;S++)g+=p[S];const w=f.morphTargetsRelative?1:1-g;h.getUniforms().setValue(t,"morphTargetBaseInfluence",w),h.getUniforms().setValue(t,"morphTargetInfluences",p),h.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const v=p===void 0?0:p.length;let _=i[f.id];if(_===void 0||_.length!==v){_=[];for(let b=0;b<v;b++)_[b]=[b,0];i[f.id]=_}for(let b=0;b<v;b++){const A=_[b];A[0]=b,A[1]=p[b]}_.sort(e$);for(let b=0;b<8;b++)b<v&&_[b][1]?(a[b][0]=_[b][0],a[b][1]=_[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(JX);const x=f.morphAttributes.position,g=f.morphAttributes.normal;let w=0;for(let b=0;b<8;b++){const A=a[b],C=A[0],N=A[1];C!==Number.MAX_SAFE_INTEGER&&N?(x&&f.getAttribute("morphTarget"+b)!==x[C]&&f.setAttribute("morphTarget"+b,x[C]),g&&f.getAttribute("morphNormal"+b)!==g[C]&&f.setAttribute("morphNormal"+b,g[C]),r[b]=N,w+=N):(x&&f.hasAttribute("morphTarget"+b)===!0&&f.deleteAttribute("morphTarget"+b),g&&f.hasAttribute("morphNormal"+b)===!0&&f.deleteAttribute("morphNormal"+b),r[b]=0)}const S=f.morphTargetsRelative?1:1-w;h.getUniforms().setValue(t,"morphTargetBaseInfluence",S),h.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function n$(t,e,n,i){let r=new WeakMap;function s(l){const c=i.render.frame,f=l.geometry,h=e.get(l,f);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class bE extends On{constructor(e,n,i,r,s,o,a,l,c,f){if(f=f!==void 0?f:Ua,f!==Ua&&f!==sc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&f===Ua&&(i=Mo),i===void 0&&f===sc&&(i=Oa),super(null,r,s,o,a,l,f,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:In,this.minFilter=l!==void 0?l:In,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const iO=new On,rO=new bE(1,1);rO.compareFunction=yE;const sO=new Yy,oO=new wE,aO=new mp,IP=[],DP=[],kP=new Float32Array(16),OP=new Float32Array(9),UP=new Float32Array(4);function Cd(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=IP[r];if(s===void 0&&(s=new Float32Array(r),IP[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Yn(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function qn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function qy(t,e){let n=DP[e];n===void 0&&(n=new Int32Array(e),DP[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function i$(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function r$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Yn(n,e))return;t.uniform2fv(this.addr,e),qn(n,e)}}function s$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Yn(n,e))return;t.uniform3fv(this.addr,e),qn(n,e)}}function o$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Yn(n,e))return;t.uniform4fv(this.addr,e),qn(n,e)}}function a$(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Yn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),qn(n,e)}else{if(Yn(n,i))return;UP.set(i),t.uniformMatrix2fv(this.addr,!1,UP),qn(n,i)}}function l$(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Yn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),qn(n,e)}else{if(Yn(n,i))return;OP.set(i),t.uniformMatrix3fv(this.addr,!1,OP),qn(n,i)}}function c$(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Yn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),qn(n,e)}else{if(Yn(n,i))return;kP.set(i),t.uniformMatrix4fv(this.addr,!1,kP),qn(n,i)}}function u$(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function d$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Yn(n,e))return;t.uniform2iv(this.addr,e),qn(n,e)}}function f$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Yn(n,e))return;t.uniform3iv(this.addr,e),qn(n,e)}}function h$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Yn(n,e))return;t.uniform4iv(this.addr,e),qn(n,e)}}function p$(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function m$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Yn(n,e))return;t.uniform2uiv(this.addr,e),qn(n,e)}}function g$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Yn(n,e))return;t.uniform3uiv(this.addr,e),qn(n,e)}}function v$(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Yn(n,e))return;t.uniform4uiv(this.addr,e),qn(n,e)}}function y$(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);const s=this.type===t.SAMPLER_2D_SHADOW?rO:iO;n.setTexture2D(e||s,r)}function x$(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||oO,r)}function _$(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||aO,r)}function w$(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||sO,r)}function S$(t){switch(t){case 5126:return i$;case 35664:return r$;case 35665:return s$;case 35666:return o$;case 35674:return a$;case 35675:return l$;case 35676:return c$;case 5124:case 35670:return u$;case 35667:case 35671:return d$;case 35668:case 35672:return f$;case 35669:case 35673:return h$;case 5125:return p$;case 36294:return m$;case 36295:return g$;case 36296:return v$;case 35678:case 36198:case 36298:case 36306:case 35682:return y$;case 35679:case 36299:case 36307:return x$;case 35680:case 36300:case 36308:case 36293:return _$;case 36289:case 36303:case 36311:case 36292:return w$}}function M$(t,e){t.uniform1fv(this.addr,e)}function E$(t,e){const n=Cd(e,this.size,2);t.uniform2fv(this.addr,n)}function b$(t,e){const n=Cd(e,this.size,3);t.uniform3fv(this.addr,n)}function T$(t,e){const n=Cd(e,this.size,4);t.uniform4fv(this.addr,n)}function A$(t,e){const n=Cd(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function C$(t,e){const n=Cd(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function P$(t,e){const n=Cd(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function R$(t,e){t.uniform1iv(this.addr,e)}function N$(t,e){t.uniform2iv(this.addr,e)}function L$(t,e){t.uniform3iv(this.addr,e)}function I$(t,e){t.uniform4iv(this.addr,e)}function D$(t,e){t.uniform1uiv(this.addr,e)}function k$(t,e){t.uniform2uiv(this.addr,e)}function O$(t,e){t.uniform3uiv(this.addr,e)}function U$(t,e){t.uniform4uiv(this.addr,e)}function F$(t,e,n){const i=this.cache,r=e.length,s=qy(n,r);Yn(i,s)||(t.uniform1iv(this.addr,s),qn(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||iO,s[o])}function z$(t,e,n){const i=this.cache,r=e.length,s=qy(n,r);Yn(i,s)||(t.uniform1iv(this.addr,s),qn(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||oO,s[o])}function B$(t,e,n){const i=this.cache,r=e.length,s=qy(n,r);Yn(i,s)||(t.uniform1iv(this.addr,s),qn(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||aO,s[o])}function V$(t,e,n){const i=this.cache,r=e.length,s=qy(n,r);Yn(i,s)||(t.uniform1iv(this.addr,s),qn(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||sO,s[o])}function H$(t){switch(t){case 5126:return M$;case 35664:return E$;case 35665:return b$;case 35666:return T$;case 35674:return A$;case 35675:return C$;case 35676:return P$;case 5124:case 35670:return R$;case 35667:case 35671:return N$;case 35668:case 35672:return L$;case 35669:case 35673:return I$;case 5125:return D$;case 36294:return k$;case 36295:return O$;case 36296:return U$;case 35678:case 36198:case 36298:case 36306:case 35682:return F$;case 35679:case 36299:case 36307:return z$;case 35680:case 36300:case 36308:case 36293:return B$;case 36289:case 36303:case 36311:case 36292:return V$}}class j${constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=S$(n.type)}}class G${constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=H$(n.type)}}class W${constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,n[a.id],i)}}}const D_=/(\w+)(\])?(\[|\.)?/g;function FP(t,e){t.seq.push(e),t.map[e.id]=e}function X$(t,e,n){const i=t.name,r=i.length;for(D_.lastIndex=0;;){const s=D_.exec(i),o=D_.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){FP(n,c===void 0?new j$(a,t,e):new G$(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new W$(a),FP(n,h)),n=h}}}class pv{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);X$(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function zP(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const $$=37297;let Y$=0;function q$(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}function K$(t){const e=Wt.getPrimaries(Wt.workingColorSpace),n=Wt.getPrimaries(t);let i;switch(e===n?i="":e===kh&&n===Dh?i="LinearDisplayP3ToLinearSRGB":e===Dh&&n===kh&&(i="LinearSRGBToLinearDisplayP3"),t){case Qs:case fp:return[i,"LinearTransferOETF"];case Wn:case $y:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function BP(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+q$(t.getShaderSource(e),o)}else return r}function Z$(t,e){const n=K$(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Q$(t,e){let n;switch(e){case wk:n="Linear";break;case Sk:n="Reinhard";break;case Mk:n="OptimizedCineon";break;case aE:n="ACESFilmic";break;case bk:n="AgX";break;case Ek:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function J$(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Eu).join(`
`)}function eY(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(Eu).join(`
`)}function tY(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function nY(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Eu(t){return t!==""}function VP(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function HP(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const iY=/^[ \t]*#include +<([\w\d./]+)>/gm;function mS(t){return t.replace(iY,sY)}const rY=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function sY(t,e){let n=Et[e];if(n===void 0){const i=rY.get(e);if(i!==void 0)n=Et[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return mS(n)}const oY=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function jP(t){return t.replace(oY,aY)}function aY(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function GP(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function lY(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===jy?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Gf?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ss&&(e="SHADOWMAP_TYPE_VSM"),e}function cY(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Uo:case ja:e="ENVMAP_TYPE_CUBE";break;case Td:e="ENVMAP_TYPE_CUBE_UV";break}return e}function uY(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case ja:e="ENVMAP_MODE_REFRACTION";break}return e}function dY(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case dp:e="ENVMAP_BLENDING_MULTIPLY";break;case xk:e="ENVMAP_BLENDING_MIX";break;case _k:e="ENVMAP_BLENDING_ADD";break}return e}function fY(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function hY(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=lY(n),c=cY(n),f=uY(n),h=dY(n),p=fY(n),m=n.isWebGL2?"":J$(n),v=eY(n),_=tY(s),x=r.createProgram();let g,w,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(Eu).join(`
`),g.length>0&&(g+=`
`),w=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(Eu).join(`
`),w.length>0&&(w+=`
`)):(g=[GP(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Eu).join(`
`),w=[m,GP(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ws?"#define TONE_MAPPING":"",n.toneMapping!==Ws?Et.tonemapping_pars_fragment:"",n.toneMapping!==Ws?Q$("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Et.colorspace_pars_fragment,Z$("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Eu).join(`
`)),o=mS(o),o=VP(o,n),o=HP(o,n),a=mS(a),a=VP(a,n),a=HP(a,n),o=jP(o),a=jP(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,g=[v,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,w=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===fS?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===fS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const b=S+g+o,A=S+w+a,C=zP(r,r.VERTEX_SHADER,b),N=zP(r,r.FRAGMENT_SHADER,A);r.attachShader(x,C),r.attachShader(x,N),n.index0AttributeName!==void 0?r.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x);function k(W){if(t.debug.checkShaderErrors){const re=r.getProgramInfoLog(x).trim(),B=r.getShaderInfoLog(C).trim(),K=r.getShaderInfoLog(N).trim();let Z=!0,ee=!0;if(r.getProgramParameter(x,r.LINK_STATUS)===!1)if(Z=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,x,C,N);else{const D=BP(r,C,"vertex"),U=BP(r,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(x,r.VALIDATE_STATUS)+`

Program Info Log: `+re+`
`+D+`
`+U)}else re!==""?console.warn("THREE.WebGLProgram: Program Info Log:",re):(B===""||K==="")&&(ee=!1);ee&&(W.diagnostics={runnable:Z,programLog:re,vertexShader:{log:B,prefix:g},fragmentShader:{log:K,prefix:w}})}r.deleteShader(C),r.deleteShader(N),L=new pv(r,x),I=nY(r,x)}let L;this.getUniforms=function(){return L===void 0&&k(this),L};let I;this.getAttributes=function(){return I===void 0&&k(this),I};let j=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return j===!1&&(j=r.getProgramParameter(x,$$)),j},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Y$++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=C,this.fragmentShader=N,this}let pY=0;class mY{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new gY(e),n.set(e,i)),i}}class gY{constructor(e){this.id=pY++,this.code=e,this.usedTimes=0}}function vY(t,e,n,i,r,s,o){const a=new ql,l=new mY,c=[],f=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(L){return L===0?"uv":`uv${L}`}function x(L,I,j,W,re){const B=W.fog,K=re.geometry,Z=L.isMeshStandardMaterial?W.environment:null,ee=(L.isMeshStandardMaterial?n:e).get(L.envMap||Z),D=ee&&ee.mapping===Td?ee.image.height:null,U=v[L.type];L.precision!==null&&(m=r.getMaxPrecision(L.precision),m!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",m,"instead."));const V=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,$=V!==void 0?V.length:0;let Q=0;K.morphAttributes.position!==void 0&&(Q=1),K.morphAttributes.normal!==void 0&&(Q=2),K.morphAttributes.color!==void 0&&(Q=3);let q,se,me,Te;if(U){const Gt=us[U];q=Gt.vertexShader,se=Gt.fragmentShader}else q=L.vertexShader,se=L.fragmentShader,l.update(L),me=l.getVertexShaderID(L),Te=l.getFragmentShaderID(L);const ge=t.getRenderTarget(),tt=re.isInstancedMesh===!0,nt=re.isBatchedMesh===!0,Fe=!!L.map,Xe=!!L.matcap,X=!!ee,we=!!L.aoMap,he=!!L.lightMap,Ee=!!L.bumpMap,fe=!!L.normalMap,qe=!!L.displacementMap,De=!!L.emissiveMap,F=!!L.metalnessMap,O=!!L.roughnessMap,ne=L.anisotropy>0,Se=L.clearcoat>0,ye=L.iridescence>0,xe=L.sheen>0,$e=L.transmission>0,Ae=ne&&!!L.anisotropyMap,Oe=Se&&!!L.clearcoatMap,rt=Se&&!!L.clearcoatNormalMap,mt=Se&&!!L.clearcoatRoughnessMap,_e=ye&&!!L.iridescenceMap,It=ye&&!!L.iridescenceThicknessMap,St=xe&&!!L.sheenColorMap,ct=xe&&!!L.sheenRoughnessMap,Ke=!!L.specularMap,He=!!L.specularColorMap,ut=!!L.specularIntensityMap,Dt=$e&&!!L.transmissionMap,Zt=$e&&!!L.thicknessMap,yt=!!L.gradientMap,Pe=!!L.alphaMap,Y=L.alphaTest>0,Ie=!!L.alphaHash,Re=!!L.extensions,ot=!!K.attributes.uv1,Me=!!K.attributes.uv2,Qe=!!K.attributes.uv3;let it=Ws;return L.toneMapped&&(ge===null||ge.isXRRenderTarget===!0)&&(it=t.toneMapping),{isWebGL2:f,shaderID:U,shaderType:L.type,shaderName:L.name,vertexShader:q,fragmentShader:se,defines:L.defines,customVertexShaderID:me,customFragmentShaderID:Te,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:m,batching:nt,instancing:tt,instancingColor:tt&&re.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:ge===null?t.outputColorSpace:ge.isXRRenderTarget===!0?ge.texture.colorSpace:Qs,map:Fe,matcap:Xe,envMap:X,envMapMode:X&&ee.mapping,envMapCubeUVHeight:D,aoMap:we,lightMap:he,bumpMap:Ee,normalMap:fe,displacementMap:p&&qe,emissiveMap:De,normalMapObjectSpace:fe&&L.normalMapType===Bk,normalMapTangentSpace:fe&&L.normalMapType===Ka,metalnessMap:F,roughnessMap:O,anisotropy:ne,anisotropyMap:Ae,clearcoat:Se,clearcoatMap:Oe,clearcoatNormalMap:rt,clearcoatRoughnessMap:mt,iridescence:ye,iridescenceMap:_e,iridescenceThicknessMap:It,sheen:xe,sheenColorMap:St,sheenRoughnessMap:ct,specularMap:Ke,specularColorMap:He,specularIntensityMap:ut,transmission:$e,transmissionMap:Dt,thicknessMap:Zt,gradientMap:yt,opaque:L.transparent===!1&&L.blending===Xl,alphaMap:Pe,alphaTest:Y,alphaHash:Ie,combine:L.combine,mapUv:Fe&&_(L.map.channel),aoMapUv:we&&_(L.aoMap.channel),lightMapUv:he&&_(L.lightMap.channel),bumpMapUv:Ee&&_(L.bumpMap.channel),normalMapUv:fe&&_(L.normalMap.channel),displacementMapUv:qe&&_(L.displacementMap.channel),emissiveMapUv:De&&_(L.emissiveMap.channel),metalnessMapUv:F&&_(L.metalnessMap.channel),roughnessMapUv:O&&_(L.roughnessMap.channel),anisotropyMapUv:Ae&&_(L.anisotropyMap.channel),clearcoatMapUv:Oe&&_(L.clearcoatMap.channel),clearcoatNormalMapUv:rt&&_(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:mt&&_(L.clearcoatRoughnessMap.channel),iridescenceMapUv:_e&&_(L.iridescenceMap.channel),iridescenceThicknessMapUv:It&&_(L.iridescenceThicknessMap.channel),sheenColorMapUv:St&&_(L.sheenColorMap.channel),sheenRoughnessMapUv:ct&&_(L.sheenRoughnessMap.channel),specularMapUv:Ke&&_(L.specularMap.channel),specularColorMapUv:He&&_(L.specularColorMap.channel),specularIntensityMapUv:ut&&_(L.specularIntensityMap.channel),transmissionMapUv:Dt&&_(L.transmissionMap.channel),thicknessMapUv:Zt&&_(L.thicknessMap.channel),alphaMapUv:Pe&&_(L.alphaMap.channel),vertexTangents:!!K.attributes.tangent&&(fe||ne),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,vertexUv1s:ot,vertexUv2s:Me,vertexUv3s:Qe,pointsUvs:re.isPoints===!0&&!!K.attributes.uv&&(Fe||Pe),fog:!!B,useFog:L.fog===!0,fogExp2:B&&B.isFogExp2,flatShading:L.flatShading===!0,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:re.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:Q,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:t.shadowMap.enabled&&j.length>0,shadowMapType:t.shadowMap.type,toneMapping:it,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Fe&&L.map.isVideoTexture===!0&&Wt.getTransfer(L.map.colorSpace)===Qt,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===zs,flipSided:L.side===ji,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionDerivatives:Re&&L.extensions.derivatives===!0,extensionFragDepth:Re&&L.extensions.fragDepth===!0,extensionDrawBuffers:Re&&L.extensions.drawBuffers===!0,extensionShaderTextureLOD:Re&&L.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Re&&L.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:f||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()}}function g(L){const I=[];if(L.shaderID?I.push(L.shaderID):(I.push(L.customVertexShaderID),I.push(L.customFragmentShaderID)),L.defines!==void 0)for(const j in L.defines)I.push(j),I.push(L.defines[j]);return L.isRawShaderMaterial===!1&&(w(I,L),S(I,L),I.push(t.outputColorSpace)),I.push(L.customProgramCacheKey),I.join()}function w(L,I){L.push(I.precision),L.push(I.outputColorSpace),L.push(I.envMapMode),L.push(I.envMapCubeUVHeight),L.push(I.mapUv),L.push(I.alphaMapUv),L.push(I.lightMapUv),L.push(I.aoMapUv),L.push(I.bumpMapUv),L.push(I.normalMapUv),L.push(I.displacementMapUv),L.push(I.emissiveMapUv),L.push(I.metalnessMapUv),L.push(I.roughnessMapUv),L.push(I.anisotropyMapUv),L.push(I.clearcoatMapUv),L.push(I.clearcoatNormalMapUv),L.push(I.clearcoatRoughnessMapUv),L.push(I.iridescenceMapUv),L.push(I.iridescenceThicknessMapUv),L.push(I.sheenColorMapUv),L.push(I.sheenRoughnessMapUv),L.push(I.specularMapUv),L.push(I.specularColorMapUv),L.push(I.specularIntensityMapUv),L.push(I.transmissionMapUv),L.push(I.thicknessMapUv),L.push(I.combine),L.push(I.fogExp2),L.push(I.sizeAttenuation),L.push(I.morphTargetsCount),L.push(I.morphAttributeCount),L.push(I.numDirLights),L.push(I.numPointLights),L.push(I.numSpotLights),L.push(I.numSpotLightMaps),L.push(I.numHemiLights),L.push(I.numRectAreaLights),L.push(I.numDirLightShadows),L.push(I.numPointLightShadows),L.push(I.numSpotLightShadows),L.push(I.numSpotLightShadowsWithMaps),L.push(I.numLightProbes),L.push(I.shadowMapType),L.push(I.toneMapping),L.push(I.numClippingPlanes),L.push(I.numClipIntersection),L.push(I.depthPacking)}function S(L,I){a.disableAll(),I.isWebGL2&&a.enable(0),I.supportsVertexTextures&&a.enable(1),I.instancing&&a.enable(2),I.instancingColor&&a.enable(3),I.matcap&&a.enable(4),I.envMap&&a.enable(5),I.normalMapObjectSpace&&a.enable(6),I.normalMapTangentSpace&&a.enable(7),I.clearcoat&&a.enable(8),I.iridescence&&a.enable(9),I.alphaTest&&a.enable(10),I.vertexColors&&a.enable(11),I.vertexAlphas&&a.enable(12),I.vertexUv1s&&a.enable(13),I.vertexUv2s&&a.enable(14),I.vertexUv3s&&a.enable(15),I.vertexTangents&&a.enable(16),I.anisotropy&&a.enable(17),I.alphaHash&&a.enable(18),I.batching&&a.enable(19),L.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.skinning&&a.enable(4),I.morphTargets&&a.enable(5),I.morphNormals&&a.enable(6),I.morphColors&&a.enable(7),I.premultipliedAlpha&&a.enable(8),I.shadowMapEnabled&&a.enable(9),I.useLegacyLights&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.transmission&&a.enable(15),I.sheen&&a.enable(16),I.opaque&&a.enable(17),I.pointsUvs&&a.enable(18),I.decodeVideoTexture&&a.enable(19),L.push(a.mask)}function b(L){const I=v[L.type];let j;if(I){const W=us[I];j=Jk.clone(W.uniforms)}else j=L.uniforms;return j}function A(L,I){let j;for(let W=0,re=c.length;W<re;W++){const B=c[W];if(B.cacheKey===I){j=B,++j.usedTimes;break}}return j===void 0&&(j=new hY(t,I,L,s),c.push(j)),j}function C(L){if(--L.usedTimes===0){const I=c.indexOf(L);c[I]=c[c.length-1],c.pop(),L.destroy()}}function N(L){l.remove(L)}function k(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:b,acquireProgram:A,releaseProgram:C,releaseShaderCache:N,programs:c,dispose:k}}function yY(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function i(s,o,a){t.get(s)[o]=a}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function xY(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function WP(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function XP(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(h,p,m,v,_,x){let g=t[e];return g===void 0?(g={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:_,group:x},t[e]=g):(g.id=h.id,g.object=h,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=h.renderOrder,g.z=_,g.group=x),e++,g}function a(h,p,m,v,_,x){const g=o(h,p,m,v,_,x);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):n.push(g)}function l(h,p,m,v,_,x){const g=o(h,p,m,v,_,x);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):n.unshift(g)}function c(h,p){n.length>1&&n.sort(h||xY),i.length>1&&i.sort(p||WP),r.length>1&&r.sort(p||WP)}function f(){for(let h=e,p=t.length;h<p;h++){const m=t[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:f,sort:c}}function _Y(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new XP,t.set(i,[o])):r>=s.length?(o=new XP,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function wY(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new H,color:new Ve};break;case"SpotLight":n={position:new H,direction:new H,color:new Ve,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new H,color:new Ve,distance:0,decay:0};break;case"HemisphereLight":n={direction:new H,skyColor:new Ve,groundColor:new Ve};break;case"RectAreaLight":n={color:new Ve,position:new H,halfWidth:new H,halfHeight:new H};break}return t[e.id]=n,n}}}function SY(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let MY=0;function EY(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function bY(t,e){const n=new wY,i=SY(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)r.probe.push(new H);const s=new H,o=new ht,a=new ht;function l(f,h){let p=0,m=0,v=0;for(let W=0;W<9;W++)r.probe[W].set(0,0,0);let _=0,x=0,g=0,w=0,S=0,b=0,A=0,C=0,N=0,k=0,L=0;f.sort(EY);const I=h===!0?Math.PI:1;for(let W=0,re=f.length;W<re;W++){const B=f[W],K=B.color,Z=B.intensity,ee=B.distance,D=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)p+=K.r*Z*I,m+=K.g*Z*I,v+=K.b*Z*I;else if(B.isLightProbe){for(let U=0;U<9;U++)r.probe[U].addScaledVector(B.sh.coefficients[U],Z);L++}else if(B.isDirectionalLight){const U=n.get(B);if(U.color.copy(B.color).multiplyScalar(B.intensity*I),B.castShadow){const V=B.shadow,$=i.get(B);$.shadowBias=V.bias,$.shadowNormalBias=V.normalBias,$.shadowRadius=V.radius,$.shadowMapSize=V.mapSize,r.directionalShadow[_]=$,r.directionalShadowMap[_]=D,r.directionalShadowMatrix[_]=B.shadow.matrix,b++}r.directional[_]=U,_++}else if(B.isSpotLight){const U=n.get(B);U.position.setFromMatrixPosition(B.matrixWorld),U.color.copy(K).multiplyScalar(Z*I),U.distance=ee,U.coneCos=Math.cos(B.angle),U.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),U.decay=B.decay,r.spot[g]=U;const V=B.shadow;if(B.map&&(r.spotLightMap[N]=B.map,N++,V.updateMatrices(B),B.castShadow&&k++),r.spotLightMatrix[g]=V.matrix,B.castShadow){const $=i.get(B);$.shadowBias=V.bias,$.shadowNormalBias=V.normalBias,$.shadowRadius=V.radius,$.shadowMapSize=V.mapSize,r.spotShadow[g]=$,r.spotShadowMap[g]=D,C++}g++}else if(B.isRectAreaLight){const U=n.get(B);U.color.copy(K).multiplyScalar(Z),U.halfWidth.set(B.width*.5,0,0),U.halfHeight.set(0,B.height*.5,0),r.rectArea[w]=U,w++}else if(B.isPointLight){const U=n.get(B);if(U.color.copy(B.color).multiplyScalar(B.intensity*I),U.distance=B.distance,U.decay=B.decay,B.castShadow){const V=B.shadow,$=i.get(B);$.shadowBias=V.bias,$.shadowNormalBias=V.normalBias,$.shadowRadius=V.radius,$.shadowMapSize=V.mapSize,$.shadowCameraNear=V.camera.near,$.shadowCameraFar=V.camera.far,r.pointShadow[x]=$,r.pointShadowMap[x]=D,r.pointShadowMatrix[x]=B.shadow.matrix,A++}r.point[x]=U,x++}else if(B.isHemisphereLight){const U=n.get(B);U.skyColor.copy(B.color).multiplyScalar(Z*I),U.groundColor.copy(B.groundColor).multiplyScalar(Z*I),r.hemi[S]=U,S++}}w>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Le.LTC_FLOAT_1,r.rectAreaLTC2=Le.LTC_FLOAT_2):(r.rectAreaLTC1=Le.LTC_HALF_1,r.rectAreaLTC2=Le.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Le.LTC_FLOAT_1,r.rectAreaLTC2=Le.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Le.LTC_HALF_1,r.rectAreaLTC2=Le.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=v;const j=r.hash;(j.directionalLength!==_||j.pointLength!==x||j.spotLength!==g||j.rectAreaLength!==w||j.hemiLength!==S||j.numDirectionalShadows!==b||j.numPointShadows!==A||j.numSpotShadows!==C||j.numSpotMaps!==N||j.numLightProbes!==L)&&(r.directional.length=_,r.spot.length=g,r.rectArea.length=w,r.point.length=x,r.hemi.length=S,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=A,r.pointShadowMap.length=A,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=A,r.spotLightMatrix.length=C+N-k,r.spotLightMap.length=N,r.numSpotLightShadowsWithMaps=k,r.numLightProbes=L,j.directionalLength=_,j.pointLength=x,j.spotLength=g,j.rectAreaLength=w,j.hemiLength=S,j.numDirectionalShadows=b,j.numPointShadows=A,j.numSpotShadows=C,j.numSpotMaps=N,j.numLightProbes=L,r.version=MY++)}function c(f,h){let p=0,m=0,v=0,_=0,x=0;const g=h.matrixWorldInverse;for(let w=0,S=f.length;w<S;w++){const b=f[w];if(b.isDirectionalLight){const A=r.directional[p];A.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(g),p++}else if(b.isSpotLight){const A=r.spot[v];A.position.setFromMatrixPosition(b.matrixWorld),A.position.applyMatrix4(g),A.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(g),v++}else if(b.isRectAreaLight){const A=r.rectArea[_];A.position.setFromMatrixPosition(b.matrixWorld),A.position.applyMatrix4(g),a.identity(),o.copy(b.matrixWorld),o.premultiply(g),a.extractRotation(o),A.halfWidth.set(b.width*.5,0,0),A.halfHeight.set(0,b.height*.5,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),_++}else if(b.isPointLight){const A=r.point[m];A.position.setFromMatrixPosition(b.matrixWorld),A.position.applyMatrix4(g),m++}else if(b.isHemisphereLight){const A=r.hemi[x];A.direction.setFromMatrixPosition(b.matrixWorld),A.direction.transformDirection(g),x++}}}return{setup:l,setupView:c,state:r}}function $P(t,e){const n=new bY(t,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){n.setup(i,h)}function c(h){n.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function TY(t,e){let n=new WeakMap;function i(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new $P(t,e),n.set(s,[l])):o>=a.length?(l=new $P(t,e),a.push(l)):l=a[o],l}function r(){n=new WeakMap}return{get:i,dispose:r}}class TE extends Ni{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Fk,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class AE extends Ni{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const AY=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,CY=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function PY(t,e,n){let i=new gp;const r=new ve,s=new ve,o=new Xt,a=new TE({depthPacking:zk}),l=new AE,c={},f=n.maxTextureSize,h={[Oo]:ji,[ji]:Oo,[zs]:zs},p=new Js({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ve},radius:{value:4}},vertexShader:AY,fragmentShader:CY}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new Tt;v.setAttribute("position",new Yt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new $n(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=jy;let g=this.type;this.render=function(C,N,k){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||C.length===0)return;const L=t.getRenderTarget(),I=t.getActiveCubeFace(),j=t.getActiveMipmapLevel(),W=t.state;W.setBlending(To),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const re=g!==ss&&this.type===ss,B=g===ss&&this.type!==ss;for(let K=0,Z=C.length;K<Z;K++){const ee=C[K],D=ee.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;r.copy(D.mapSize);const U=D.getFrameExtents();if(r.multiply(U),s.copy(D.mapSize),(r.x>f||r.y>f)&&(r.x>f&&(s.x=Math.floor(f/U.x),r.x=s.x*U.x,D.mapSize.x=s.x),r.y>f&&(s.y=Math.floor(f/U.y),r.y=s.y*U.y,D.mapSize.y=s.y)),D.map===null||re===!0||B===!0){const $=this.type!==ss?{minFilter:In,magFilter:In}:{};D.map!==null&&D.map.dispose(),D.map=new ys(r.x,r.y,$),D.map.texture.name=ee.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const V=D.getViewportCount();for(let $=0;$<V;$++){const Q=D.getViewport($);o.set(s.x*Q.x,s.y*Q.y,s.x*Q.z,s.y*Q.w),W.viewport(o),D.updateMatrices(ee,$),i=D.getFrustum(),b(N,k,D.camera,ee,this.type)}D.isPointLightShadow!==!0&&this.type===ss&&w(D,k),D.needsUpdate=!1}g=this.type,x.needsUpdate=!1,t.setRenderTarget(L,I,j)};function w(C,N){const k=e.update(_);p.defines.VSM_SAMPLES!==C.blurSamples&&(p.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new ys(r.x,r.y)),p.uniforms.shadow_pass.value=C.map.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(N,null,k,p,_,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(N,null,k,m,_,null)}function S(C,N,k,L){let I=null;const j=k.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(j!==void 0)I=j;else if(I=k.isPointLight===!0?l:a,t.localClippingEnabled&&N.clipShadows===!0&&Array.isArray(N.clippingPlanes)&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0){const W=I.uuid,re=N.uuid;let B=c[W];B===void 0&&(B={},c[W]=B);let K=B[re];K===void 0&&(K=I.clone(),B[re]=K,N.addEventListener("dispose",A)),I=K}if(I.visible=N.visible,I.wireframe=N.wireframe,L===ss?I.side=N.shadowSide!==null?N.shadowSide:N.side:I.side=N.shadowSide!==null?N.shadowSide:h[N.side],I.alphaMap=N.alphaMap,I.alphaTest=N.alphaTest,I.map=N.map,I.clipShadows=N.clipShadows,I.clippingPlanes=N.clippingPlanes,I.clipIntersection=N.clipIntersection,I.displacementMap=N.displacementMap,I.displacementScale=N.displacementScale,I.displacementBias=N.displacementBias,I.wireframeLinewidth=N.wireframeLinewidth,I.linewidth=N.linewidth,k.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const W=t.properties.get(I);W.light=k}return I}function b(C,N,k,L,I){if(C.visible===!1)return;if(C.layers.test(N.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&I===ss)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,C.matrixWorld);const re=e.update(C),B=C.material;if(Array.isArray(B)){const K=re.groups;for(let Z=0,ee=K.length;Z<ee;Z++){const D=K[Z],U=B[D.materialIndex];if(U&&U.visible){const V=S(C,U,L,I);C.onBeforeShadow(t,C,N,k,re,V,D),t.renderBufferDirect(k,null,re,V,C,D),C.onAfterShadow(t,C,N,k,re,V,D)}}}else if(B.visible){const K=S(C,B,L,I);C.onBeforeShadow(t,C,N,k,re,K,null),t.renderBufferDirect(k,null,re,K,C,null),C.onAfterShadow(t,C,N,k,re,K,null)}}const W=C.children;for(let re=0,B=W.length;re<B;re++)b(W[re],N,k,L,I)}function A(C){C.target.removeEventListener("dispose",A);for(const k in c){const L=c[k],I=C.target.uuid;I in L&&(L[I].dispose(),delete L[I])}}}function RY(t,e,n){const i=n.isWebGL2;function r(){let Y=!1;const Ie=new Xt;let Re=null;const ot=new Xt(0,0,0,0);return{setMask:function(Me){Re!==Me&&!Y&&(t.colorMask(Me,Me,Me,Me),Re=Me)},setLocked:function(Me){Y=Me},setClear:function(Me,Qe,it,kt,Gt){Gt===!0&&(Me*=kt,Qe*=kt,it*=kt),Ie.set(Me,Qe,it,kt),ot.equals(Ie)===!1&&(t.clearColor(Me,Qe,it,kt),ot.copy(Ie))},reset:function(){Y=!1,Re=null,ot.set(-1,0,0,0)}}}function s(){let Y=!1,Ie=null,Re=null,ot=null;return{setTest:function(Me){Me?nt(t.DEPTH_TEST):Fe(t.DEPTH_TEST)},setMask:function(Me){Ie!==Me&&!Y&&(t.depthMask(Me),Ie=Me)},setFunc:function(Me){if(Re!==Me){switch(Me){case fk:t.depthFunc(t.NEVER);break;case hk:t.depthFunc(t.ALWAYS);break;case pk:t.depthFunc(t.LESS);break;case bh:t.depthFunc(t.LEQUAL);break;case mk:t.depthFunc(t.EQUAL);break;case gk:t.depthFunc(t.GEQUAL);break;case vk:t.depthFunc(t.GREATER);break;case yk:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Re=Me}},setLocked:function(Me){Y=Me},setClear:function(Me){ot!==Me&&(t.clearDepth(Me),ot=Me)},reset:function(){Y=!1,Ie=null,Re=null,ot=null}}}function o(){let Y=!1,Ie=null,Re=null,ot=null,Me=null,Qe=null,it=null,kt=null,Gt=null;return{setTest:function(Nt){Y||(Nt?nt(t.STENCIL_TEST):Fe(t.STENCIL_TEST))},setMask:function(Nt){Ie!==Nt&&!Y&&(t.stencilMask(Nt),Ie=Nt)},setFunc:function(Nt,en,ln){(Re!==Nt||ot!==en||Me!==ln)&&(t.stencilFunc(Nt,en,ln),Re=Nt,ot=en,Me=ln)},setOp:function(Nt,en,ln){(Qe!==Nt||it!==en||kt!==ln)&&(t.stencilOp(Nt,en,ln),Qe=Nt,it=en,kt=ln)},setLocked:function(Nt){Y=Nt},setClear:function(Nt){Gt!==Nt&&(t.clearStencil(Nt),Gt=Nt)},reset:function(){Y=!1,Ie=null,Re=null,ot=null,Me=null,Qe=null,it=null,kt=null,Gt=null}}}const a=new r,l=new s,c=new o,f=new WeakMap,h=new WeakMap;let p={},m={},v=new WeakMap,_=[],x=null,g=!1,w=null,S=null,b=null,A=null,C=null,N=null,k=null,L=new Ve(0,0,0),I=0,j=!1,W=null,re=null,B=null,K=null,Z=null;const ee=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let D=!1,U=0;const V=t.getParameter(t.VERSION);V.indexOf("WebGL")!==-1?(U=parseFloat(/^WebGL (\d)/.exec(V)[1]),D=U>=1):V.indexOf("OpenGL ES")!==-1&&(U=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),D=U>=2);let $=null,Q={};const q=t.getParameter(t.SCISSOR_BOX),se=t.getParameter(t.VIEWPORT),me=new Xt().fromArray(q),Te=new Xt().fromArray(se);function ge(Y,Ie,Re,ot){const Me=new Uint8Array(4),Qe=t.createTexture();t.bindTexture(Y,Qe),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let it=0;it<Re;it++)i&&(Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY)?t.texImage3D(Ie,0,t.RGBA,1,1,ot,0,t.RGBA,t.UNSIGNED_BYTE,Me):t.texImage2D(Ie+it,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Me);return Qe}const tt={};tt[t.TEXTURE_2D]=ge(t.TEXTURE_2D,t.TEXTURE_2D,1),tt[t.TEXTURE_CUBE_MAP]=ge(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(tt[t.TEXTURE_2D_ARRAY]=ge(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),tt[t.TEXTURE_3D]=ge(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),nt(t.DEPTH_TEST),l.setFunc(bh),De(!1),F(Dw),nt(t.CULL_FACE),fe(To);function nt(Y){p[Y]!==!0&&(t.enable(Y),p[Y]=!0)}function Fe(Y){p[Y]!==!1&&(t.disable(Y),p[Y]=!1)}function Xe(Y,Ie){return m[Y]!==Ie?(t.bindFramebuffer(Y,Ie),m[Y]=Ie,i&&(Y===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=Ie),Y===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=Ie)),!0):!1}function X(Y,Ie){let Re=_,ot=!1;if(Y)if(Re=v.get(Ie),Re===void 0&&(Re=[],v.set(Ie,Re)),Y.isWebGLMultipleRenderTargets){const Me=Y.texture;if(Re.length!==Me.length||Re[0]!==t.COLOR_ATTACHMENT0){for(let Qe=0,it=Me.length;Qe<it;Qe++)Re[Qe]=t.COLOR_ATTACHMENT0+Qe;Re.length=Me.length,ot=!0}}else Re[0]!==t.COLOR_ATTACHMENT0&&(Re[0]=t.COLOR_ATTACHMENT0,ot=!0);else Re[0]!==t.BACK&&(Re[0]=t.BACK,ot=!0);ot&&(n.isWebGL2?t.drawBuffers(Re):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Re))}function we(Y){return x!==Y?(t.useProgram(Y),x=Y,!0):!1}const he={[ya]:t.FUNC_ADD,[ZD]:t.FUNC_SUBTRACT,[QD]:t.FUNC_REVERSE_SUBTRACT};if(i)he[Uw]=t.MIN,he[Fw]=t.MAX;else{const Y=e.get("EXT_blend_minmax");Y!==null&&(he[Uw]=Y.MIN_EXT,he[Fw]=Y.MAX_EXT)}const Ee={[JD]:t.ZERO,[ek]:t.ONE,[tk]:t.SRC_COLOR,[Jv]:t.SRC_ALPHA,[ak]:t.SRC_ALPHA_SATURATE,[sk]:t.DST_COLOR,[ik]:t.DST_ALPHA,[nk]:t.ONE_MINUS_SRC_COLOR,[ey]:t.ONE_MINUS_SRC_ALPHA,[ok]:t.ONE_MINUS_DST_COLOR,[rk]:t.ONE_MINUS_DST_ALPHA,[lk]:t.CONSTANT_COLOR,[ck]:t.ONE_MINUS_CONSTANT_COLOR,[uk]:t.CONSTANT_ALPHA,[dk]:t.ONE_MINUS_CONSTANT_ALPHA};function fe(Y,Ie,Re,ot,Me,Qe,it,kt,Gt,Nt){if(Y===To){g===!0&&(Fe(t.BLEND),g=!1);return}if(g===!1&&(nt(t.BLEND),g=!0),Y!==KD){if(Y!==w||Nt!==j){if((S!==ya||C!==ya)&&(t.blendEquation(t.FUNC_ADD),S=ya,C=ya),Nt)switch(Y){case Xl:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case od:t.blendFunc(t.ONE,t.ONE);break;case kw:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Ow:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}else switch(Y){case Xl:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case od:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case kw:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Ow:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}b=null,A=null,N=null,k=null,L.set(0,0,0),I=0,w=Y,j=Nt}return}Me=Me||Ie,Qe=Qe||Re,it=it||ot,(Ie!==S||Me!==C)&&(t.blendEquationSeparate(he[Ie],he[Me]),S=Ie,C=Me),(Re!==b||ot!==A||Qe!==N||it!==k)&&(t.blendFuncSeparate(Ee[Re],Ee[ot],Ee[Qe],Ee[it]),b=Re,A=ot,N=Qe,k=it),(kt.equals(L)===!1||Gt!==I)&&(t.blendColor(kt.r,kt.g,kt.b,Gt),L.copy(kt),I=Gt),w=Y,j=!1}function qe(Y,Ie){Y.side===zs?Fe(t.CULL_FACE):nt(t.CULL_FACE);let Re=Y.side===ji;Ie&&(Re=!Re),De(Re),Y.blending===Xl&&Y.transparent===!1?fe(To):fe(Y.blending,Y.blendEquation,Y.blendSrc,Y.blendDst,Y.blendEquationAlpha,Y.blendSrcAlpha,Y.blendDstAlpha,Y.blendColor,Y.blendAlpha,Y.premultipliedAlpha),l.setFunc(Y.depthFunc),l.setTest(Y.depthTest),l.setMask(Y.depthWrite),a.setMask(Y.colorWrite);const ot=Y.stencilWrite;c.setTest(ot),ot&&(c.setMask(Y.stencilWriteMask),c.setFunc(Y.stencilFunc,Y.stencilRef,Y.stencilFuncMask),c.setOp(Y.stencilFail,Y.stencilZFail,Y.stencilZPass)),ne(Y.polygonOffset,Y.polygonOffsetFactor,Y.polygonOffsetUnits),Y.alphaToCoverage===!0?nt(t.SAMPLE_ALPHA_TO_COVERAGE):Fe(t.SAMPLE_ALPHA_TO_COVERAGE)}function De(Y){W!==Y&&(Y?t.frontFace(t.CW):t.frontFace(t.CCW),W=Y)}function F(Y){Y!==$D?(nt(t.CULL_FACE),Y!==re&&(Y===Dw?t.cullFace(t.BACK):Y===YD?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Fe(t.CULL_FACE),re=Y}function O(Y){Y!==B&&(D&&t.lineWidth(Y),B=Y)}function ne(Y,Ie,Re){Y?(nt(t.POLYGON_OFFSET_FILL),(K!==Ie||Z!==Re)&&(t.polygonOffset(Ie,Re),K=Ie,Z=Re)):Fe(t.POLYGON_OFFSET_FILL)}function Se(Y){Y?nt(t.SCISSOR_TEST):Fe(t.SCISSOR_TEST)}function ye(Y){Y===void 0&&(Y=t.TEXTURE0+ee-1),$!==Y&&(t.activeTexture(Y),$=Y)}function xe(Y,Ie,Re){Re===void 0&&($===null?Re=t.TEXTURE0+ee-1:Re=$);let ot=Q[Re];ot===void 0&&(ot={type:void 0,texture:void 0},Q[Re]=ot),(ot.type!==Y||ot.texture!==Ie)&&($!==Re&&(t.activeTexture(Re),$=Re),t.bindTexture(Y,Ie||tt[Y]),ot.type=Y,ot.texture=Ie)}function $e(){const Y=Q[$];Y!==void 0&&Y.type!==void 0&&(t.bindTexture(Y.type,null),Y.type=void 0,Y.texture=void 0)}function Ae(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Oe(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function rt(){try{t.texSubImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function mt(){try{t.texSubImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function _e(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function It(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function St(){try{t.texStorage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function ct(){try{t.texStorage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Ke(){try{t.texImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function He(){try{t.texImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function ut(Y){me.equals(Y)===!1&&(t.scissor(Y.x,Y.y,Y.z,Y.w),me.copy(Y))}function Dt(Y){Te.equals(Y)===!1&&(t.viewport(Y.x,Y.y,Y.z,Y.w),Te.copy(Y))}function Zt(Y,Ie){let Re=h.get(Ie);Re===void 0&&(Re=new WeakMap,h.set(Ie,Re));let ot=Re.get(Y);ot===void 0&&(ot=t.getUniformBlockIndex(Ie,Y.name),Re.set(Y,ot))}function yt(Y,Ie){const ot=h.get(Ie).get(Y);f.get(Ie)!==ot&&(t.uniformBlockBinding(Ie,ot,Y.__bindingPointIndex),f.set(Ie,ot))}function Pe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),i===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},$=null,Q={},m={},v=new WeakMap,_=[],x=null,g=!1,w=null,S=null,b=null,A=null,C=null,N=null,k=null,L=new Ve(0,0,0),I=0,j=!1,W=null,re=null,B=null,K=null,Z=null,me.set(0,0,t.canvas.width,t.canvas.height),Te.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:nt,disable:Fe,bindFramebuffer:Xe,drawBuffers:X,useProgram:we,setBlending:fe,setMaterial:qe,setFlipSided:De,setCullFace:F,setLineWidth:O,setPolygonOffset:ne,setScissorTest:Se,activeTexture:ye,bindTexture:xe,unbindTexture:$e,compressedTexImage2D:Ae,compressedTexImage3D:Oe,texImage2D:Ke,texImage3D:He,updateUBOMapping:Zt,uniformBlockBinding:yt,texStorage2D:St,texStorage3D:ct,texSubImage2D:rt,texSubImage3D:mt,compressedTexSubImage2D:_e,compressedTexSubImage3D:It,scissor:ut,viewport:Dt,reset:Pe}}function NY(t,e,n,i,r,s,o){const a=r.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new WeakMap;let h;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(F,O){return m?new OffscreenCanvas(F,O):Uh("canvas")}function _(F,O,ne,Se){let ye=1;if((F.width>Se||F.height>Se)&&(ye=Se/Math.max(F.width,F.height)),ye<1||O===!0)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap){const xe=O?iy:Math.floor,$e=xe(ye*F.width),Ae=xe(ye*F.height);h===void 0&&(h=v($e,Ae));const Oe=ne?v($e,Ae):h;return Oe.width=$e,Oe.height=Ae,Oe.getContext("2d").drawImage(F,0,0,$e,Ae),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+F.width+"x"+F.height+") to ("+$e+"x"+Ae+")."),Oe}else return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+F.width+"x"+F.height+")."),F;return F}function x(F){return hS(F.width)&&hS(F.height)}function g(F){return a?!1:F.wrapS!==Ai||F.wrapT!==Ai||F.minFilter!==In&&F.minFilter!==kn}function w(F,O){return F.generateMipmaps&&O&&F.minFilter!==In&&F.minFilter!==kn}function S(F){t.generateMipmap(F)}function b(F,O,ne,Se,ye=!1){if(a===!1)return O;if(F!==null){if(t[F]!==void 0)return t[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let xe=O;if(O===t.RED&&(ne===t.FLOAT&&(xe=t.R32F),ne===t.HALF_FLOAT&&(xe=t.R16F),ne===t.UNSIGNED_BYTE&&(xe=t.R8)),O===t.RED_INTEGER&&(ne===t.UNSIGNED_BYTE&&(xe=t.R8UI),ne===t.UNSIGNED_SHORT&&(xe=t.R16UI),ne===t.UNSIGNED_INT&&(xe=t.R32UI),ne===t.BYTE&&(xe=t.R8I),ne===t.SHORT&&(xe=t.R16I),ne===t.INT&&(xe=t.R32I)),O===t.RG&&(ne===t.FLOAT&&(xe=t.RG32F),ne===t.HALF_FLOAT&&(xe=t.RG16F),ne===t.UNSIGNED_BYTE&&(xe=t.RG8)),O===t.RGBA){const $e=ye?Ih:Wt.getTransfer(Se);ne===t.FLOAT&&(xe=t.RGBA32F),ne===t.HALF_FLOAT&&(xe=t.RGBA16F),ne===t.UNSIGNED_BYTE&&(xe=$e===Qt?t.SRGB8_ALPHA8:t.RGBA8),ne===t.UNSIGNED_SHORT_4_4_4_4&&(xe=t.RGBA4),ne===t.UNSIGNED_SHORT_5_5_5_1&&(xe=t.RGB5_A1)}return(xe===t.R16F||xe===t.R32F||xe===t.RG16F||xe===t.RG32F||xe===t.RGBA16F||xe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),xe}function A(F,O,ne){return w(F,ne)===!0||F.isFramebufferTexture&&F.minFilter!==In&&F.minFilter!==kn?Math.log2(Math.max(O.width,O.height))+1:F.mipmaps!==void 0&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?O.mipmaps.length:1}function C(F){return F===In||F===ty||F===Wf?t.NEAREST:t.LINEAR}function N(F){const O=F.target;O.removeEventListener("dispose",N),L(O),O.isVideoTexture&&f.delete(O)}function k(F){const O=F.target;O.removeEventListener("dispose",k),j(O)}function L(F){const O=i.get(F);if(O.__webglInit===void 0)return;const ne=F.source,Se=p.get(ne);if(Se){const ye=Se[O.__cacheKey];ye.usedTimes--,ye.usedTimes===0&&I(F),Object.keys(Se).length===0&&p.delete(ne)}i.remove(F)}function I(F){const O=i.get(F);t.deleteTexture(O.__webglTexture);const ne=F.source,Se=p.get(ne);delete Se[O.__cacheKey],o.memory.textures--}function j(F){const O=F.texture,ne=i.get(F),Se=i.get(O);if(Se.__webglTexture!==void 0&&(t.deleteTexture(Se.__webglTexture),o.memory.textures--),F.depthTexture&&F.depthTexture.dispose(),F.isWebGLCubeRenderTarget)for(let ye=0;ye<6;ye++){if(Array.isArray(ne.__webglFramebuffer[ye]))for(let xe=0;xe<ne.__webglFramebuffer[ye].length;xe++)t.deleteFramebuffer(ne.__webglFramebuffer[ye][xe]);else t.deleteFramebuffer(ne.__webglFramebuffer[ye]);ne.__webglDepthbuffer&&t.deleteRenderbuffer(ne.__webglDepthbuffer[ye])}else{if(Array.isArray(ne.__webglFramebuffer))for(let ye=0;ye<ne.__webglFramebuffer.length;ye++)t.deleteFramebuffer(ne.__webglFramebuffer[ye]);else t.deleteFramebuffer(ne.__webglFramebuffer);if(ne.__webglDepthbuffer&&t.deleteRenderbuffer(ne.__webglDepthbuffer),ne.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ne.__webglMultisampledFramebuffer),ne.__webglColorRenderbuffer)for(let ye=0;ye<ne.__webglColorRenderbuffer.length;ye++)ne.__webglColorRenderbuffer[ye]&&t.deleteRenderbuffer(ne.__webglColorRenderbuffer[ye]);ne.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ne.__webglDepthRenderbuffer)}if(F.isWebGLMultipleRenderTargets)for(let ye=0,xe=O.length;ye<xe;ye++){const $e=i.get(O[ye]);$e.__webglTexture&&(t.deleteTexture($e.__webglTexture),o.memory.textures--),i.remove(O[ye])}i.remove(O),i.remove(F)}let W=0;function re(){W=0}function B(){const F=W;return F>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+r.maxTextures),W+=1,F}function K(F){const O=[];return O.push(F.wrapS),O.push(F.wrapT),O.push(F.wrapR||0),O.push(F.magFilter),O.push(F.minFilter),O.push(F.anisotropy),O.push(F.internalFormat),O.push(F.format),O.push(F.type),O.push(F.generateMipmaps),O.push(F.premultiplyAlpha),O.push(F.flipY),O.push(F.unpackAlignment),O.push(F.colorSpace),O.join()}function Z(F,O){const ne=i.get(F);if(F.isVideoTexture&&qe(F),F.isRenderTargetTexture===!1&&F.version>0&&ne.__version!==F.version){const Se=F.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{me(ne,F,O);return}}n.bindTexture(t.TEXTURE_2D,ne.__webglTexture,t.TEXTURE0+O)}function ee(F,O){const ne=i.get(F);if(F.version>0&&ne.__version!==F.version){me(ne,F,O);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ne.__webglTexture,t.TEXTURE0+O)}function D(F,O){const ne=i.get(F);if(F.version>0&&ne.__version!==F.version){me(ne,F,O);return}n.bindTexture(t.TEXTURE_3D,ne.__webglTexture,t.TEXTURE0+O)}function U(F,O){const ne=i.get(F);if(F.version>0&&ne.__version!==F.version){Te(ne,F,O);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ne.__webglTexture,t.TEXTURE0+O)}const V={[Ch]:t.REPEAT,[Ai]:t.CLAMP_TO_EDGE,[Ph]:t.MIRRORED_REPEAT},$={[In]:t.NEAREST,[ty]:t.NEAREST_MIPMAP_NEAREST,[Wf]:t.NEAREST_MIPMAP_LINEAR,[kn]:t.LINEAR,[lE]:t.LINEAR_MIPMAP_NEAREST,[Ga]:t.LINEAR_MIPMAP_LINEAR},Q={[Vk]:t.NEVER,[$k]:t.ALWAYS,[Hk]:t.LESS,[yE]:t.LEQUAL,[jk]:t.EQUAL,[Xk]:t.GEQUAL,[Gk]:t.GREATER,[Wk]:t.NOTEQUAL};function q(F,O,ne){if(ne?(t.texParameteri(F,t.TEXTURE_WRAP_S,V[O.wrapS]),t.texParameteri(F,t.TEXTURE_WRAP_T,V[O.wrapT]),(F===t.TEXTURE_3D||F===t.TEXTURE_2D_ARRAY)&&t.texParameteri(F,t.TEXTURE_WRAP_R,V[O.wrapR]),t.texParameteri(F,t.TEXTURE_MAG_FILTER,$[O.magFilter]),t.texParameteri(F,t.TEXTURE_MIN_FILTER,$[O.minFilter])):(t.texParameteri(F,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(F,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(F===t.TEXTURE_3D||F===t.TEXTURE_2D_ARRAY)&&t.texParameteri(F,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(O.wrapS!==Ai||O.wrapT!==Ai)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(F,t.TEXTURE_MAG_FILTER,C(O.magFilter)),t.texParameteri(F,t.TEXTURE_MIN_FILTER,C(O.minFilter)),O.minFilter!==In&&O.minFilter!==kn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),O.compareFunction&&(t.texParameteri(F,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(F,t.TEXTURE_COMPARE_FUNC,Q[O.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Se=e.get("EXT_texture_filter_anisotropic");if(O.magFilter===In||O.minFilter!==Wf&&O.minFilter!==Ga||O.type===ds&&e.has("OES_texture_float_linear")===!1||a===!1&&O.type===ad&&e.has("OES_texture_half_float_linear")===!1)return;(O.anisotropy>1||i.get(O).__currentAnisotropy)&&(t.texParameterf(F,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,r.getMaxAnisotropy())),i.get(O).__currentAnisotropy=O.anisotropy)}}function se(F,O){let ne=!1;F.__webglInit===void 0&&(F.__webglInit=!0,O.addEventListener("dispose",N));const Se=O.source;let ye=p.get(Se);ye===void 0&&(ye={},p.set(Se,ye));const xe=K(O);if(xe!==F.__cacheKey){ye[xe]===void 0&&(ye[xe]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ne=!0),ye[xe].usedTimes++;const $e=ye[F.__cacheKey];$e!==void 0&&(ye[F.__cacheKey].usedTimes--,$e.usedTimes===0&&I(O)),F.__cacheKey=xe,F.__webglTexture=ye[xe].texture}return ne}function me(F,O,ne){let Se=t.TEXTURE_2D;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(Se=t.TEXTURE_2D_ARRAY),O.isData3DTexture&&(Se=t.TEXTURE_3D);const ye=se(F,O),xe=O.source;n.bindTexture(Se,F.__webglTexture,t.TEXTURE0+ne);const $e=i.get(xe);if(xe.version!==$e.__version||ye===!0){n.activeTexture(t.TEXTURE0+ne);const Ae=Wt.getPrimaries(Wt.workingColorSpace),Oe=O.colorSpace===yr?null:Wt.getPrimaries(O.colorSpace),rt=O.colorSpace===yr||Ae===Oe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,rt);const mt=g(O)&&x(O.image)===!1;let _e=_(O.image,mt,!1,r.maxTextureSize);_e=De(O,_e);const It=x(_e)||a,St=s.convert(O.format,O.colorSpace);let ct=s.convert(O.type),Ke=b(O.internalFormat,St,ct,O.colorSpace,O.isVideoTexture);q(Se,O,It);let He;const ut=O.mipmaps,Dt=a&&O.isVideoTexture!==!0&&Ke!==mE,Zt=$e.__version===void 0||ye===!0,yt=A(O,_e,It);if(O.isDepthTexture)Ke=t.DEPTH_COMPONENT,a?O.type===ds?Ke=t.DEPTH_COMPONENT32F:O.type===Mo?Ke=t.DEPTH_COMPONENT24:O.type===Oa?Ke=t.DEPTH24_STENCIL8:Ke=t.DEPTH_COMPONENT16:O.type===ds&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===Ua&&Ke===t.DEPTH_COMPONENT&&O.type!==Wy&&O.type!==Mo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=Mo,ct=s.convert(O.type)),O.format===sc&&Ke===t.DEPTH_COMPONENT&&(Ke=t.DEPTH_STENCIL,O.type!==Oa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=Oa,ct=s.convert(O.type))),Zt&&(Dt?n.texStorage2D(t.TEXTURE_2D,1,Ke,_e.width,_e.height):n.texImage2D(t.TEXTURE_2D,0,Ke,_e.width,_e.height,0,St,ct,null));else if(O.isDataTexture)if(ut.length>0&&It){Dt&&Zt&&n.texStorage2D(t.TEXTURE_2D,yt,Ke,ut[0].width,ut[0].height);for(let Pe=0,Y=ut.length;Pe<Y;Pe++)He=ut[Pe],Dt?n.texSubImage2D(t.TEXTURE_2D,Pe,0,0,He.width,He.height,St,ct,He.data):n.texImage2D(t.TEXTURE_2D,Pe,Ke,He.width,He.height,0,St,ct,He.data);O.generateMipmaps=!1}else Dt?(Zt&&n.texStorage2D(t.TEXTURE_2D,yt,Ke,_e.width,_e.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,_e.width,_e.height,St,ct,_e.data)):n.texImage2D(t.TEXTURE_2D,0,Ke,_e.width,_e.height,0,St,ct,_e.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){Dt&&Zt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,yt,Ke,ut[0].width,ut[0].height,_e.depth);for(let Pe=0,Y=ut.length;Pe<Y;Pe++)He=ut[Pe],O.format!==Bi?St!==null?Dt?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Pe,0,0,0,He.width,He.height,_e.depth,St,He.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Pe,Ke,He.width,He.height,_e.depth,0,He.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Dt?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Pe,0,0,0,He.width,He.height,_e.depth,St,ct,He.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Pe,Ke,He.width,He.height,_e.depth,0,St,ct,He.data)}else{Dt&&Zt&&n.texStorage2D(t.TEXTURE_2D,yt,Ke,ut[0].width,ut[0].height);for(let Pe=0,Y=ut.length;Pe<Y;Pe++)He=ut[Pe],O.format!==Bi?St!==null?Dt?n.compressedTexSubImage2D(t.TEXTURE_2D,Pe,0,0,He.width,He.height,St,He.data):n.compressedTexImage2D(t.TEXTURE_2D,Pe,Ke,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Dt?n.texSubImage2D(t.TEXTURE_2D,Pe,0,0,He.width,He.height,St,ct,He.data):n.texImage2D(t.TEXTURE_2D,Pe,Ke,He.width,He.height,0,St,ct,He.data)}else if(O.isDataArrayTexture)Dt?(Zt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,yt,Ke,_e.width,_e.height,_e.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,_e.width,_e.height,_e.depth,St,ct,_e.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ke,_e.width,_e.height,_e.depth,0,St,ct,_e.data);else if(O.isData3DTexture)Dt?(Zt&&n.texStorage3D(t.TEXTURE_3D,yt,Ke,_e.width,_e.height,_e.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,_e.width,_e.height,_e.depth,St,ct,_e.data)):n.texImage3D(t.TEXTURE_3D,0,Ke,_e.width,_e.height,_e.depth,0,St,ct,_e.data);else if(O.isFramebufferTexture){if(Zt)if(Dt)n.texStorage2D(t.TEXTURE_2D,yt,Ke,_e.width,_e.height);else{let Pe=_e.width,Y=_e.height;for(let Ie=0;Ie<yt;Ie++)n.texImage2D(t.TEXTURE_2D,Ie,Ke,Pe,Y,0,St,ct,null),Pe>>=1,Y>>=1}}else if(ut.length>0&&It){Dt&&Zt&&n.texStorage2D(t.TEXTURE_2D,yt,Ke,ut[0].width,ut[0].height);for(let Pe=0,Y=ut.length;Pe<Y;Pe++)He=ut[Pe],Dt?n.texSubImage2D(t.TEXTURE_2D,Pe,0,0,St,ct,He):n.texImage2D(t.TEXTURE_2D,Pe,Ke,St,ct,He);O.generateMipmaps=!1}else Dt?(Zt&&n.texStorage2D(t.TEXTURE_2D,yt,Ke,_e.width,_e.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,St,ct,_e)):n.texImage2D(t.TEXTURE_2D,0,Ke,St,ct,_e);w(O,It)&&S(Se),$e.__version=xe.version,O.onUpdate&&O.onUpdate(O)}F.__version=O.version}function Te(F,O,ne){if(O.image.length!==6)return;const Se=se(F,O),ye=O.source;n.bindTexture(t.TEXTURE_CUBE_MAP,F.__webglTexture,t.TEXTURE0+ne);const xe=i.get(ye);if(ye.version!==xe.__version||Se===!0){n.activeTexture(t.TEXTURE0+ne);const $e=Wt.getPrimaries(Wt.workingColorSpace),Ae=O.colorSpace===yr?null:Wt.getPrimaries(O.colorSpace),Oe=O.colorSpace===yr||$e===Ae?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,O.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,O.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,O.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Oe);const rt=O.isCompressedTexture||O.image[0].isCompressedTexture,mt=O.image[0]&&O.image[0].isDataTexture,_e=[];for(let Pe=0;Pe<6;Pe++)!rt&&!mt?_e[Pe]=_(O.image[Pe],!1,!0,r.maxCubemapSize):_e[Pe]=mt?O.image[Pe].image:O.image[Pe],_e[Pe]=De(O,_e[Pe]);const It=_e[0],St=x(It)||a,ct=s.convert(O.format,O.colorSpace),Ke=s.convert(O.type),He=b(O.internalFormat,ct,Ke,O.colorSpace),ut=a&&O.isVideoTexture!==!0,Dt=xe.__version===void 0||Se===!0;let Zt=A(O,It,St);q(t.TEXTURE_CUBE_MAP,O,St);let yt;if(rt){ut&&Dt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Zt,He,It.width,It.height);for(let Pe=0;Pe<6;Pe++){yt=_e[Pe].mipmaps;for(let Y=0;Y<yt.length;Y++){const Ie=yt[Y];O.format!==Bi?ct!==null?ut?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Y,0,0,Ie.width,Ie.height,ct,Ie.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Y,He,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ut?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Y,0,0,Ie.width,Ie.height,ct,Ke,Ie.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Y,He,Ie.width,Ie.height,0,ct,Ke,Ie.data)}}}else{yt=O.mipmaps,ut&&Dt&&(yt.length>0&&Zt++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Zt,He,_e[0].width,_e[0].height));for(let Pe=0;Pe<6;Pe++)if(mt){ut?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,0,0,_e[Pe].width,_e[Pe].height,ct,Ke,_e[Pe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,He,_e[Pe].width,_e[Pe].height,0,ct,Ke,_e[Pe].data);for(let Y=0;Y<yt.length;Y++){const Re=yt[Y].image[Pe].image;ut?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Y+1,0,0,Re.width,Re.height,ct,Ke,Re.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Y+1,He,Re.width,Re.height,0,ct,Ke,Re.data)}}else{ut?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,0,0,ct,Ke,_e[Pe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,He,ct,Ke,_e[Pe]);for(let Y=0;Y<yt.length;Y++){const Ie=yt[Y];ut?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Y+1,0,0,ct,Ke,Ie.image[Pe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Y+1,He,ct,Ke,Ie.image[Pe])}}}w(O,St)&&S(t.TEXTURE_CUBE_MAP),xe.__version=ye.version,O.onUpdate&&O.onUpdate(O)}F.__version=O.version}function ge(F,O,ne,Se,ye,xe){const $e=s.convert(ne.format,ne.colorSpace),Ae=s.convert(ne.type),Oe=b(ne.internalFormat,$e,Ae,ne.colorSpace);if(!i.get(O).__hasExternalTextures){const mt=Math.max(1,O.width>>xe),_e=Math.max(1,O.height>>xe);ye===t.TEXTURE_3D||ye===t.TEXTURE_2D_ARRAY?n.texImage3D(ye,xe,Oe,mt,_e,O.depth,0,$e,Ae,null):n.texImage2D(ye,xe,Oe,mt,_e,0,$e,Ae,null)}n.bindFramebuffer(t.FRAMEBUFFER,F),fe(O)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Se,ye,i.get(ne).__webglTexture,0,Ee(O)):(ye===t.TEXTURE_2D||ye>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ye<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Se,ye,i.get(ne).__webglTexture,xe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function tt(F,O,ne){if(t.bindRenderbuffer(t.RENDERBUFFER,F),O.depthBuffer&&!O.stencilBuffer){let Se=a===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ne||fe(O)){const ye=O.depthTexture;ye&&ye.isDepthTexture&&(ye.type===ds?Se=t.DEPTH_COMPONENT32F:ye.type===Mo&&(Se=t.DEPTH_COMPONENT24));const xe=Ee(O);fe(O)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,xe,Se,O.width,O.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,xe,Se,O.width,O.height)}else t.renderbufferStorage(t.RENDERBUFFER,Se,O.width,O.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,F)}else if(O.depthBuffer&&O.stencilBuffer){const Se=Ee(O);ne&&fe(O)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Se,t.DEPTH24_STENCIL8,O.width,O.height):fe(O)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Se,t.DEPTH24_STENCIL8,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,O.width,O.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,F)}else{const Se=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let ye=0;ye<Se.length;ye++){const xe=Se[ye],$e=s.convert(xe.format,xe.colorSpace),Ae=s.convert(xe.type),Oe=b(xe.internalFormat,$e,Ae,xe.colorSpace),rt=Ee(O);ne&&fe(O)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,rt,Oe,O.width,O.height):fe(O)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,rt,Oe,O.width,O.height):t.renderbufferStorage(t.RENDERBUFFER,Oe,O.width,O.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function nt(F,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,F),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),Z(O.depthTexture,0);const Se=i.get(O.depthTexture).__webglTexture,ye=Ee(O);if(O.depthTexture.format===Ua)fe(O)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Se,0,ye):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Se,0);else if(O.depthTexture.format===sc)fe(O)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Se,0,ye):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Se,0);else throw new Error("Unknown depthTexture format")}function Fe(F){const O=i.get(F),ne=F.isWebGLCubeRenderTarget===!0;if(F.depthTexture&&!O.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");nt(O.__webglFramebuffer,F)}else if(ne){O.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer[Se]),O.__webglDepthbuffer[Se]=t.createRenderbuffer(),tt(O.__webglDepthbuffer[Se],F,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,O.__webglFramebuffer),O.__webglDepthbuffer=t.createRenderbuffer(),tt(O.__webglDepthbuffer,F,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Xe(F,O,ne){const Se=i.get(F);O!==void 0&&ge(Se.__webglFramebuffer,F,F.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ne!==void 0&&Fe(F)}function X(F){const O=F.texture,ne=i.get(F),Se=i.get(O);F.addEventListener("dispose",k),F.isWebGLMultipleRenderTargets!==!0&&(Se.__webglTexture===void 0&&(Se.__webglTexture=t.createTexture()),Se.__version=O.version,o.memory.textures++);const ye=F.isWebGLCubeRenderTarget===!0,xe=F.isWebGLMultipleRenderTargets===!0,$e=x(F)||a;if(ye){ne.__webglFramebuffer=[];for(let Ae=0;Ae<6;Ae++)if(a&&O.mipmaps&&O.mipmaps.length>0){ne.__webglFramebuffer[Ae]=[];for(let Oe=0;Oe<O.mipmaps.length;Oe++)ne.__webglFramebuffer[Ae][Oe]=t.createFramebuffer()}else ne.__webglFramebuffer[Ae]=t.createFramebuffer()}else{if(a&&O.mipmaps&&O.mipmaps.length>0){ne.__webglFramebuffer=[];for(let Ae=0;Ae<O.mipmaps.length;Ae++)ne.__webglFramebuffer[Ae]=t.createFramebuffer()}else ne.__webglFramebuffer=t.createFramebuffer();if(xe)if(r.drawBuffers){const Ae=F.texture;for(let Oe=0,rt=Ae.length;Oe<rt;Oe++){const mt=i.get(Ae[Oe]);mt.__webglTexture===void 0&&(mt.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&F.samples>0&&fe(F)===!1){const Ae=xe?O:[O];ne.__webglMultisampledFramebuffer=t.createFramebuffer(),ne.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ne.__webglMultisampledFramebuffer);for(let Oe=0;Oe<Ae.length;Oe++){const rt=Ae[Oe];ne.__webglColorRenderbuffer[Oe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ne.__webglColorRenderbuffer[Oe]);const mt=s.convert(rt.format,rt.colorSpace),_e=s.convert(rt.type),It=b(rt.internalFormat,mt,_e,rt.colorSpace,F.isXRRenderTarget===!0),St=Ee(F);t.renderbufferStorageMultisample(t.RENDERBUFFER,St,It,F.width,F.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Oe,t.RENDERBUFFER,ne.__webglColorRenderbuffer[Oe])}t.bindRenderbuffer(t.RENDERBUFFER,null),F.depthBuffer&&(ne.__webglDepthRenderbuffer=t.createRenderbuffer(),tt(ne.__webglDepthRenderbuffer,F,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ye){n.bindTexture(t.TEXTURE_CUBE_MAP,Se.__webglTexture),q(t.TEXTURE_CUBE_MAP,O,$e);for(let Ae=0;Ae<6;Ae++)if(a&&O.mipmaps&&O.mipmaps.length>0)for(let Oe=0;Oe<O.mipmaps.length;Oe++)ge(ne.__webglFramebuffer[Ae][Oe],F,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Oe);else ge(ne.__webglFramebuffer[Ae],F,O,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0);w(O,$e)&&S(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(xe){const Ae=F.texture;for(let Oe=0,rt=Ae.length;Oe<rt;Oe++){const mt=Ae[Oe],_e=i.get(mt);n.bindTexture(t.TEXTURE_2D,_e.__webglTexture),q(t.TEXTURE_2D,mt,$e),ge(ne.__webglFramebuffer,F,mt,t.COLOR_ATTACHMENT0+Oe,t.TEXTURE_2D,0),w(mt,$e)&&S(t.TEXTURE_2D)}n.unbindTexture()}else{let Ae=t.TEXTURE_2D;if((F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(a?Ae=F.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ae,Se.__webglTexture),q(Ae,O,$e),a&&O.mipmaps&&O.mipmaps.length>0)for(let Oe=0;Oe<O.mipmaps.length;Oe++)ge(ne.__webglFramebuffer[Oe],F,O,t.COLOR_ATTACHMENT0,Ae,Oe);else ge(ne.__webglFramebuffer,F,O,t.COLOR_ATTACHMENT0,Ae,0);w(O,$e)&&S(Ae),n.unbindTexture()}F.depthBuffer&&Fe(F)}function we(F){const O=x(F)||a,ne=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let Se=0,ye=ne.length;Se<ye;Se++){const xe=ne[Se];if(w(xe,O)){const $e=F.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ae=i.get(xe).__webglTexture;n.bindTexture($e,Ae),S($e),n.unbindTexture()}}}function he(F){if(a&&F.samples>0&&fe(F)===!1){const O=F.isWebGLMultipleRenderTargets?F.texture:[F.texture],ne=F.width,Se=F.height;let ye=t.COLOR_BUFFER_BIT;const xe=[],$e=F.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ae=i.get(F),Oe=F.isWebGLMultipleRenderTargets===!0;if(Oe)for(let rt=0;rt<O.length;rt++)n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ae.__webglFramebuffer);for(let rt=0;rt<O.length;rt++){xe.push(t.COLOR_ATTACHMENT0+rt),F.depthBuffer&&xe.push($e);const mt=Ae.__ignoreDepthValues!==void 0?Ae.__ignoreDepthValues:!1;if(mt===!1&&(F.depthBuffer&&(ye|=t.DEPTH_BUFFER_BIT),F.stencilBuffer&&(ye|=t.STENCIL_BUFFER_BIT)),Oe&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ae.__webglColorRenderbuffer[rt]),mt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[$e]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[$e])),Oe){const _e=i.get(O[rt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,_e,0)}t.blitFramebuffer(0,0,ne,Se,0,0,ne,Se,ye,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,xe)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Oe)for(let rt=0;rt<O.length;rt++){n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.RENDERBUFFER,Ae.__webglColorRenderbuffer[rt]);const mt=i.get(O[rt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+rt,t.TEXTURE_2D,mt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ae.__webglMultisampledFramebuffer)}}function Ee(F){return Math.min(r.maxSamples,F.samples)}function fe(F){const O=i.get(F);return a&&F.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function qe(F){const O=o.render.frame;f.get(F)!==O&&(f.set(F,O),F.update())}function De(F,O){const ne=F.colorSpace,Se=F.format,ye=F.type;return F.isCompressedTexture===!0||F.isVideoTexture===!0||F.format===ny||ne!==Qs&&ne!==yr&&(Wt.getTransfer(ne)===Qt?a===!1?e.has("EXT_sRGB")===!0&&Se===Bi?(F.format=ny,F.minFilter=kn,F.generateMipmaps=!1):O=_E.sRGBToLinear(O):(Se!==Bi||ye!==Xs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ne)),O}this.allocateTextureUnit=B,this.resetTextureUnits=re,this.setTexture2D=Z,this.setTexture2DArray=ee,this.setTexture3D=D,this.setTextureCube=U,this.rebindTextures=Xe,this.setupRenderTarget=X,this.updateRenderTargetMipmap=we,this.updateMultisampleRenderTarget=he,this.setupDepthRenderbuffer=Fe,this.setupFrameBufferTexture=ge,this.useMultisampledRTT=fe}function lO(t,e,n){const i=n.isWebGL2;function r(s,o=yr){let a;const l=Wt.getTransfer(o);if(s===Xs)return t.UNSIGNED_BYTE;if(s===uE)return t.UNSIGNED_SHORT_4_4_4_4;if(s===dE)return t.UNSIGNED_SHORT_5_5_5_1;if(s===Ak)return t.BYTE;if(s===Ck)return t.SHORT;if(s===Wy)return t.UNSIGNED_SHORT;if(s===cE)return t.INT;if(s===Mo)return t.UNSIGNED_INT;if(s===ds)return t.FLOAT;if(s===ad)return i?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Pk)return t.ALPHA;if(s===Bi)return t.RGBA;if(s===Rk)return t.LUMINANCE;if(s===Nk)return t.LUMINANCE_ALPHA;if(s===Ua)return t.DEPTH_COMPONENT;if(s===sc)return t.DEPTH_STENCIL;if(s===ny)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Lk)return t.RED;if(s===fE)return t.RED_INTEGER;if(s===Ik)return t.RG;if(s===hE)return t.RG_INTEGER;if(s===pE)return t.RGBA_INTEGER;if(s===lv||s===cv||s===uv||s===dv)if(l===Qt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===lv)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===cv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===uv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===dv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===lv)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===cv)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===uv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===dv)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Bw||s===Vw||s===Hw||s===jw)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Bw)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Vw)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Hw)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===jw)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===mE)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Gw||s===Ww)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Gw)return l===Qt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Ww)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Xw||s===$w||s===Yw||s===qw||s===Kw||s===Zw||s===Qw||s===Jw||s===eS||s===tS||s===nS||s===iS||s===rS||s===sS)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Xw)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===$w)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Yw)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===qw)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Kw)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Zw)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Qw)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Jw)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===eS)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===tS)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===nS)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===iS)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===rS)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===sS)return l===Qt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===fv||s===oS||s===aS)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===fv)return l===Qt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===oS)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===aS)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===Dk||s===lS||s===cS||s===uS)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===fv)return a.COMPRESSED_RED_RGTC1_EXT;if(s===lS)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===cS)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===uS)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Oa?i?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:r}}class cO extends ii{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class bu extends jt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const LY={type:"move"};class k_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new bu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new bu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new bu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const _ of e.hand.values()){const x=n.getJointPose(_,i),g=this._getHandJoint(c,_);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const f=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=f.position.distanceTo(h.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(LY)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new bu;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class IY extends jo{constructor(e,n){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,f=null,h=null,p=null,m=null,v=null;const _=n.getContextAttributes();let x=null,g=null;const w=[],S=[],b=new ve;let A=null;const C=new ii;C.layers.enable(1),C.viewport=new Xt;const N=new ii;N.layers.enable(2),N.viewport=new Xt;const k=[C,N],L=new cO;L.layers.enable(1),L.layers.enable(2);let I=null,j=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(q){let se=w[q];return se===void 0&&(se=new k_,w[q]=se),se.getTargetRaySpace()},this.getControllerGrip=function(q){let se=w[q];return se===void 0&&(se=new k_,w[q]=se),se.getGripSpace()},this.getHand=function(q){let se=w[q];return se===void 0&&(se=new k_,w[q]=se),se.getHandSpace()};function W(q){const se=S.indexOf(q.inputSource);if(se===-1)return;const me=w[se];me!==void 0&&(me.update(q.inputSource,q.frame,c||o),me.dispatchEvent({type:q.type,data:q.inputSource}))}function re(){r.removeEventListener("select",W),r.removeEventListener("selectstart",W),r.removeEventListener("selectend",W),r.removeEventListener("squeeze",W),r.removeEventListener("squeezestart",W),r.removeEventListener("squeezeend",W),r.removeEventListener("end",re),r.removeEventListener("inputsourceschange",B);for(let q=0;q<w.length;q++){const se=S[q];se!==null&&(S[q]=null,w[q].disconnect(se))}I=null,j=null,e.setRenderTarget(x),m=null,p=null,h=null,r=null,g=null,Q.stop(),i.isPresenting=!1,e.setPixelRatio(A),e.setSize(b.width,b.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(q){s=q,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(q){a=q,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(q){c=q},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(q){if(r=q,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",W),r.addEventListener("selectstart",W),r.addEventListener("selectend",W),r.addEventListener("squeeze",W),r.addEventListener("squeezestart",W),r.addEventListener("squeezeend",W),r.addEventListener("end",re),r.addEventListener("inputsourceschange",B),_.xrCompatible!==!0&&await n.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(b),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const se={antialias:r.renderState.layers===void 0?_.antialias:!0,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,n,se),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),g=new ys(m.framebufferWidth,m.framebufferHeight,{format:Bi,type:Xs,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let se=null,me=null,Te=null;_.depth&&(Te=_.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,se=_.stencil?sc:Ua,me=_.stencil?Oa:Mo);const ge={colorFormat:n.RGBA8,depthFormat:Te,scaleFactor:s};h=new XRWebGLBinding(r,n),p=h.createProjectionLayer(ge),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),g=new ys(p.textureWidth,p.textureHeight,{format:Bi,type:Xs,depthTexture:new bE(p.textureWidth,p.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,se),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0});const tt=e.properties.get(g);tt.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),Q.setContext(r),Q.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function B(q){for(let se=0;se<q.removed.length;se++){const me=q.removed[se],Te=S.indexOf(me);Te>=0&&(S[Te]=null,w[Te].disconnect(me))}for(let se=0;se<q.added.length;se++){const me=q.added[se];let Te=S.indexOf(me);if(Te===-1){for(let tt=0;tt<w.length;tt++)if(tt>=S.length){S.push(me),Te=tt;break}else if(S[tt]===null){S[tt]=me,Te=tt;break}if(Te===-1)break}const ge=w[Te];ge&&ge.connect(me)}}const K=new H,Z=new H;function ee(q,se,me){K.setFromMatrixPosition(se.matrixWorld),Z.setFromMatrixPosition(me.matrixWorld);const Te=K.distanceTo(Z),ge=se.projectionMatrix.elements,tt=me.projectionMatrix.elements,nt=ge[14]/(ge[10]-1),Fe=ge[14]/(ge[10]+1),Xe=(ge[9]+1)/ge[5],X=(ge[9]-1)/ge[5],we=(ge[8]-1)/ge[0],he=(tt[8]+1)/tt[0],Ee=nt*we,fe=nt*he,qe=Te/(-we+he),De=qe*-we;se.matrixWorld.decompose(q.position,q.quaternion,q.scale),q.translateX(De),q.translateZ(qe),q.matrixWorld.compose(q.position,q.quaternion,q.scale),q.matrixWorldInverse.copy(q.matrixWorld).invert();const F=nt+qe,O=Fe+qe,ne=Ee-De,Se=fe+(Te-De),ye=Xe*Fe/O*F,xe=X*Fe/O*F;q.projectionMatrix.makePerspective(ne,Se,ye,xe,F,O),q.projectionMatrixInverse.copy(q.projectionMatrix).invert()}function D(q,se){se===null?q.matrixWorld.copy(q.matrix):q.matrixWorld.multiplyMatrices(se.matrixWorld,q.matrix),q.matrixWorldInverse.copy(q.matrixWorld).invert()}this.updateCamera=function(q){if(r===null)return;L.near=N.near=C.near=q.near,L.far=N.far=C.far=q.far,(I!==L.near||j!==L.far)&&(r.updateRenderState({depthNear:L.near,depthFar:L.far}),I=L.near,j=L.far);const se=q.parent,me=L.cameras;D(L,se);for(let Te=0;Te<me.length;Te++)D(me[Te],se);me.length===2?ee(L,C,N):L.projectionMatrix.copy(C.projectionMatrix),U(q,L,se)};function U(q,se,me){me===null?q.matrix.copy(se.matrixWorld):(q.matrix.copy(me.matrixWorld),q.matrix.invert(),q.matrix.multiply(se.matrixWorld)),q.matrix.decompose(q.position,q.quaternion,q.scale),q.updateMatrixWorld(!0),q.projectionMatrix.copy(se.projectionMatrix),q.projectionMatrixInverse.copy(se.projectionMatrixInverse),q.isPerspectiveCamera&&(q.fov=cd*2*Math.atan(1/q.projectionMatrix.elements[5]),q.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(q){l=q,p!==null&&(p.fixedFoveation=q),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=q)};let V=null;function $(q,se){if(f=se.getViewerPose(c||o),v=se,f!==null){const me=f.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let Te=!1;me.length!==L.cameras.length&&(L.cameras.length=0,Te=!0);for(let ge=0;ge<me.length;ge++){const tt=me[ge];let nt=null;if(m!==null)nt=m.getViewport(tt);else{const Xe=h.getViewSubImage(p,tt);nt=Xe.viewport,ge===0&&(e.setRenderTargetTextures(g,Xe.colorTexture,p.ignoreDepthValues?void 0:Xe.depthStencilTexture),e.setRenderTarget(g))}let Fe=k[ge];Fe===void 0&&(Fe=new ii,Fe.layers.enable(ge),Fe.viewport=new Xt,k[ge]=Fe),Fe.matrix.fromArray(tt.transform.matrix),Fe.matrix.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.projectionMatrix.fromArray(tt.projectionMatrix),Fe.projectionMatrixInverse.copy(Fe.projectionMatrix).invert(),Fe.viewport.set(nt.x,nt.y,nt.width,nt.height),ge===0&&(L.matrix.copy(Fe.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),Te===!0&&L.cameras.push(Fe)}}for(let me=0;me<w.length;me++){const Te=S[me],ge=w[me];Te!==null&&ge!==void 0&&ge.update(Te,se,c||o)}V&&V(q,se),se.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:se}),v=null}const Q=new nO;Q.setAnimationLoop($),this.setAnimationLoop=function(q){V=q},this.dispose=function(){}}}function DY(t,e){function n(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function i(x,g){g.color.getRGB(x.fogColor.value,Qk(t)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function r(x,g,w,S,b){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),h(x,g)):g.isMeshPhongMaterial?(s(x,g),f(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,b)):g.isMeshMatcapMaterial?(s(x,g),v(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),_(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,w,S):g.isSpriteMaterial?c(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,n(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,n(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===ji&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,n(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===ji&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,n(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,n(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const w=e.get(g).envMap;if(w&&(x.envMap.value=w,x.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const S=t._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*S,n(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,n(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,w,S){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*w,x.scale.value=S*.5,g.map&&(x.map.value=g.map,n(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function c(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,n(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function f(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function h(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,x.roughnessMapTransform)),e.get(g).envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,w){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===ji&&x.clearcoatNormalScale.value.negate())),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=w.texture,x.transmissionSamplerSize.value.set(w.width,w.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(x.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(x.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,g){g.matcap&&(x.matcap.value=g.matcap)}function _(x,g){const w=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(w.matrixWorld),x.nearDistance.value=w.shadow.camera.near,x.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function kY(t,e,n,i){let r={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(w,S){const b=S.program;i.uniformBlockBinding(w,b)}function c(w,S){let b=r[w.id];b===void 0&&(v(w),b=f(w),r[w.id]=b,w.addEventListener("dispose",x));const A=S.program;i.updateUBOMapping(w,A);const C=e.render.frame;s[w.id]!==C&&(p(w),s[w.id]=C)}function f(w){const S=h();w.__bindingPointIndex=S;const b=t.createBuffer(),A=w.__size,C=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,A,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,b),b}function h(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(w){const S=r[w.id],b=w.uniforms,A=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let C=0,N=b.length;C<N;C++){const k=Array.isArray(b[C])?b[C]:[b[C]];for(let L=0,I=k.length;L<I;L++){const j=k[L];if(m(j,C,L,A)===!0){const W=j.__offset,re=Array.isArray(j.value)?j.value:[j.value];let B=0;for(let K=0;K<re.length;K++){const Z=re[K],ee=_(Z);typeof Z=="number"||typeof Z=="boolean"?(j.__data[0]=Z,t.bufferSubData(t.UNIFORM_BUFFER,W+B,j.__data)):Z.isMatrix3?(j.__data[0]=Z.elements[0],j.__data[1]=Z.elements[1],j.__data[2]=Z.elements[2],j.__data[3]=0,j.__data[4]=Z.elements[3],j.__data[5]=Z.elements[4],j.__data[6]=Z.elements[5],j.__data[7]=0,j.__data[8]=Z.elements[6],j.__data[9]=Z.elements[7],j.__data[10]=Z.elements[8],j.__data[11]=0):(Z.toArray(j.__data,B),B+=ee.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,W,j.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(w,S,b,A){const C=w.value,N=S+"_"+b;if(A[N]===void 0)return typeof C=="number"||typeof C=="boolean"?A[N]=C:A[N]=C.clone(),!0;{const k=A[N];if(typeof C=="number"||typeof C=="boolean"){if(k!==C)return A[N]=C,!0}else if(k.equals(C)===!1)return k.copy(C),!0}return!1}function v(w){const S=w.uniforms;let b=0;const A=16;for(let N=0,k=S.length;N<k;N++){const L=Array.isArray(S[N])?S[N]:[S[N]];for(let I=0,j=L.length;I<j;I++){const W=L[I],re=Array.isArray(W.value)?W.value:[W.value];for(let B=0,K=re.length;B<K;B++){const Z=re[B],ee=_(Z),D=b%A;D!==0&&A-D<ee.boundary&&(b+=A-D),W.__data=new Float32Array(ee.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=b,b+=ee.storage}}}const C=b%A;return C>0&&(b+=A-C),w.__size=b,w.__cache={},this}function _(w){const S={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(S.boundary=4,S.storage=4):w.isVector2?(S.boundary=8,S.storage=8):w.isVector3||w.isColor?(S.boundary=16,S.storage=12):w.isVector4?(S.boundary=16,S.storage=16):w.isMatrix3?(S.boundary=48,S.storage=48):w.isMatrix4?(S.boundary=64,S.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),S}function x(w){const S=w.target;S.removeEventListener("dispose",x);const b=o.indexOf(S.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function g(){for(const w in r)t.deleteBuffer(r[w]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}class CE{constructor(e={}){const{canvas:n=qk(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),v=new Int32Array(4);let _=null,x=null;const g=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Wn,this._useLegacyLights=!1,this.toneMapping=Ws,this.toneMappingExposure=1;const S=this;let b=!1,A=0,C=0,N=null,k=-1,L=null;const I=new Xt,j=new Xt;let W=null;const re=new Ve(0);let B=0,K=n.width,Z=n.height,ee=1,D=null,U=null;const V=new Xt(0,0,K,Z),$=new Xt(0,0,K,Z);let Q=!1;const q=new gp;let se=!1,me=!1,Te=null;const ge=new ht,tt=new ve,nt=new H,Fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Xe(){return N===null?ee:1}let X=i;function we(z,ie){for(let le=0;le<z.length;le++){const ce=z[le],ae=n.getContext(ce,ie);if(ae!==null)return ae}return null}try{const z={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${up}`),n.addEventListener("webglcontextlost",Pe,!1),n.addEventListener("webglcontextrestored",Y,!1),n.addEventListener("webglcontextcreationerror",Ie,!1),X===null){const ie=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&ie.shift(),X=we(ie,z),X===null)throw we(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&X instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),X.getShaderPrecisionFormat===void 0&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(z){throw console.error("THREE.WebGLRenderer: "+z.message),z}let he,Ee,fe,qe,De,F,O,ne,Se,ye,xe,$e,Ae,Oe,rt,mt,_e,It,St,ct,Ke,He,ut,Dt;function Zt(){he=new qX(X),Ee=new jX(X,he,e),he.init(Ee),He=new lO(X,he,Ee),fe=new RY(X,he,Ee),qe=new QX(X),De=new yY,F=new NY(X,he,fe,De,Ee,He,qe),O=new WX(S),ne=new YX(S),Se=new o9(X,Ee),ut=new VX(X,he,Se,Ee),ye=new KX(X,Se,qe,ut),xe=new n$(X,ye,Se,qe),St=new t$(X,Ee,F),mt=new GX(De),$e=new vY(S,O,ne,he,Ee,ut,mt),Ae=new DY(S,De),Oe=new _Y,rt=new TY(he,Ee),It=new BX(S,O,ne,fe,xe,p,l),_e=new PY(S,xe,Ee),Dt=new kY(X,qe,Ee,fe),ct=new HX(X,he,qe,Ee),Ke=new ZX(X,he,qe,Ee),qe.programs=$e.programs,S.capabilities=Ee,S.extensions=he,S.properties=De,S.renderLists=Oe,S.shadowMap=_e,S.state=fe,S.info=qe}Zt();const yt=new IY(S,X);this.xr=yt,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const z=he.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){const z=he.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(z){z!==void 0&&(ee=z,this.setSize(K,Z,!1))},this.getSize=function(z){return z.set(K,Z)},this.setSize=function(z,ie,le=!0){if(yt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}K=z,Z=ie,n.width=Math.floor(z*ee),n.height=Math.floor(ie*ee),le===!0&&(n.style.width=z+"px",n.style.height=ie+"px"),this.setViewport(0,0,z,ie)},this.getDrawingBufferSize=function(z){return z.set(K*ee,Z*ee).floor()},this.setDrawingBufferSize=function(z,ie,le){K=z,Z=ie,ee=le,n.width=Math.floor(z*le),n.height=Math.floor(ie*le),this.setViewport(0,0,z,ie)},this.getCurrentViewport=function(z){return z.copy(I)},this.getViewport=function(z){return z.copy(V)},this.setViewport=function(z,ie,le,ce){z.isVector4?V.set(z.x,z.y,z.z,z.w):V.set(z,ie,le,ce),fe.viewport(I.copy(V).multiplyScalar(ee).floor())},this.getScissor=function(z){return z.copy($)},this.setScissor=function(z,ie,le,ce){z.isVector4?$.set(z.x,z.y,z.z,z.w):$.set(z,ie,le,ce),fe.scissor(j.copy($).multiplyScalar(ee).floor())},this.getScissorTest=function(){return Q},this.setScissorTest=function(z){fe.setScissorTest(Q=z)},this.setOpaqueSort=function(z){D=z},this.setTransparentSort=function(z){U=z},this.getClearColor=function(z){return z.copy(It.getClearColor())},this.setClearColor=function(){It.setClearColor.apply(It,arguments)},this.getClearAlpha=function(){return It.getClearAlpha()},this.setClearAlpha=function(){It.setClearAlpha.apply(It,arguments)},this.clear=function(z=!0,ie=!0,le=!0){let ce=0;if(z){let ae=!1;if(N!==null){const ze=N.texture.format;ae=ze===pE||ze===hE||ze===fE}if(ae){const ze=N.texture.type,Je=ze===Xs||ze===Mo||ze===Wy||ze===Oa||ze===uE||ze===dE,at=It.getClearColor(),dt=It.getClearAlpha(),gt=at.r,pt=at.g,vt=at.b;Je?(m[0]=gt,m[1]=pt,m[2]=vt,m[3]=dt,X.clearBufferuiv(X.COLOR,0,m)):(v[0]=gt,v[1]=pt,v[2]=vt,v[3]=dt,X.clearBufferiv(X.COLOR,0,v))}else ce|=X.COLOR_BUFFER_BIT}ie&&(ce|=X.DEPTH_BUFFER_BIT),le&&(ce|=X.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),X.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Pe,!1),n.removeEventListener("webglcontextrestored",Y,!1),n.removeEventListener("webglcontextcreationerror",Ie,!1),Oe.dispose(),rt.dispose(),De.dispose(),O.dispose(),ne.dispose(),xe.dispose(),ut.dispose(),Dt.dispose(),$e.dispose(),yt.dispose(),yt.removeEventListener("sessionstart",Gt),yt.removeEventListener("sessionend",Nt),Te&&(Te.dispose(),Te=null),en.stop()};function Pe(z){z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function Y(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const z=qe.autoReset,ie=_e.enabled,le=_e.autoUpdate,ce=_e.needsUpdate,ae=_e.type;Zt(),qe.autoReset=z,_e.enabled=ie,_e.autoUpdate=le,_e.needsUpdate=ce,_e.type=ae}function Ie(z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",z.statusMessage)}function Re(z){const ie=z.target;ie.removeEventListener("dispose",Re),ot(ie)}function ot(z){Me(z),De.remove(z)}function Me(z){const ie=De.get(z).programs;ie!==void 0&&(ie.forEach(function(le){$e.releaseProgram(le)}),z.isShaderMaterial&&$e.releaseShaderCache(z))}this.renderBufferDirect=function(z,ie,le,ce,ae,ze){ie===null&&(ie=Fe);const Je=ae.isMesh&&ae.matrixWorld.determinant()<0,at=E0(z,ie,le,ce,ae);fe.setMaterial(ce,Je);let dt=le.index,gt=1;if(ce.wireframe===!0){if(dt=ye.getWireframeAttribute(le),dt===void 0)return;gt=2}const pt=le.drawRange,vt=le.attributes.position;let fn=pt.start*gt,ai=(pt.start+pt.count)*gt;ze!==null&&(fn=Math.max(fn,ze.start*gt),ai=Math.min(ai,(ze.start+ze.count)*gt)),dt!==null?(fn=Math.max(fn,0),ai=Math.min(ai,dt.count)):vt!=null&&(fn=Math.max(fn,0),ai=Math.min(ai,vt.count));const tn=ai-fn;if(tn<0||tn===1/0)return;ut.setup(ae,ce,at,le,dt);let Kn,ft=ct;if(dt!==null&&(Kn=Se.get(dt),ft=Ke,ft.setIndex(Kn)),ae.isMesh)ce.wireframe===!0?(fe.setLineWidth(ce.wireframeLinewidth*Xe()),ft.setMode(X.LINES)):ft.setMode(X.TRIANGLES);else if(ae.isLine){let Ge=ce.linewidth;Ge===void 0&&(Ge=1),fe.setLineWidth(Ge*Xe()),ae.isLineSegments?ft.setMode(X.LINES):ae.isLineLoop?ft.setMode(X.LINE_LOOP):ft.setMode(X.LINE_STRIP)}else ae.isPoints?ft.setMode(X.POINTS):ae.isSprite&&ft.setMode(X.TRIANGLES);if(ae.isBatchedMesh)ft.renderMultiDraw(ae._multiDrawStarts,ae._multiDrawCounts,ae._multiDrawCount);else if(ae.isInstancedMesh)ft.renderInstances(fn,tn,ae.count);else if(le.isInstancedBufferGeometry){const Ge=le._maxInstanceCount!==void 0?le._maxInstanceCount:1/0,Pr=Math.min(le.instanceCount,Ge);ft.renderInstances(fn,tn,Pr)}else ft.render(fn,tn)};function Qe(z,ie,le){z.transparent===!0&&z.side===zs&&z.forceSinglePass===!1?(z.side=ji,z.needsUpdate=!0,_c(z,ie,le),z.side=Oo,z.needsUpdate=!0,_c(z,ie,le),z.side=zs):_c(z,ie,le)}this.compile=function(z,ie,le=null){le===null&&(le=z),x=rt.get(le),x.init(),w.push(x),le.traverseVisible(function(ae){ae.isLight&&ae.layers.test(ie.layers)&&(x.pushLight(ae),ae.castShadow&&x.pushShadow(ae))}),z!==le&&z.traverseVisible(function(ae){ae.isLight&&ae.layers.test(ie.layers)&&(x.pushLight(ae),ae.castShadow&&x.pushShadow(ae))}),x.setupLights(S._useLegacyLights);const ce=new Set;return z.traverse(function(ae){const ze=ae.material;if(ze)if(Array.isArray(ze))for(let Je=0;Je<ze.length;Je++){const at=ze[Je];Qe(at,le,ae),ce.add(at)}else Qe(ze,le,ae),ce.add(ze)}),w.pop(),x=null,ce},this.compileAsync=function(z,ie,le=null){const ce=this.compile(z,ie,le);return new Promise(ae=>{function ze(){if(ce.forEach(function(Je){De.get(Je).currentProgram.isReady()&&ce.delete(Je)}),ce.size===0){ae(z);return}setTimeout(ze,10)}he.get("KHR_parallel_shader_compile")!==null?ze():setTimeout(ze,10)})};let it=null;function kt(z){it&&it(z)}function Gt(){en.stop()}function Nt(){en.start()}const en=new nO;en.setAnimationLoop(kt),typeof self<"u"&&en.setContext(self),this.setAnimationLoop=function(z){it=z,yt.setAnimationLoop(z),z===null?en.stop():en.start()},yt.addEventListener("sessionstart",Gt),yt.addEventListener("sessionend",Nt),this.render=function(z,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;z.matrixWorldAutoUpdate===!0&&z.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),yt.enabled===!0&&yt.isPresenting===!0&&(yt.cameraAutoUpdate===!0&&yt.updateCamera(ie),ie=yt.getCamera()),z.isScene===!0&&z.onBeforeRender(S,z,ie,N),x=rt.get(z,w.length),x.init(),w.push(x),ge.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),q.setFromProjectionMatrix(ge),me=this.localClippingEnabled,se=mt.init(this.clippingPlanes,me),_=Oe.get(z,g.length),_.init(),g.push(_),ln(z,ie,0,S.sortObjects),_.finish(),S.sortObjects===!0&&_.sort(D,U),this.info.render.frame++,se===!0&&mt.beginShadows();const le=x.state.shadowsArray;if(_e.render(le,z,ie),se===!0&&mt.endShadows(),this.info.autoReset===!0&&this.info.reset(),It.render(_,z),x.setupLights(S._useLegacyLights),ie.isArrayCamera){const ce=ie.cameras;for(let ae=0,ze=ce.length;ae<ze;ae++){const Je=ce[ae];Yi(_,z,Je,Je.viewport)}}else Yi(_,z,ie);N!==null&&(F.updateMultisampleRenderTarget(N),F.updateRenderTargetMipmap(N)),z.isScene===!0&&z.onAfterRender(S,z,ie),ut.resetDefaultState(),k=-1,L=null,w.pop(),w.length>0?x=w[w.length-1]:x=null,g.pop(),g.length>0?_=g[g.length-1]:_=null};function ln(z,ie,le,ce){if(z.visible===!1)return;if(z.layers.test(ie.layers)){if(z.isGroup)le=z.renderOrder;else if(z.isLOD)z.autoUpdate===!0&&z.update(ie);else if(z.isLight)x.pushLight(z),z.castShadow&&x.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||q.intersectsSprite(z)){ce&&nt.setFromMatrixPosition(z.matrixWorld).applyMatrix4(ge);const Je=xe.update(z),at=z.material;at.visible&&_.push(z,Je,at,le,nt.z,null)}}else if((z.isMesh||z.isLine||z.isPoints)&&(!z.frustumCulled||q.intersectsObject(z))){const Je=xe.update(z),at=z.material;if(ce&&(z.boundingSphere!==void 0?(z.boundingSphere===null&&z.computeBoundingSphere(),nt.copy(z.boundingSphere.center)):(Je.boundingSphere===null&&Je.computeBoundingSphere(),nt.copy(Je.boundingSphere.center)),nt.applyMatrix4(z.matrixWorld).applyMatrix4(ge)),Array.isArray(at)){const dt=Je.groups;for(let gt=0,pt=dt.length;gt<pt;gt++){const vt=dt[gt],fn=at[vt.materialIndex];fn&&fn.visible&&_.push(z,Je,fn,le,nt.z,vt)}}else at.visible&&_.push(z,Je,at,le,nt.z,null)}}const ze=z.children;for(let Je=0,at=ze.length;Je<at;Je++)ln(ze[Je],ie,le,ce)}function Yi(z,ie,le,ce){const ae=z.opaque,ze=z.transmissive,Je=z.transparent;x.setupLightsView(le),se===!0&&mt.setGlobalState(S.clippingPlanes,le),ze.length>0&&Dd(ae,ze,ie,le),ce&&fe.viewport(I.copy(ce)),ae.length>0&&xc(ae,ie,le),ze.length>0&&xc(ze,ie,le),Je.length>0&&xc(Je,ie,le),fe.buffers.depth.setTest(!0),fe.buffers.depth.setMask(!0),fe.buffers.color.setMask(!0),fe.setPolygonOffset(!1)}function Dd(z,ie,le,ce){if((le.isScene===!0?le.overrideMaterial:null)!==null)return;const ze=Ee.isWebGL2;Te===null&&(Te=new ys(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")?ad:Xs,minFilter:Ga,samples:ze?4:0})),S.getDrawingBufferSize(tt),ze?Te.setSize(tt.x,tt.y):Te.setSize(iy(tt.x),iy(tt.y));const Je=S.getRenderTarget();S.setRenderTarget(Te),S.getClearColor(re),B=S.getClearAlpha(),B<1&&S.setClearColor(16777215,.5),S.clear();const at=S.toneMapping;S.toneMapping=Ws,xc(z,le,ce),F.updateMultisampleRenderTarget(Te),F.updateRenderTargetMipmap(Te);let dt=!1;for(let gt=0,pt=ie.length;gt<pt;gt++){const vt=ie[gt],fn=vt.object,ai=vt.geometry,tn=vt.material,Kn=vt.group;if(tn.side===zs&&fn.layers.test(ce.layers)){const ft=tn.side;tn.side=ji,tn.needsUpdate=!0,Wo(fn,le,ce,ai,tn,Kn),tn.side=ft,tn.needsUpdate=!0,dt=!0}}dt===!0&&(F.updateMultisampleRenderTarget(Te),F.updateRenderTargetMipmap(Te)),S.setRenderTarget(Je),S.setClearColor(re,B),S.toneMapping=at}function xc(z,ie,le){const ce=ie.isScene===!0?ie.overrideMaterial:null;for(let ae=0,ze=z.length;ae<ze;ae++){const Je=z[ae],at=Je.object,dt=Je.geometry,gt=ce===null?Je.material:ce,pt=Je.group;at.layers.test(le.layers)&&Wo(at,ie,le,dt,gt,pt)}}function Wo(z,ie,le,ce,ae,ze){z.onBeforeRender(S,ie,le,ce,ae,ze),z.modelViewMatrix.multiplyMatrices(le.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),ae.onBeforeRender(S,ie,le,ce,z,ze),ae.transparent===!0&&ae.side===zs&&ae.forceSinglePass===!1?(ae.side=ji,ae.needsUpdate=!0,S.renderBufferDirect(le,ie,ce,ae,z,ze),ae.side=Oo,ae.needsUpdate=!0,S.renderBufferDirect(le,ie,ce,ae,z,ze),ae.side=zs):S.renderBufferDirect(le,ie,ce,ae,z,ze),z.onAfterRender(S,ie,le,ce,ae,ze)}function _c(z,ie,le){ie.isScene!==!0&&(ie=Fe);const ce=De.get(z),ae=x.state.lights,ze=x.state.shadowsArray,Je=ae.state.version,at=$e.getParameters(z,ae.state,ze,ie,le),dt=$e.getProgramCacheKey(at);let gt=ce.programs;ce.environment=z.isMeshStandardMaterial?ie.environment:null,ce.fog=ie.fog,ce.envMap=(z.isMeshStandardMaterial?ne:O).get(z.envMap||ce.environment),gt===void 0&&(z.addEventListener("dispose",Re),gt=new Map,ce.programs=gt);let pt=gt.get(dt);if(pt!==void 0){if(ce.currentProgram===pt&&ce.lightsStateVersion===Je)return Pp(z,at),pt}else at.uniforms=$e.getUniforms(z),z.onBuild(le,at,S),z.onBeforeCompile(at,S),pt=$e.acquireProgram(at,dt),gt.set(dt,pt),ce.uniforms=at.uniforms;const vt=ce.uniforms;return(!z.isShaderMaterial&&!z.isRawShaderMaterial||z.clipping===!0)&&(vt.clippingPlanes=mt.uniform),Pp(z,at),ce.needsLights=T0(z),ce.lightsStateVersion=Je,ce.needsLights&&(vt.ambientLightColor.value=ae.state.ambient,vt.lightProbe.value=ae.state.probe,vt.directionalLights.value=ae.state.directional,vt.directionalLightShadows.value=ae.state.directionalShadow,vt.spotLights.value=ae.state.spot,vt.spotLightShadows.value=ae.state.spotShadow,vt.rectAreaLights.value=ae.state.rectArea,vt.ltc_1.value=ae.state.rectAreaLTC1,vt.ltc_2.value=ae.state.rectAreaLTC2,vt.pointLights.value=ae.state.point,vt.pointLightShadows.value=ae.state.pointShadow,vt.hemisphereLights.value=ae.state.hemi,vt.directionalShadowMap.value=ae.state.directionalShadowMap,vt.directionalShadowMatrix.value=ae.state.directionalShadowMatrix,vt.spotShadowMap.value=ae.state.spotShadowMap,vt.spotLightMatrix.value=ae.state.spotLightMatrix,vt.spotLightMap.value=ae.state.spotLightMap,vt.pointShadowMap.value=ae.state.pointShadowMap,vt.pointShadowMatrix.value=ae.state.pointShadowMatrix),ce.currentProgram=pt,ce.uniformsList=null,pt}function Cp(z){if(z.uniformsList===null){const ie=z.currentProgram.getUniforms();z.uniformsList=pv.seqWithValue(ie.seq,z.uniforms)}return z.uniformsList}function Pp(z,ie){const le=De.get(z);le.outputColorSpace=ie.outputColorSpace,le.batching=ie.batching,le.instancing=ie.instancing,le.instancingColor=ie.instancingColor,le.skinning=ie.skinning,le.morphTargets=ie.morphTargets,le.morphNormals=ie.morphNormals,le.morphColors=ie.morphColors,le.morphTargetsCount=ie.morphTargetsCount,le.numClippingPlanes=ie.numClippingPlanes,le.numIntersection=ie.numClipIntersection,le.vertexAlphas=ie.vertexAlphas,le.vertexTangents=ie.vertexTangents,le.toneMapping=ie.toneMapping}function E0(z,ie,le,ce,ae){ie.isScene!==!0&&(ie=Fe),F.resetTextureUnits();const ze=ie.fog,Je=ce.isMeshStandardMaterial?ie.environment:null,at=N===null?S.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:Qs,dt=(ce.isMeshStandardMaterial?ne:O).get(ce.envMap||Je),gt=ce.vertexColors===!0&&!!le.attributes.color&&le.attributes.color.itemSize===4,pt=!!le.attributes.tangent&&(!!ce.normalMap||ce.anisotropy>0),vt=!!le.morphAttributes.position,fn=!!le.morphAttributes.normal,ai=!!le.morphAttributes.color;let tn=Ws;ce.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(tn=S.toneMapping);const Kn=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,ft=Kn!==void 0?Kn.length:0,Ge=De.get(ce),Pr=x.state.lights;if(se===!0&&(me===!0||z!==L)){const li=z===L&&ce.id===k;mt.setState(ce,z,li)}let Pt=!1;ce.version===Ge.__version?(Ge.needsLights&&Ge.lightsStateVersion!==Pr.state.version||Ge.outputColorSpace!==at||ae.isBatchedMesh&&Ge.batching===!1||!ae.isBatchedMesh&&Ge.batching===!0||ae.isInstancedMesh&&Ge.instancing===!1||!ae.isInstancedMesh&&Ge.instancing===!0||ae.isSkinnedMesh&&Ge.skinning===!1||!ae.isSkinnedMesh&&Ge.skinning===!0||ae.isInstancedMesh&&Ge.instancingColor===!0&&ae.instanceColor===null||ae.isInstancedMesh&&Ge.instancingColor===!1&&ae.instanceColor!==null||Ge.envMap!==dt||ce.fog===!0&&Ge.fog!==ze||Ge.numClippingPlanes!==void 0&&(Ge.numClippingPlanes!==mt.numPlanes||Ge.numIntersection!==mt.numIntersection)||Ge.vertexAlphas!==gt||Ge.vertexTangents!==pt||Ge.morphTargets!==vt||Ge.morphNormals!==fn||Ge.morphColors!==ai||Ge.toneMapping!==tn||Ee.isWebGL2===!0&&Ge.morphTargetsCount!==ft)&&(Pt=!0):(Pt=!0,Ge.__version=ce.version);let wn=Ge.currentProgram;Pt===!0&&(wn=_c(ce,ie,ae));let Ms=!1,Rr=!1,Zn=!1;const Pn=wn.getUniforms(),Es=Ge.uniforms;if(fe.useProgram(wn.program)&&(Ms=!0,Rr=!0,Zn=!0),ce.id!==k&&(k=ce.id,Rr=!0),Ms||L!==z){Pn.setValue(X,"projectionMatrix",z.projectionMatrix),Pn.setValue(X,"viewMatrix",z.matrixWorldInverse);const li=Pn.map.cameraPosition;li!==void 0&&li.setValue(X,nt.setFromMatrixPosition(z.matrixWorld)),Ee.logarithmicDepthBuffer&&Pn.setValue(X,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&Pn.setValue(X,"isOrthographic",z.isOrthographicCamera===!0),L!==z&&(L=z,Rr=!0,Zn=!0)}if(ae.isSkinnedMesh){Pn.setOptional(X,ae,"bindMatrix"),Pn.setOptional(X,ae,"bindMatrixInverse");const li=ae.skeleton;li&&(Ee.floatVertexTextures?(li.boneTexture===null&&li.computeBoneTexture(),Pn.setValue(X,"boneTexture",li.boneTexture,F)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}ae.isBatchedMesh&&(Pn.setOptional(X,ae,"batchingTexture"),Pn.setValue(X,"batchingTexture",ae._matricesTexture,F));const wc=le.morphAttributes;if((wc.position!==void 0||wc.normal!==void 0||wc.color!==void 0&&Ee.isWebGL2===!0)&&St.update(ae,le,wn),(Rr||Ge.receiveShadow!==ae.receiveShadow)&&(Ge.receiveShadow=ae.receiveShadow,Pn.setValue(X,"receiveShadow",ae.receiveShadow)),ce.isMeshGouraudMaterial&&ce.envMap!==null&&(Es.envMap.value=dt,Es.flipEnvMap.value=dt.isCubeTexture&&dt.isRenderTargetTexture===!1?-1:1),Rr&&(Pn.setValue(X,"toneMappingExposure",S.toneMappingExposure),Ge.needsLights&&b0(Es,Zn),ze&&ce.fog===!0&&Ae.refreshFogUniforms(Es,ze),Ae.refreshMaterialUniforms(Es,ce,ee,Z,Te),pv.upload(X,Cp(Ge),Es,F)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(pv.upload(X,Cp(Ge),Es,F),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&Pn.setValue(X,"center",ae.center),Pn.setValue(X,"modelViewMatrix",ae.modelViewMatrix),Pn.setValue(X,"normalMatrix",ae.normalMatrix),Pn.setValue(X,"modelMatrix",ae.matrixWorld),ce.isShaderMaterial||ce.isRawShaderMaterial){const li=ce.uniformsGroups;for(let Sc=0,cr=li.length;Sc<cr;Sc++)if(Ee.isWebGL2){const Rp=li[Sc];Dt.update(Rp,wn),Dt.bind(Rp,wn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return wn}function b0(z,ie){z.ambientLightColor.needsUpdate=ie,z.lightProbe.needsUpdate=ie,z.directionalLights.needsUpdate=ie,z.directionalLightShadows.needsUpdate=ie,z.pointLights.needsUpdate=ie,z.pointLightShadows.needsUpdate=ie,z.spotLights.needsUpdate=ie,z.spotLightShadows.needsUpdate=ie,z.rectAreaLights.needsUpdate=ie,z.hemisphereLights.needsUpdate=ie}function T0(z){return z.isMeshLambertMaterial||z.isMeshToonMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isShadowMaterial||z.isShaderMaterial&&z.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(z,ie,le){De.get(z.texture).__webglTexture=ie,De.get(z.depthTexture).__webglTexture=le;const ce=De.get(z);ce.__hasExternalTextures=!0,ce.__hasExternalTextures&&(ce.__autoAllocateDepthBuffer=le===void 0,ce.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(z,ie){const le=De.get(z);le.__webglFramebuffer=ie,le.__useDefaultFramebuffer=ie===void 0},this.setRenderTarget=function(z,ie=0,le=0){N=z,A=ie,C=le;let ce=!0,ae=null,ze=!1,Je=!1;if(z){const dt=De.get(z);dt.__useDefaultFramebuffer!==void 0?(fe.bindFramebuffer(X.FRAMEBUFFER,null),ce=!1):dt.__webglFramebuffer===void 0?F.setupRenderTarget(z):dt.__hasExternalTextures&&F.rebindTextures(z,De.get(z.texture).__webglTexture,De.get(z.depthTexture).__webglTexture);const gt=z.texture;(gt.isData3DTexture||gt.isDataArrayTexture||gt.isCompressedArrayTexture)&&(Je=!0);const pt=De.get(z).__webglFramebuffer;z.isWebGLCubeRenderTarget?(Array.isArray(pt[ie])?ae=pt[ie][le]:ae=pt[ie],ze=!0):Ee.isWebGL2&&z.samples>0&&F.useMultisampledRTT(z)===!1?ae=De.get(z).__webglMultisampledFramebuffer:Array.isArray(pt)?ae=pt[le]:ae=pt,I.copy(z.viewport),j.copy(z.scissor),W=z.scissorTest}else I.copy(V).multiplyScalar(ee).floor(),j.copy($).multiplyScalar(ee).floor(),W=Q;if(fe.bindFramebuffer(X.FRAMEBUFFER,ae)&&Ee.drawBuffers&&ce&&fe.drawBuffers(z,ae),fe.viewport(I),fe.scissor(j),fe.setScissorTest(W),ze){const dt=De.get(z.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+ie,dt.__webglTexture,le)}else if(Je){const dt=De.get(z.texture),gt=ie||0;X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,dt.__webglTexture,le||0,gt)}k=-1},this.readRenderTargetPixels=function(z,ie,le,ce,ae,ze,Je){if(!(z&&z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let at=De.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&Je!==void 0&&(at=at[Je]),at){fe.bindFramebuffer(X.FRAMEBUFFER,at);try{const dt=z.texture,gt=dt.format,pt=dt.type;if(gt!==Bi&&He.convert(gt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const vt=pt===ad&&(he.has("EXT_color_buffer_half_float")||Ee.isWebGL2&&he.has("EXT_color_buffer_float"));if(pt!==Xs&&He.convert(pt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_TYPE)&&!(pt===ds&&(Ee.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!vt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=z.width-ce&&le>=0&&le<=z.height-ae&&X.readPixels(ie,le,ce,ae,He.convert(gt),He.convert(pt),ze)}finally{const dt=N!==null?De.get(N).__webglFramebuffer:null;fe.bindFramebuffer(X.FRAMEBUFFER,dt)}}},this.copyFramebufferToTexture=function(z,ie,le=0){const ce=Math.pow(2,-le),ae=Math.floor(ie.image.width*ce),ze=Math.floor(ie.image.height*ce);F.setTexture2D(ie,0),X.copyTexSubImage2D(X.TEXTURE_2D,le,0,0,z.x,z.y,ae,ze),fe.unbindTexture()},this.copyTextureToTexture=function(z,ie,le,ce=0){const ae=ie.image.width,ze=ie.image.height,Je=He.convert(le.format),at=He.convert(le.type);F.setTexture2D(le,0),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,le.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,le.unpackAlignment),ie.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,ce,z.x,z.y,ae,ze,Je,at,ie.image.data):ie.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,ce,z.x,z.y,ie.mipmaps[0].width,ie.mipmaps[0].height,Je,ie.mipmaps[0].data):X.texSubImage2D(X.TEXTURE_2D,ce,z.x,z.y,Je,at,ie.image),ce===0&&le.generateMipmaps&&X.generateMipmap(X.TEXTURE_2D),fe.unbindTexture()},this.copyTextureToTexture3D=function(z,ie,le,ce,ae=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ze=z.max.x-z.min.x+1,Je=z.max.y-z.min.y+1,at=z.max.z-z.min.z+1,dt=He.convert(ce.format),gt=He.convert(ce.type);let pt;if(ce.isData3DTexture)F.setTexture3D(ce,0),pt=X.TEXTURE_3D;else if(ce.isDataArrayTexture||ce.isCompressedArrayTexture)F.setTexture2DArray(ce,0),pt=X.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,ce.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,ce.unpackAlignment);const vt=X.getParameter(X.UNPACK_ROW_LENGTH),fn=X.getParameter(X.UNPACK_IMAGE_HEIGHT),ai=X.getParameter(X.UNPACK_SKIP_PIXELS),tn=X.getParameter(X.UNPACK_SKIP_ROWS),Kn=X.getParameter(X.UNPACK_SKIP_IMAGES),ft=le.isCompressedTexture?le.mipmaps[ae]:le.image;X.pixelStorei(X.UNPACK_ROW_LENGTH,ft.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,ft.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,z.min.x),X.pixelStorei(X.UNPACK_SKIP_ROWS,z.min.y),X.pixelStorei(X.UNPACK_SKIP_IMAGES,z.min.z),le.isDataTexture||le.isData3DTexture?X.texSubImage3D(pt,ae,ie.x,ie.y,ie.z,ze,Je,at,dt,gt,ft.data):le.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),X.compressedTexSubImage3D(pt,ae,ie.x,ie.y,ie.z,ze,Je,at,dt,ft.data)):X.texSubImage3D(pt,ae,ie.x,ie.y,ie.z,ze,Je,at,dt,gt,ft),X.pixelStorei(X.UNPACK_ROW_LENGTH,vt),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,fn),X.pixelStorei(X.UNPACK_SKIP_PIXELS,ai),X.pixelStorei(X.UNPACK_SKIP_ROWS,tn),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Kn),ae===0&&ce.generateMipmaps&&X.generateMipmap(pt),fe.unbindTexture()},this.initTexture=function(z){z.isCubeTexture?F.setTextureCube(z,0):z.isData3DTexture?F.setTexture3D(z,0):z.isDataArrayTexture||z.isCompressedArrayTexture?F.setTexture2DArray(z,0):F.setTexture2D(z,0),fe.unbindTexture()},this.resetState=function(){A=0,C=0,N=null,fe.reset(),ut.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return fs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===$y?"display-p3":"srgb",n.unpackColorSpace=Wt.workingColorSpace===fp?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Wn?Fa:vE}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Fa?Wn:Qs}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class uO extends CE{}uO.prototype.isWebGL1Renderer=!0;class Ky{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ve(e),this.density=n}clone(){return new Ky(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Zy{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ve(e),this.near=n,this.far=i}clone(){return new Zy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class PE extends jt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class Qy{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Oh,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Sr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Sr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Sr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ki=new H;class oc{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)ki.fromBufferAttribute(this,n),ki.applyMatrix4(e),this.setXYZ(n,ki.x,ki.y,ki.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)ki.fromBufferAttribute(this,n),ki.applyNormalMatrix(e),this.setXYZ(n,ki.x,ki.y,ki.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)ki.fromBufferAttribute(this,n),ki.transformDirection(e),this.setXYZ(n,ki.x,ki.y,ki.z);return this}setX(e,n){return this.normalized&&(n=bt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=bt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=bt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=bt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=nr(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=nr(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=nr(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=nr(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=bt(n,this.array),i=bt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=bt(n,this.array),i=bt(i,this.array),r=bt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=bt(n,this.array),i=bt(i,this.array),r=bt(r,this.array),s=bt(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new Yt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new oc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class RE extends Ni{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ve(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Zc;const mf=new H,Qc=new H,Jc=new H,eu=new ve,gf=new ve,dO=new ht,pg=new H,vf=new H,mg=new H,YP=new ve,O_=new ve,qP=new ve;class fO extends jt{constructor(e=new RE){if(super(),this.isSprite=!0,this.type="Sprite",Zc===void 0){Zc=new Tt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Qy(n,5);Zc.setIndex([0,1,2,0,2,3]),Zc.setAttribute("position",new oc(i,3,0,!1)),Zc.setAttribute("uv",new oc(i,2,3,!1))}this.geometry=Zc,this.material=e,this.center=new ve(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Qc.setFromMatrixScale(this.matrixWorld),dO.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Jc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Qc.multiplyScalar(-Jc.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;gg(pg.set(-.5,-.5,0),Jc,o,Qc,r,s),gg(vf.set(.5,-.5,0),Jc,o,Qc,r,s),gg(mg.set(.5,.5,0),Jc,o,Qc,r,s),YP.set(0,0),O_.set(1,0),qP.set(1,1);let a=e.ray.intersectTriangle(pg,vf,mg,!1,mf);if(a===null&&(gg(vf.set(-.5,.5,0),Jc,o,Qc,r,s),O_.set(0,1),a=e.ray.intersectTriangle(pg,mg,vf,!1,mf),a===null))return;const l=e.ray.origin.distanceTo(mf);l<e.near||l>e.far||n.push({distance:l,point:mf.clone(),uv:tr.getInterpolation(mf,pg,vf,mg,YP,O_,qP,new ve),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function gg(t,e,n,i,r,s){eu.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(gf.x=s*eu.x-r*eu.y,gf.y=r*eu.x+s*eu.y):gf.copy(eu),t.copy(e),t.x+=gf.x,t.y+=gf.y,t.applyMatrix4(dO)}const vg=new H,KP=new H;class hO extends jt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){vg.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(vg);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){vg.setFromMatrixPosition(e.matrixWorld),KP.setFromMatrixPosition(this.matrixWorld);const i=vg.distanceTo(KP)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const ZP=new H,QP=new Xt,JP=new Xt,OY=new H,e2=new ht,yg=new H,U_=new Pi,t2=new ht,F_=new Ad;class pO extends $n{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=zw,this.bindMatrix=new ht,this.bindMatrixInverse=new ht,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Gi),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,yg),this.boundingBox.expandByPoint(yg)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Pi),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,yg),this.boundingSphere.expandByPoint(yg)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),U_.copy(this.boundingSphere),U_.applyMatrix4(r),e.ray.intersectsSphere(U_)!==!1&&(t2.copy(r).invert(),F_.copy(e.ray).applyMatrix4(t2),!(this.boundingBox!==null&&F_.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,F_)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Xt,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===zw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Tk?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;QP.fromBufferAttribute(r.attributes.skinIndex,e),JP.fromBufferAttribute(r.attributes.skinWeight,e),ZP.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=JP.getComponent(s);if(o!==0){const a=QP.getComponent(s);e2.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(OY.copy(ZP).applyMatrix4(e2),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class NE extends jt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Kl extends On{constructor(e=null,n=1,i=1,r,s,o,a,l,c=In,f=In,h,p){super(null,o,a,l,c,f,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const n2=new ht,UY=new ht;class Jy{constructor(e=[],n=[]){this.uuid=Sr(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ht)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new ht;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:UY;n2.multiplyMatrices(a,n[s]),n2.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Jy(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Kl(n,e,e,Bi,ds);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new NE),this.bones.push(o),this.boneInverses.push(new ht().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const o=n[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class dd extends Yt{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const tu=new ht,i2=new ht,xg=[],r2=new Gi,FY=new ht,yf=new $n,xf=new Pi;class mO extends $n{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new dd(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,FY)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Gi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,tu),r2.copy(e.boundingBox).applyMatrix4(tu),this.boundingBox.union(r2)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Pi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,tu),xf.copy(e.boundingSphere).applyMatrix4(tu),this.boundingSphere.union(xf)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,r=this.count;if(yf.geometry=this.geometry,yf.material=this.material,yf.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),xf.copy(this.boundingSphere),xf.applyMatrix4(i),e.ray.intersectsSphere(xf)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,tu),i2.multiplyMatrices(i,tu),yf.matrixWorld=i2,yf.raycast(e,xg);for(let o=0,a=xg.length;o<a;o++){const l=xg[o];l.instanceId=s,l.object=this,n.push(l)}xg.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new dd(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function zY(t,e){return t.z-e.z}function BY(t,e){return e.z-t.z}class VY{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const i=this.pool,r=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1});const s=i[this.index];r.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const nu="batchId",la=new ht,s2=new ht,HY=new ht,o2=new ht,z_=new gp,_g=new Gi,ml=new Pi,_f=new H,B_=new VY,Mi=new $n,wg=[];function jY(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*i);e.needsUpdate=!0}class gO extends $n{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,i=n*2,r){super(new Tt,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Kl(n,e,e,Bi,ds);this._matricesTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:f,normalized:h}=l,p=new c.constructor(i*f),m=new l.constructor(p,f,h);m.setUsage(l.usage),n.setAttribute(a,m)}if(e.getIndex()!==null){const a=i>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new Yt(a,1))}const o=r>65536?new Uint32Array(i):new Uint16Array(i);n.setAttribute(nu,new Yt(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(nu))throw new Error(`BatchedMesh: Geometry cannot use attribute "${nu}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(i===nu)continue;if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=n.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gi);const e=this._geometryCount,n=this.boundingBox,i=this._active;n.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,la),this.getBoundingBoxAt(r,_g).applyMatrix4(la),n.union(_g))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Pi);const e=this._geometryCount,n=this.boundingSphere,i=this._active;n.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,la),this.getBoundingSphereAt(r,ml).applyMatrix4(la),n.union(ml))}addGeometry(e,n=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=n,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),f=c!==null;if(f&&(i===-1?r.indexCount=c.count:r.indexCount=i,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const h=this._visibility,p=this._active,m=this._matricesTexture,v=this._matricesTexture.image.data;h.push(!0),p.push(!0);const _=this._geometryCount;this._geometryCount++,HY.toArray(v,_*16),m.needsUpdate=!0,o.push(r),a.push({start:f?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Gi,sphereInitialized:!1,sphere:new Pi});const x=this.geometry.getAttribute(nu);for(let g=0;g<r.vertexCount;g++)x.setX(r.vertexStart+g,_);return x.needsUpdate=!0,this.setGeometryAt(_,e),_}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in i.attributes){if(m===nu)continue;const v=n.getAttribute(m),_=i.getAttribute(m);jY(v,_,l);const x=v.itemSize;for(let g=v.count,w=c;g<w;g++){const S=l+g;for(let b=0;b<x;b++)_.setComponent(S,b,0)}_.needsUpdate=!0}if(r){const m=a.indexStart;for(let v=0;v<o.count;v++)s.setX(m+v,l+o.getX(v));for(let v=o.count,_=a.indexCount;v<_;v++)s.setX(m+v,l);s.needsUpdate=!0}const f=this._bounds[e];n.boundingBox!==null?(f.box.copy(n.boundingBox),f.boxInitialized=!0):f.boxInitialized=!1,n.boundingSphere!==null?(f.sphere.copy(n.boundingSphere),f.sphereInitialized=!0):f.sphereInitialized=!1;const h=this._drawRanges[e],p=n.getAttribute("position");return h.count=r?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const r=this._bounds[e],s=r.box,o=this.geometry;if(r.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let f=c.start,h=c.start+c.count;f<h;f++){let p=f;a&&(p=a.getX(p)),s.expandByPoint(_f.fromBufferAttribute(l,p))}r.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const r=this._bounds[e],s=r.sphere,o=this.geometry;if(r.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,_g),_g.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let f=0;for(let h=c.start,p=c.start+c.count;h<p;h++){let m=h;a&&(m=a.getX(m)),_f.fromBufferAttribute(l,m),f=Math.max(f,s.center.distanceToSquared(_f))}s.radius=Math.sqrt(f),r.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const i=this._active,r=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(n.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,n){const i=this._active,r=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:n.fromArray(r,e*16)}setVisibleAt(e,n){const i=this._visibility,r=this._active,s=this._geometryCount;return e>=s||r[e]===!1||i[e]===n?this:(i[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,i=this._active,r=this._geometryCount;return e>=r||i[e]===!1?!1:n[e]}raycast(e,n){const i=this._visibility,r=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Mi.material=this.material,Mi.geometry.index=l.index,Mi.geometry.attributes=l.attributes,Mi.geometry.boundingBox===null&&(Mi.geometry.boundingBox=new Gi),Mi.geometry.boundingSphere===null&&(Mi.geometry.boundingSphere=new Pi);for(let c=0;c<o;c++){if(!i[c]||!r[c])continue;const f=s[c];Mi.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(c,Mi.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Mi.geometry.boundingBox),this.getBoundingSphereAt(c,Mi.geometry.boundingSphere),Mi.raycast(e,wg);for(let h=0,p=wg.length;h<p;h++){const m=wg[h];m.object=this,m.batchId=c,n.push(m)}wg.length=0}Mi.material=null,Mi.geometry.index=null,Mi.geometry.attributes={},Mi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,f=this._multiDrawCounts,h=this._drawRanges,p=this.perObjectFrustumCulled;p&&(o2.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),z_.setFromProjectionMatrix(o2,e.isWebGPURenderer?ld:fs));let m=0;if(this.sortObjects){s2.copy(this.matrixWorld).invert(),_f.setFromMatrixPosition(i.matrixWorld).applyMatrix4(s2);for(let x=0,g=l.length;x<g;x++)if(l[x]){this.getMatrixAt(x,la),this.getBoundingSphereAt(x,ml).applyMatrix4(la);let w=!1;if(p&&(w=!z_.intersectsSphere(ml)),!w){const S=_f.distanceTo(ml.center);B_.push(h[x],S)}}const v=B_.list,_=this.customSort;_===null?v.sort(s.transparent?BY:zY):_.call(this,v,i);for(let x=0,g=v.length;x<g;x++){const w=v[x];c[m]=w.start*a,f[m]=w.count,m++}B_.reset()}else for(let v=0,_=l.length;v<_;v++)if(l[v]){let x=!1;if(p&&(this.getMatrixAt(v,la),this.getBoundingSphereAt(v,ml).applyMatrix4(la),x=!z_.intersectsSphere(ml)),!x){const g=h[v];c[m]=g.start*a,f[m]=g.count,m++}}this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Li extends Ni{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ve(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const a2=new H,l2=new H,c2=new ht,V_=new Ad,Sg=new Pi;class Fo extends jt{constructor(e=new Tt,n=new Li){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)a2.fromBufferAttribute(n,r-1),l2.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=a2.distanceTo(l2);e.setAttribute("lineDistance",new Ye(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Sg.copy(i.boundingSphere),Sg.applyMatrix4(r),Sg.radius+=s,e.ray.intersectsSphere(Sg)===!1)return;c2.copy(r).invert(),V_.copy(e.ray).applyMatrix4(c2);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new H,f=new H,h=new H,p=new H,m=this.isLineSegments?2:1,v=i.index,x=i.attributes.position;if(v!==null){const g=Math.max(0,o.start),w=Math.min(v.count,o.start+o.count);for(let S=g,b=w-1;S<b;S+=m){const A=v.getX(S),C=v.getX(S+1);if(c.fromBufferAttribute(x,A),f.fromBufferAttribute(x,C),V_.distanceSqToSegment(c,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const k=e.ray.origin.distanceTo(p);k<e.near||k>e.far||n.push({distance:k,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),w=Math.min(x.count,o.start+o.count);for(let S=g,b=w-1;S<b;S+=m){if(c.fromBufferAttribute(x,S),f.fromBufferAttribute(x,S+1),V_.distanceSqToSegment(c,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||n.push({distance:C,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const u2=new H,d2=new H;class to extends Fo{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)u2.fromBufferAttribute(n,r),d2.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+u2.distanceTo(d2);e.setAttribute("lineDistance",new Ye(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class vO extends Fo{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class e0 extends Ni{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ve(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const f2=new ht,gS=new Ad,Mg=new Pi,Eg=new H;let yO=class extends jt{constructor(e=new Tt,n=new e0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Mg.copy(i.boundingSphere),Mg.applyMatrix4(r),Mg.radius+=s,e.ray.intersectsSphere(Mg)===!1)return;f2.copy(r).invert(),gS.copy(e.ray).applyMatrix4(f2);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,h=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,_=m;v<_;v++){const x=c.getX(v);Eg.fromBufferAttribute(h,x),h2(Eg,x,l,r,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,_=m;v<_;v++)Eg.fromBufferAttribute(h,v),h2(Eg,v,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function h2(t,e,n,i,r,s,o){const a=gS.distanceSqToPoint(t);if(a<n){const l=new H;gS.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class GY extends On{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:kn,this.magFilter=s!==void 0?s:kn,this.generateMipmaps=!1;const f=this;function h(){f.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class WY extends On{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=In,this.minFilter=In,this.generateMipmaps=!1,this.needsUpdate=!0}}class t0 extends On{constructor(e,n,i,r,s,o,a,l,c,f,h,p){super(null,o,a,l,c,f,r,s,h,p),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class XY extends t0{constructor(e,n,i,r,s,o){super(e,n,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ai}}class $Y extends t0{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Uo),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class YY extends On{constructor(e,n,i,r,s,o,a,l,c){super(e,n,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class _s{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const s=i.length;let o;n?o=n:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const f=i[r],p=i[r+1]-f,m=(o-f)/p;return(r+m)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=n||(o.isVector2?new ve:new H);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new H,r=[],s=[],o=[],a=new H,l=new ht;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new H)}s[0]=new H,o[0]=new H;let c=Number.MAX_VALUE;const f=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);f<=c&&(c=f,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(An(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(n===!0){let m=Math.acos(An(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class n0 extends _s{constructor(e=0,n=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const i=n||new ve,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*f-m*h+this.aX,c=p*h+m*f+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class xO extends n0{constructor(e,n,i,r,s,o){super(e,n,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function LE(){let t=0,e=0,n=0,i=0;function r(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,f,h){let p=(o-s)/c-(a-s)/(c+f)+(a-o)/f,m=(a-o)/f-(l-o)/(f+h)+(l-a)/h;p*=f,m*=f,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+i*a}}}const bg=new H,H_=new LE,j_=new LE,G_=new LE;class _O extends _s{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new H){const i=n,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,f;this.closed||a>0?c=r[(a-1)%s]:(bg.subVectors(r[0],r[1]).add(r[0]),c=bg);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?f=r[(a+2)%s]:(bg.subVectors(r[s-1],r[s-2]).add(r[s-1]),f=bg),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(h),m),_=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(f),m);_<1e-4&&(_=1),v<1e-4&&(v=_),x<1e-4&&(x=_),H_.initNonuniformCatmullRom(c.x,h.x,p.x,f.x,v,_,x),j_.initNonuniformCatmullRom(c.y,h.y,p.y,f.y,v,_,x),G_.initNonuniformCatmullRom(c.z,h.z,p.z,f.z,v,_,x)}else this.curveType==="catmullrom"&&(H_.initCatmullRom(c.x,h.x,p.x,f.x,this.tension),j_.initCatmullRom(c.y,h.y,p.y,f.y,this.tension),G_.initCatmullRom(c.z,h.z,p.z,f.z,this.tension));return i.set(H_.calc(l),j_.calc(l),G_.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new H().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function p2(t,e,n,i,r){const s=(i-e)*.5,o=(r-n)*.5,a=t*t,l=t*a;return(2*n-2*i+s+o)*l+(-3*n+3*i-2*s-o)*a+s*t+n}function qY(t,e){const n=1-t;return n*n*e}function KY(t,e){return 2*(1-t)*t*e}function ZY(t,e){return t*t*e}function Yf(t,e,n,i){return qY(t,e)+KY(t,n)+ZY(t,i)}function QY(t,e){const n=1-t;return n*n*n*e}function JY(t,e){const n=1-t;return 3*n*n*t*e}function eq(t,e){return 3*(1-t)*t*t*e}function tq(t,e){return t*t*t*e}function qf(t,e,n,i,r){return QY(t,e)+JY(t,n)+eq(t,i)+tq(t,r)}class IE extends _s{constructor(e=new ve,n=new ve,i=new ve,r=new ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new ve){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(qf(e,r.x,s.x,o.x,a.x),qf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class wO extends _s{constructor(e=new H,n=new H,i=new H,r=new H){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new H){const i=n,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(qf(e,r.x,s.x,o.x,a.x),qf(e,r.y,s.y,o.y,a.y),qf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class DE extends _s{constructor(e=new ve,n=new ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ve){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ve){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SO extends _s{constructor(e=new H,n=new H){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new H){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new H){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kE extends _s{constructor(e=new ve,n=new ve,i=new ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new ve){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(Yf(e,r.x,s.x,o.x),Yf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OE extends _s{constructor(e=new H,n=new H,i=new H){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new H){const i=n,r=this.v0,s=this.v1,o=this.v2;return i.set(Yf(e,r.x,s.x,o.x),Yf(e,r.y,s.y,o.y),Yf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UE extends _s{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ve){const i=n,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],f=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(p2(a,l.x,c.x,f.x,h.x),p2(a,l.y,c.y,f.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new ve().fromArray(r))}return this}}var ry=Object.freeze({__proto__:null,ArcCurve:xO,CatmullRomCurve3:_O,CubicBezierCurve:IE,CubicBezierCurve3:wO,EllipseCurve:n0,LineCurve:DE,LineCurve3:SO,QuadraticBezierCurve:kE,QuadraticBezierCurve3:OE,SplineCurve:UE});class MO extends _s{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new ry[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const f=l[c];i&&i.equals(f)||(n.push(f),i=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new ry[r.type]().fromJSON(r))}return this}}class Fh extends MO{constructor(e){super(),this.type="Path",this.currentPoint=new ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new DE(this.currentPoint.clone(),new ve(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new kE(this.currentPoint.clone(),new ve(e,n),new ve(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,o){const a=new IE(this.currentPoint.clone(),new ve(e,n),new ve(i,r),new ve(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new UE(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,r,s,o),this}absarc(e,n,i,r,s,o){return this.absellipse(e,n,i,i,r,s,o),this}ellipse(e,n,i,r,s,o,a,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,n+f,i,r,s,o,a,l),this}absellipse(e,n,i,r,s,o,a,l){const c=new n0(e,n,i,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class xp extends Tt{constructor(e=[new ve(0,-.5),new ve(.5,0),new ve(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=An(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],f=1/n,h=new H,p=new ve,m=new H,v=new H,_=new H;let x=0,g=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:x=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-x,m.z=g*0,_.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:x=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-x,m.z=g*0,v.copy(m),m.x+=_.x,m.y+=_.y,m.z+=_.z,m.normalize(),l.push(m.x,m.y,m.z),_.copy(v)}for(let w=0;w<=n;w++){const S=i+w*f*r,b=Math.sin(S),A=Math.cos(S);for(let C=0;C<=e.length-1;C++){h.x=e[C].x*b,h.y=e[C].y,h.z=e[C].x*A,o.push(h.x,h.y,h.z),p.x=w/n,p.y=C/(e.length-1),a.push(p.x,p.y);const N=l[3*C+0]*b,k=l[3*C+1],L=l[3*C+0]*A;c.push(N,k,L)}}for(let w=0;w<n;w++)for(let S=0;S<e.length-1;S++){const b=S+w*e.length,A=b,C=b+e.length,N=b+e.length+1,k=b+1;s.push(A,C,k),s.push(N,k,C)}this.setIndex(s),this.setAttribute("position",new Ye(o,3)),this.setAttribute("uv",new Ye(a,2)),this.setAttribute("normal",new Ye(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xp(e.points,e.segments,e.phiStart,e.phiLength)}}class i0 extends xp{constructor(e=1,n=1,i=4,r=8){const s=new Fh;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new i0(e.radius,e.length,e.capSegments,e.radialSegments)}}class r0 extends Tt{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new H,f=new ve;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=n;h++,p+=3){const m=i+h/n*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let h=1;h<=n;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Ye(o,3)),this.setAttribute("normal",new Ye(a,3)),this.setAttribute("uv",new Ye(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r0(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Pd extends Tt{constructor(e=1,n=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const f=[],h=[],p=[],m=[];let v=0;const _=[],x=i/2;let g=0;w(),o===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(f),this.setAttribute("position",new Ye(h,3)),this.setAttribute("normal",new Ye(p,3)),this.setAttribute("uv",new Ye(m,2));function w(){const b=new H,A=new H;let C=0;const N=(n-e)/i;for(let k=0;k<=s;k++){const L=[],I=k/s,j=I*(n-e)+e;for(let W=0;W<=r;W++){const re=W/r,B=re*l+a,K=Math.sin(B),Z=Math.cos(B);A.x=j*K,A.y=-I*i+x,A.z=j*Z,h.push(A.x,A.y,A.z),b.set(K,N,Z).normalize(),p.push(b.x,b.y,b.z),m.push(re,1-I),L.push(v++)}_.push(L)}for(let k=0;k<r;k++)for(let L=0;L<s;L++){const I=_[L][k],j=_[L+1][k],W=_[L+1][k+1],re=_[L][k+1];f.push(I,j,re),f.push(j,W,re),C+=6}c.addGroup(g,C,0),g+=C}function S(b){const A=v,C=new ve,N=new H;let k=0;const L=b===!0?e:n,I=b===!0?1:-1;for(let W=1;W<=r;W++)h.push(0,x*I,0),p.push(0,I,0),m.push(.5,.5),v++;const j=v;for(let W=0;W<=r;W++){const B=W/r*l+a,K=Math.cos(B),Z=Math.sin(B);N.x=L*Z,N.y=x*I,N.z=L*K,h.push(N.x,N.y,N.z),p.push(0,I,0),C.x=K*.5+.5,C.y=Z*.5*I+.5,m.push(C.x,C.y),v++}for(let W=0;W<r;W++){const re=A+W,B=j+W;b===!0?f.push(B,B+1,re):f.push(B+1,B,re),k+=3}c.addGroup(g,k,b===!0?1:2),g+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class s0 extends Pd{constructor(e=1,n=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new s0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Qa extends Tt{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],o=[];a(r),c(i),f(),this.setAttribute("position",new Ye(s,3)),this.setAttribute("normal",new Ye(s.slice(),3)),this.setAttribute("uv",new Ye(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const S=new H,b=new H,A=new H;for(let C=0;C<n.length;C+=3)m(n[C+0],S),m(n[C+1],b),m(n[C+2],A),l(S,b,A,w)}function l(w,S,b,A){const C=A+1,N=[];for(let k=0;k<=C;k++){N[k]=[];const L=w.clone().lerp(b,k/C),I=S.clone().lerp(b,k/C),j=C-k;for(let W=0;W<=j;W++)W===0&&k===C?N[k][W]=L:N[k][W]=L.clone().lerp(I,W/j)}for(let k=0;k<C;k++)for(let L=0;L<2*(C-k)-1;L++){const I=Math.floor(L/2);L%2===0?(p(N[k][I+1]),p(N[k+1][I]),p(N[k][I])):(p(N[k][I+1]),p(N[k+1][I+1]),p(N[k+1][I]))}}function c(w){const S=new H;for(let b=0;b<s.length;b+=3)S.x=s[b+0],S.y=s[b+1],S.z=s[b+2],S.normalize().multiplyScalar(w),s[b+0]=S.x,s[b+1]=S.y,s[b+2]=S.z}function f(){const w=new H;for(let S=0;S<s.length;S+=3){w.x=s[S+0],w.y=s[S+1],w.z=s[S+2];const b=x(w)/2/Math.PI+.5,A=g(w)/Math.PI+.5;o.push(b,1-A)}v(),h()}function h(){for(let w=0;w<o.length;w+=6){const S=o[w+0],b=o[w+2],A=o[w+4],C=Math.max(S,b,A),N=Math.min(S,b,A);C>.9&&N<.1&&(S<.2&&(o[w+0]+=1),b<.2&&(o[w+2]+=1),A<.2&&(o[w+4]+=1))}}function p(w){s.push(w.x,w.y,w.z)}function m(w,S){const b=w*3;S.x=e[b+0],S.y=e[b+1],S.z=e[b+2]}function v(){const w=new H,S=new H,b=new H,A=new H,C=new ve,N=new ve,k=new ve;for(let L=0,I=0;L<s.length;L+=9,I+=6){w.set(s[L+0],s[L+1],s[L+2]),S.set(s[L+3],s[L+4],s[L+5]),b.set(s[L+6],s[L+7],s[L+8]),C.set(o[I+0],o[I+1]),N.set(o[I+2],o[I+3]),k.set(o[I+4],o[I+5]),A.copy(w).add(S).add(b).divideScalar(3);const j=x(A);_(C,I+0,w,j),_(N,I+2,S,j),_(k,I+4,b,j)}}function _(w,S,b,A){A<0&&w.x===1&&(o[S]=w.x-1),b.x===0&&b.z===0&&(o[S]=A/2/Math.PI+.5)}function x(w){return Math.atan2(w.z,-w.x)}function g(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qa(e.vertices,e.indices,e.radius,e.details)}}class o0 extends Qa{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new o0(e.radius,e.detail)}}const Tg=new H,Ag=new H,W_=new H,Cg=new tr;class EO extends Tt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(Yl*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],f=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:_,b:x,c:g}=Cg;if(_.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),Cg.getNormal(W_),h[0]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,h[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,h[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let w=0;w<3;w++){const S=(w+1)%3,b=h[w],A=h[S],C=Cg[f[w]],N=Cg[f[S]],k=`${b}_${A}`,L=`${A}_${b}`;L in p&&p[L]?(W_.dot(p[L].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(N.x,N.y,N.z)),p[L]=null):k in p||(p[k]={index0:c[w],index1:c[S],normal:W_.clone()})}}for(const v in p)if(p[v]){const{index0:_,index1:x}=p[v];Tg.fromBufferAttribute(a,_),Ag.fromBufferAttribute(a,x),m.push(Tg.x,Tg.y,Tg.z),m.push(Ag.x,Ag.y,Ag.z)}this.setAttribute("position",new Ye(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Zl extends Fh{constructor(e){super(e),this.uuid=Sr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new Fh().fromJSON(r))}return this}}const nq={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=bO(t,0,r,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,f,h,p,m;if(i&&(s=aq(t,e,s,n)),t.length>80*n){a=c=t[0],l=f=t[1];for(let v=n;v<r;v+=n)h=t[v],p=t[v+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>f&&(f=p);m=Math.max(c-a,f-l),m=m!==0?32767/m:0}return zh(s,o,n,a,l,m,0),o}};function bO(t,e,n,i,r){let s,o;if(r===yq(t,e,n,i)>0)for(s=e;s<n;s+=i)o=m2(s,t[s],t[s+1],o);else for(s=n-i;s>=e;s-=i)o=m2(s,t[s],t[s+1],o);return o&&a0(o,o.next)&&(Vh(o),o=o.next),o}function ac(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(a0(n,n.next)||mn(n.prev,n,n.next)===0)){if(Vh(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function zh(t,e,n,i,r,s,o){if(!t)return;!o&&s&&fq(t,i,r,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?rq(t,i,r,s):iq(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Vh(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=sq(ac(t),e,n),zh(t,e,n,i,r,s,2)):o===2&&oq(t,e,n,i,r,s):zh(ac(t),e,n,i,r,s,1);break}}}function iq(t){const e=t.prev,n=t,i=t.next;if(mn(e,n,i)>=0)return!1;const r=e.x,s=n.x,o=i.x,a=e.y,l=n.y,c=i.y,f=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=i.next;for(;v!==e;){if(v.x>=f&&v.x<=p&&v.y>=h&&v.y<=m&&Tu(r,a,s,l,o,c,v.x,v.y)&&mn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function rq(t,e,n,i){const r=t.prev,s=t,o=t.next;if(mn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,f=r.y,h=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=f<h?f<p?f:p:h<p?h:p,_=a>l?a>c?a:c:l>c?l:c,x=f>h?f>p?f:p:h>p?h:p,g=vS(m,v,e,n,i),w=vS(_,x,e,n,i);let S=t.prevZ,b=t.nextZ;for(;S&&S.z>=g&&b&&b.z<=w;){if(S.x>=m&&S.x<=_&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&Tu(a,f,l,h,c,p,S.x,S.y)&&mn(S.prev,S,S.next)>=0||(S=S.prevZ,b.x>=m&&b.x<=_&&b.y>=v&&b.y<=x&&b!==r&&b!==o&&Tu(a,f,l,h,c,p,b.x,b.y)&&mn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=_&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&Tu(a,f,l,h,c,p,S.x,S.y)&&mn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;b&&b.z<=w;){if(b.x>=m&&b.x<=_&&b.y>=v&&b.y<=x&&b!==r&&b!==o&&Tu(a,f,l,h,c,p,b.x,b.y)&&mn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function sq(t,e,n){let i=t;do{const r=i.prev,s=i.next.next;!a0(r,s)&&TO(r,i,i.next,s)&&Bh(r,s)&&Bh(s,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(s.i/n|0),Vh(i),Vh(i.next),i=t=s),i=i.next}while(i!==t);return ac(i)}function oq(t,e,n,i,r,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&mq(o,a)){let l=AO(o,a);o=ac(o,o.next),l=ac(l,l.next),zh(o,e,n,i,r,s,0),zh(l,e,n,i,r,s,0);return}a=a.next}o=o.next}while(o!==t)}function aq(t,e,n,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,c=bO(t,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(pq(c));for(r.sort(lq),s=0;s<r.length;s++)n=cq(r[s],n);return n}function lq(t,e){return t.x-e.x}function cq(t,e){const n=uq(t,e);if(!n)return e;const i=AO(n,t);return ac(i,i.next),ac(n,n.next)}function uq(t,e){let n=e,i=-1/0,r;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>i&&(i=p,r=n.x<n.next.x?n:n.next,p===s))return r}n=n.next}while(n!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let f=1/0,h;n=r;do s>=n.x&&n.x>=l&&s!==n.x&&Tu(o<c?s:i,o,l,c,o<c?i:s,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(s-n.x),Bh(n,t)&&(h<f||h===f&&(n.x>r.x||n.x===r.x&&dq(r,n)))&&(r=n,f=h)),n=n.next;while(n!==a);return r}function dq(t,e){return mn(t.prev,t,e.prev)<0&&mn(e.next,t,t.next)<0}function fq(t,e,n,i){let r=t;do r.z===0&&(r.z=vS(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,hq(r)}function hq(t){let e,n,i,r,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,i=n,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(o>1);return t}function vS(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function pq(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Tu(t,e,n,i,r,s,o,a){return(r-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(r-o)*(i-a)}function mq(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!gq(t,e)&&(Bh(t,e)&&Bh(e,t)&&vq(t,e)&&(mn(t.prev,t,e.prev)||mn(t,e.prev,e))||a0(t,e)&&mn(t.prev,t,t.next)>0&&mn(e.prev,e,e.next)>0)}function mn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function a0(t,e){return t.x===e.x&&t.y===e.y}function TO(t,e,n,i){const r=Rg(mn(t,e,n)),s=Rg(mn(t,e,i)),o=Rg(mn(n,i,t)),a=Rg(mn(n,i,e));return!!(r!==s&&o!==a||r===0&&Pg(t,n,e)||s===0&&Pg(t,i,e)||o===0&&Pg(n,t,i)||a===0&&Pg(n,e,i))}function Pg(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Rg(t){return t>0?1:t<0?-1:0}function gq(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&TO(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Bh(t,e){return mn(t.prev,t,t.next)<0?mn(t,e,t.next)>=0&&mn(t,t.prev,e)>=0:mn(t,e,t.prev)<0||mn(t,t.next,e)<0}function vq(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function AO(t,e){const n=new yS(t.i,t.x,t.y),i=new yS(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function m2(t,e,n,i){const r=new yS(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Vh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function yS(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function yq(t,e,n,i){let r=0;for(let s=e,o=n-i;s<n;s+=i)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}class $s{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return $s.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];g2(e),v2(i,e);let o=e.length;n.forEach(g2);for(let l=0;l<n.length;l++)r.push(o),o+=n[l].length,v2(i,n[l]);const a=nq.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function g2(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function v2(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class l0 extends Tt{constructor(e=new Zl([new ve(.5,.5),new ve(-.5,.5),new ve(-.5,-.5),new ve(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ye(r,3)),this.setAttribute("uv",new Ye(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:xq;let S,b=!1,A,C,N,k;g&&(S=g.getSpacedPoints(f),b=!0,p=!1,A=g.computeFrenetFrames(f,!1),C=new H,N=new H,k=new H),p||(x=0,m=0,v=0,_=0);const L=a.extractPoints(c);let I=L.shape;const j=L.holes;if(!$s.isClockWise(I)){I=I.reverse();for(let X=0,we=j.length;X<we;X++){const he=j[X];$s.isClockWise(he)&&(j[X]=he.reverse())}}const re=$s.triangulateShape(I,j),B=I;for(let X=0,we=j.length;X<we;X++){const he=j[X];I=I.concat(he)}function K(X,we,he){return we||console.error("THREE.ExtrudeGeometry: vec does not exist"),X.clone().addScaledVector(we,he)}const Z=I.length,ee=re.length;function D(X,we,he){let Ee,fe,qe;const De=X.x-we.x,F=X.y-we.y,O=he.x-X.x,ne=he.y-X.y,Se=De*De+F*F,ye=De*ne-F*O;if(Math.abs(ye)>Number.EPSILON){const xe=Math.sqrt(Se),$e=Math.sqrt(O*O+ne*ne),Ae=we.x-F/xe,Oe=we.y+De/xe,rt=he.x-ne/$e,mt=he.y+O/$e,_e=((rt-Ae)*ne-(mt-Oe)*O)/(De*ne-F*O);Ee=Ae+De*_e-X.x,fe=Oe+F*_e-X.y;const It=Ee*Ee+fe*fe;if(It<=2)return new ve(Ee,fe);qe=Math.sqrt(It/2)}else{let xe=!1;De>Number.EPSILON?O>Number.EPSILON&&(xe=!0):De<-Number.EPSILON?O<-Number.EPSILON&&(xe=!0):Math.sign(F)===Math.sign(ne)&&(xe=!0),xe?(Ee=-F,fe=De,qe=Math.sqrt(Se)):(Ee=De,fe=F,qe=Math.sqrt(Se/2))}return new ve(Ee/qe,fe/qe)}const U=[];for(let X=0,we=B.length,he=we-1,Ee=X+1;X<we;X++,he++,Ee++)he===we&&(he=0),Ee===we&&(Ee=0),U[X]=D(B[X],B[he],B[Ee]);const V=[];let $,Q=U.concat();for(let X=0,we=j.length;X<we;X++){const he=j[X];$=[];for(let Ee=0,fe=he.length,qe=fe-1,De=Ee+1;Ee<fe;Ee++,qe++,De++)qe===fe&&(qe=0),De===fe&&(De=0),$[Ee]=D(he[Ee],he[qe],he[De]);V.push($),Q=Q.concat($)}for(let X=0;X<x;X++){const we=X/x,he=m*Math.cos(we*Math.PI/2),Ee=v*Math.sin(we*Math.PI/2)+_;for(let fe=0,qe=B.length;fe<qe;fe++){const De=K(B[fe],U[fe],Ee);ge(De.x,De.y,-he)}for(let fe=0,qe=j.length;fe<qe;fe++){const De=j[fe];$=V[fe];for(let F=0,O=De.length;F<O;F++){const ne=K(De[F],$[F],Ee);ge(ne.x,ne.y,-he)}}}const q=v+_;for(let X=0;X<Z;X++){const we=p?K(I[X],Q[X],q):I[X];b?(N.copy(A.normals[0]).multiplyScalar(we.x),C.copy(A.binormals[0]).multiplyScalar(we.y),k.copy(S[0]).add(N).add(C),ge(k.x,k.y,k.z)):ge(we.x,we.y,0)}for(let X=1;X<=f;X++)for(let we=0;we<Z;we++){const he=p?K(I[we],Q[we],q):I[we];b?(N.copy(A.normals[X]).multiplyScalar(he.x),C.copy(A.binormals[X]).multiplyScalar(he.y),k.copy(S[X]).add(N).add(C),ge(k.x,k.y,k.z)):ge(he.x,he.y,h/f*X)}for(let X=x-1;X>=0;X--){const we=X/x,he=m*Math.cos(we*Math.PI/2),Ee=v*Math.sin(we*Math.PI/2)+_;for(let fe=0,qe=B.length;fe<qe;fe++){const De=K(B[fe],U[fe],Ee);ge(De.x,De.y,h+he)}for(let fe=0,qe=j.length;fe<qe;fe++){const De=j[fe];$=V[fe];for(let F=0,O=De.length;F<O;F++){const ne=K(De[F],$[F],Ee);b?ge(ne.x,ne.y+S[f-1].y,S[f-1].x+he):ge(ne.x,ne.y,h+he)}}}se(),me();function se(){const X=r.length/3;if(p){let we=0,he=Z*we;for(let Ee=0;Ee<ee;Ee++){const fe=re[Ee];tt(fe[2]+he,fe[1]+he,fe[0]+he)}we=f+x*2,he=Z*we;for(let Ee=0;Ee<ee;Ee++){const fe=re[Ee];tt(fe[0]+he,fe[1]+he,fe[2]+he)}}else{for(let we=0;we<ee;we++){const he=re[we];tt(he[2],he[1],he[0])}for(let we=0;we<ee;we++){const he=re[we];tt(he[0]+Z*f,he[1]+Z*f,he[2]+Z*f)}}i.addGroup(X,r.length/3-X,0)}function me(){const X=r.length/3;let we=0;Te(B,we),we+=B.length;for(let he=0,Ee=j.length;he<Ee;he++){const fe=j[he];Te(fe,we),we+=fe.length}i.addGroup(X,r.length/3-X,1)}function Te(X,we){let he=X.length;for(;--he>=0;){const Ee=he;let fe=he-1;fe<0&&(fe=X.length-1);for(let qe=0,De=f+x*2;qe<De;qe++){const F=Z*qe,O=Z*(qe+1),ne=we+Ee+F,Se=we+fe+F,ye=we+fe+O,xe=we+Ee+O;nt(ne,Se,ye,xe)}}}function ge(X,we,he){l.push(X),l.push(we),l.push(he)}function tt(X,we,he){Fe(X),Fe(we),Fe(he);const Ee=r.length/3,fe=w.generateTopUV(i,r,Ee-3,Ee-2,Ee-1);Xe(fe[0]),Xe(fe[1]),Xe(fe[2])}function nt(X,we,he,Ee){Fe(X),Fe(we),Fe(Ee),Fe(we),Fe(he),Fe(Ee);const fe=r.length/3,qe=w.generateSideWallUV(i,r,fe-6,fe-3,fe-2,fe-1);Xe(qe[0]),Xe(qe[1]),Xe(qe[3]),Xe(qe[1]),Xe(qe[2]),Xe(qe[3])}function Fe(X){r.push(l[X*3+0]),r.push(l[X*3+1]),r.push(l[X*3+2])}function Xe(X){s.push(X.x),s.push(X.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return _q(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new ry[r.type]().fromJSON(r)),new l0(i,e.options)}}const xq={generateTopUV:function(t,e,n,i,r){const s=e[n*3],o=e[n*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],f=e[r*3+1];return[new ve(s,o),new ve(a,l),new ve(c,f)]},generateSideWallUV:function(t,e,n,i,r,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[i*3],f=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],_=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-f)<Math.abs(o-c)?[new ve(o,1-l),new ve(c,1-h),new ve(p,1-v),new ve(_,1-g)]:[new ve(a,1-l),new ve(f,1-h),new ve(m,1-v),new ve(x,1-g)]}};function _q(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class c0 extends Qa{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new c0(e.radius,e.detail)}}class _p extends Qa{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new _p(e.radius,e.detail)}}class u0 extends Tt{constructor(e=.5,n=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],f=[];let h=e;const p=(n-e)/r,m=new H,v=new ve;for(let _=0;_<=r;_++){for(let x=0;x<=i;x++){const g=s+x/i*o;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,f.push(v.x,v.y)}h+=p}for(let _=0;_<r;_++){const x=_*(i+1);for(let g=0;g<i;g++){const w=g+x,S=w,b=w+i+1,A=w+i+2,C=w+1;a.push(S,b,C),a.push(b,A,C)}}this.setIndex(a),this.setAttribute("position",new Ye(l,3)),this.setAttribute("normal",new Ye(c,3)),this.setAttribute("uv",new Ye(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class d0 extends Tt{constructor(e=new Zl([new ve(0,.5),new ve(-.5,-.5),new ve(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ye(r,3)),this.setAttribute("normal",new Ye(s,3)),this.setAttribute("uv",new Ye(o,2));function c(f){const h=r.length/3,p=f.extractPoints(n);let m=p.shape;const v=p.holes;$s.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=v.length;x<g;x++){const w=v[x];$s.isClockWise(w)===!0&&(v[x]=w.reverse())}const _=$s.triangulateShape(m,v);for(let x=0,g=v.length;x<g;x++){const w=v[x];m=m.concat(w)}for(let x=0,g=m.length;x<g;x++){const w=m[x];r.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let x=0,g=_.length;x<g;x++){const w=_[x],S=w[0]+h,b=w[1]+h,A=w[2]+h;i.push(S,b,A),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return wq(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=n[e.shapes[r]];i.push(o)}return new d0(i,e.curveSegments)}}function wq(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class wp extends Tt{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const f=[],h=new H,p=new H,m=[],v=[],_=[],x=[];for(let g=0;g<=i;g++){const w=[],S=g/i;let b=0;g===0&&o===0?b=.5/n:g===i&&l===Math.PI&&(b=-.5/n);for(let A=0;A<=n;A++){const C=A/n;h.x=-e*Math.cos(r+C*s)*Math.sin(o+S*a),h.y=e*Math.cos(o+S*a),h.z=e*Math.sin(r+C*s)*Math.sin(o+S*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),_.push(p.x,p.y,p.z),x.push(C+b,1-S),w.push(c++)}f.push(w)}for(let g=0;g<i;g++)for(let w=0;w<n;w++){const S=f[g][w+1],b=f[g][w],A=f[g+1][w],C=f[g+1][w+1];(g!==0||o>0)&&m.push(S,b,C),(g!==i-1||l<Math.PI)&&m.push(b,A,C)}this.setIndex(m),this.setAttribute("position",new Ye(v,3)),this.setAttribute("normal",new Ye(_,3)),this.setAttribute("uv",new Ye(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class f0 extends Qa{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new f0(e.radius,e.detail)}}class h0 extends Tt{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],f=new H,h=new H,p=new H;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const _=v/r*s,x=m/i*Math.PI*2;h.x=(e+n*Math.cos(x))*Math.cos(_),h.y=(e+n*Math.cos(x))*Math.sin(_),h.z=n*Math.sin(x),a.push(h.x,h.y,h.z),f.x=e*Math.cos(_),f.y=e*Math.sin(_),p.subVectors(h,f).normalize(),l.push(p.x,p.y,p.z),c.push(v/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const _=(r+1)*m+v-1,x=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,w=(r+1)*m+v;o.push(_,x,w),o.push(x,g,w)}this.setIndex(o),this.setAttribute("position",new Ye(a,3)),this.setAttribute("normal",new Ye(l,3)),this.setAttribute("uv",new Ye(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new h0(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class p0 extends Tt{constructor(e=1,n=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],f=[],h=new H,p=new H,m=new H,v=new H,_=new H,x=new H,g=new H;for(let S=0;S<=i;++S){const b=S/i*s*Math.PI*2;w(b,s,o,e,m),w(b+.01,s,o,e,v),x.subVectors(v,m),g.addVectors(v,m),_.crossVectors(x,g),g.crossVectors(_,x),_.normalize(),g.normalize();for(let A=0;A<=r;++A){const C=A/r*Math.PI*2,N=-n*Math.cos(C),k=n*Math.sin(C);h.x=m.x+(N*g.x+k*_.x),h.y=m.y+(N*g.y+k*_.y),h.z=m.z+(N*g.z+k*_.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),f.push(S/i),f.push(A/r)}}for(let S=1;S<=i;S++)for(let b=1;b<=r;b++){const A=(r+1)*(S-1)+(b-1),C=(r+1)*S+(b-1),N=(r+1)*S+b,k=(r+1)*(S-1)+b;a.push(A,C,k),a.push(C,N,k)}this.setIndex(a),this.setAttribute("position",new Ye(l,3)),this.setAttribute("normal",new Ye(c,3)),this.setAttribute("uv",new Ye(f,2));function w(S,b,A,C,N){const k=Math.cos(S),L=Math.sin(S),I=A/b*S,j=Math.cos(I);N.x=C*(2+j)*.5*k,N.y=C*(2+j)*L*.5,N.z=C*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class m0 extends Tt{constructor(e=new OE(new H(-1,-1,0),new H(-1,1,0),new H(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new H,l=new H,c=new ve;let f=new H;const h=[],p=[],m=[],v=[];_(),this.setIndex(v),this.setAttribute("position",new Ye(h,3)),this.setAttribute("normal",new Ye(p,3)),this.setAttribute("uv",new Ye(m,2));function _(){for(let S=0;S<n;S++)x(S);x(s===!1?n:0),w(),g()}function x(S){f=e.getPointAt(S/n,f);const b=o.normals[S],A=o.binormals[S];for(let C=0;C<=r;C++){const N=C/r*Math.PI*2,k=Math.sin(N),L=-Math.cos(N);l.x=L*b.x+k*A.x,l.y=L*b.y+k*A.y,l.z=L*b.z+k*A.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+i*l.x,a.y=f.y+i*l.y,a.z=f.z+i*l.z,h.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=n;S++)for(let b=1;b<=r;b++){const A=(r+1)*(S-1)+(b-1),C=(r+1)*S+(b-1),N=(r+1)*S+b,k=(r+1)*(S-1)+b;v.push(A,C,k),v.push(C,N,k)}}function w(){for(let S=0;S<=n;S++)for(let b=0;b<=r;b++)c.x=S/n,c.y=b/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new m0(new ry[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class CO extends Tt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new H,s=new H;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const h=l[c],p=h.start,m=h.count;for(let v=p,_=p+m;v<_;v+=3)for(let x=0;x<3;x++){const g=a.getX(v+x),w=a.getX(v+(x+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,w),y2(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const f=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,f),s.fromBufferAttribute(o,h),y2(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ye(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function y2(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var x2=Object.freeze({__proto__:null,BoxGeometry:pc,CapsuleGeometry:i0,CircleGeometry:r0,ConeGeometry:s0,CylinderGeometry:Pd,DodecahedronGeometry:o0,EdgesGeometry:EO,ExtrudeGeometry:l0,IcosahedronGeometry:c0,LatheGeometry:xp,OctahedronGeometry:_p,PlaneGeometry:vp,PolyhedronGeometry:Qa,RingGeometry:u0,ShapeGeometry:d0,SphereGeometry:wp,TetrahedronGeometry:f0,TorusGeometry:h0,TorusKnotGeometry:p0,TubeGeometry:m0,WireframeGeometry:CO});class PO extends Ni{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ve(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class RO extends Js{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class FE extends Ni{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ve(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zE extends FE{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return An(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ve(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ve(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ve(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class NO extends Ni{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ve(16777215),this.specular=new Ve(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=dp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LO extends Ni{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ve(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class IO extends Ni{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class DO extends Ni{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=dp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kO extends Ni{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ve(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ka,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class OO extends Li{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ol(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function UO(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function FO(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function xS(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,o=0;o!==i;++s){const a=n[s]*e;for(let l=0;l!==e;++l)r[o++]=t[a+l]}return r}function BE(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),n.push(o)),s=t[r++];while(s!==void 0)}function Sq(t,e,n,i,r=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],f=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*r;if(!(v<n||v>=i)){h.push(c.times[m]);for(let _=0;_<f;++_)p.push(c.values[m*f+_])}}h.length!==0&&(c.times=Ol(h,c.times.constructor),c.values=Ol(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Mq(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let f=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let _;if(s<=a.times[0]){const g=f,w=h-f;_=a.values.slice(g,w)}else if(s>=a.times[v]){const g=v*h+f,w=g+h-f;_=a.values.slice(g,w)}else{const g=a.createInterpolant(),w=f,S=h-f;g.evaluate(s),_=g.resultBuffer.slice(w,S)}l==="quaternion"&&new ar().fromArray(_).normalize().conjugate().toArray(_);const x=c.times.length;for(let g=0;g<x;++g){const w=g*m+p;if(l==="quaternion")ar.multiplyQuaternionsFlat(c.values,w,_,0,c.values,w);else{const S=m-p*2;for(let b=0;b<S;++b)c.values[w+b]-=_[b]}}}return t.blendMode=gE,t}const Eq={convertArray:Ol,isTypedArray:UO,getKeyframeOrder:FO,sortedArray:xS,flattenJSON:BE,subclip:Sq,makeClipAdditive:Mq};class Sp{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=n[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<n[a]?o=a:i=a+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)n[o]=i[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class zO extends Sp{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Il,endingEnd:Il}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Dl:s=e,a=2*n-i;break;case Lh:s=r.length-2,a=n+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Dl:o=e,l=2*i-n;break;case Lh:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=n}const c=(i-n)*.5,f=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-i),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-n)/(r-n),_=v*v,x=_*v,g=-p*x+2*p*_-p*v,w=(1+p)*x+(-1.5-2*p)*_+(-.5+p)*v+1,S=(-1-m)*x+(1.5+m)*_+.5*v,b=m*x-m*_;for(let A=0;A!==a;++A)s[A]=g*o[f+A]+w*o[c+A]+S*o[l+A]+b*o[h+A];return s}}class VE extends Sp{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=(i-n)/(r-n),h=1-f;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*f;return s}}class BO extends Sp{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ws{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ol(n,this.TimeBufferType),this.values=Ol(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Ol(e.times,Array),values:Ol(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new BO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new VE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new zO(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Rh:n=this.InterpolantFactoryMethodDiscrete;break;case Nh:n=this.InterpolantFactoryMethodLinear;break;case hv:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Rh;case this.InterpolantFactoryMethodLinear:return Nh;case this.InterpolantFactoryMethodSmooth:return hv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>n;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&UO(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===hv,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],f=e[a+1];if(c!==f&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,m=h+i;for(let v=0;v!==i;++v){const _=n[h+v];if(_!==n[p+v]||_!==n[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)n[p+m]=n[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}ws.prototype.TimeBufferType=Float32Array;ws.prototype.ValueBufferType=Float32Array;ws.prototype.DefaultInterpolation=Nh;class mc extends ws{}mc.prototype.ValueTypeName="bool";mc.prototype.ValueBufferType=Array;mc.prototype.DefaultInterpolation=Rh;mc.prototype.InterpolantFactoryMethodLinear=void 0;mc.prototype.InterpolantFactoryMethodSmooth=void 0;class HE extends ws{}HE.prototype.ValueTypeName="color";class Hh extends ws{}Hh.prototype.ValueTypeName="number";class VO extends Sp{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-n)/(r-n);let c=e*a;for(let f=c+a;c!==f;c+=4)ar.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Rd extends ws{InterpolantFactoryMethodLinear(e){return new VO(this.times,this.values,this.getValueSize(),e)}}Rd.prototype.ValueTypeName="quaternion";Rd.prototype.DefaultInterpolation=Nh;Rd.prototype.InterpolantFactoryMethodSmooth=void 0;class gc extends ws{}gc.prototype.ValueTypeName="string";gc.prototype.ValueBufferType=Array;gc.prototype.DefaultInterpolation=Rh;gc.prototype.InterpolantFactoryMethodLinear=void 0;gc.prototype.InterpolantFactoryMethodSmooth=void 0;class jh extends ws{}jh.prototype.ValueTypeName="vector";class Gh{constructor(e,n=-1,i,r=Xy){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Sr(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)n.push(Tq(i[o]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)n.push(ws.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const f=FO(l);l=xS(l,1,f),c=xS(c,1,f),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Hh(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],f=c.name.match(s);if(f&&f.length>1){const h=f[1];let p=r[h];p||(r[h]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],n,i));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,v,_){if(m.length!==0){const x=[],g=[];BE(m,x,g,v),x.length!==0&&_.push(new h(p,x,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let _=0;_<p[v].morphTargets.length;_++)m[p[v].morphTargets[_]]=-1;for(const _ in m){const x=[],g=[];for(let w=0;w!==p[v].morphTargets.length;++w){const S=p[v];x.push(S.time),g.push(S.morphTarget===_?1:0)}r.push(new Hh(".morphTargetInfluence["+_+"]",x,g))}l=m.length*o}else{const m=".bones["+n[h].name+"]";i(jh,m+".position",p,"pos",r),i(Rd,m+".quaternion",p,"rot",r),i(jh,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function bq(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Hh;case"vector":case"vector2":case"vector3":case"vector4":return jh;case"color":return HE;case"quaternion":return Rd;case"bool":case"boolean":return mc;case"string":return gc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Tq(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=bq(t.type);if(t.times===void 0){const n=[],i=[];BE(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Eo={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class jE{constructor(e,n,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(f){a++,s===!1&&r.onStart!==void 0&&r.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,r.onProgress!==void 0&&r.onProgress(f,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,h){return c.push(f,h),this},this.removeHandler=function(f){const h=c.indexOf(f);return h!==-1&&c.splice(h,2),this},this.getHandler=function(f){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],v=c[h+1];if(m.global&&(m.lastIndex=0),m.test(f))return v}return null}}}const HO=new jE;class lr{constructor(e){this.manager=e!==void 0?e:HO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}lr.DEFAULT_MATERIAL_NAME="__DEFAULT";const mo={};class Aq extends Error{constructor(e,n){super(e),this.response=n}}class zo extends lr{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Eo.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(mo[e]!==void 0){mo[e].push({onLoad:n,onProgress:i,onError:r});return}mo[e]=[],mo[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=mo[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let _=0;const x=new ReadableStream({start(g){w();function w(){h.read().then(({done:S,value:b})=>{if(S)g.close();else{_+=b.byteLength;const A=new ProgressEvent("progress",{lengthComputable:v,loaded:_,total:m});for(let C=0,N=f.length;C<N;C++){const k=f[C];k.onProgress&&k.onProgress(A)}g.enqueue(b),w()}})}}});return new Response(x)}else throw new Aq(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Eo.add(e,c);const f=mo[e];delete mo[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const f=mo[e];if(f===void 0)throw this.manager.itemError(e),c;delete mo[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Cq extends lr{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new zo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=Gh.parse(e[i]);n.push(r)}return n}}class Pq extends lr{constructor(e){super(e)}load(e,n,i,r){const s=this,o=[],a=new t0,l=new zo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function f(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=kn),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)f(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let _=0;_<p.mipmapCount;_++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+_]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=kn),a.format=p.format,a.needsUpdate=!0,n&&n(a)},i,r);return a}}class Wh extends lr{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Eo.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Uh("img");function l(){f(),Eo.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(h){f(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Rq extends lr{constructor(e){super(e)}load(e,n,i,r){const s=new mp;s.colorSpace=Wn;const o=new Wh(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(f){s.images[c]=f,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class Nq extends lr{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new Kl,a=new zo(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(f){if(r!==void 0)r(f);else{console.error(f);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Ai,o.wrapT=c.wrapT!==void 0?c.wrapT:Ai,o.magFilter=c.magFilter!==void 0?c.magFilter:kn,o.minFilter=c.minFilter!==void 0?c.minFilter:kn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ga),c.mipmapCount===1&&(o.minFilter=kn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},i,r),o}}class Lq extends lr{constructor(e){super(e)}load(e,n,i,r){const s=new On,o=new Wh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class Ja extends jt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ve(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class jO extends Ja{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(jt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ve(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const X_=new ht,_2=new H,w2=new H;class GE{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ve(512,512),this.map=null,this.mapPass=null,this.matrix=new ht,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new gp,this._frameExtents=new ve(1,1),this._viewportCount=1,this._viewports=[new Xt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;_2.setFromMatrixPosition(e.matrixWorld),n.position.copy(_2),w2.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(w2),n.updateMatrixWorld(),X_.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(X_),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(X_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Iq extends GE{constructor(){super(new ii(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=cd*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class GO extends Ja{constructor(e,n,i=0,r=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(jt.DEFAULT_UP),this.updateMatrix(),this.target=new jt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Iq}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const S2=new ht,wf=new H,$_=new H;class Dq extends GE{constructor(){super(new ii(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ve(4,2),this._viewportCount=6,this._viewports=[new Xt(2,1,1,1),new Xt(0,1,1,1),new Xt(3,1,1,1),new Xt(1,1,1,1),new Xt(3,0,1,1),new Xt(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),wf.setFromMatrixPosition(e.matrixWorld),i.position.copy(wf),$_.copy(i.position),$_.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt($_),i.updateMatrixWorld(),r.makeTranslation(-wf.x,-wf.y,-wf.z),S2.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(S2)}}class WO extends Ja{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Dq}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class kq extends GE{constructor(){super(new yp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class XO extends Ja{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(jt.DEFAULT_UP),this.updateMatrix(),this.target=new jt,this.shadow=new kq}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class $O extends Ja{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class YO extends Ja{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class qO{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(i*s)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*i*s),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class KO extends Ja{constructor(e=new qO,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class g0 extends lr{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,o=new zo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const r=g0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Ve().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Ve().setHex(o.value);break;case"v2":r.uniforms[s].value=new ve().fromArray(o.value);break;case"v3":r.uniforms[s].value=new H().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Xt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Ct().fromArray(o.value);break;case"m4":r.uniforms[s].value=new ht().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ve().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ve().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:PO,SpriteMaterial:RE,RawShaderMaterial:RO,ShaderMaterial:Js,PointsMaterial:e0,MeshPhysicalMaterial:zE,MeshStandardMaterial:FE,MeshPhongMaterial:NO,MeshToonMaterial:LO,MeshNormalMaterial:IO,MeshLambertMaterial:DO,MeshDepthMaterial:TE,MeshDistanceMaterial:AE,MeshBasicMaterial:Za,MeshMatcapMaterial:kO,LineDashedMaterial:OO,LineBasicMaterial:Li,Material:Ni};return new n[e]}}class _S{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class ZO extends Tt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class QO extends lr{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new zo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(m,v){if(n[v]!==void 0)return n[v];const x=m.interleavedBuffers[v],g=s(m,x.buffer),w=Su(x.type,g),S=new Qy(w,x.stride);return S.uuid=x.uuid,n[v]=S,S}function s(m,v){if(i[v]!==void 0)return i[v];const x=m.arrayBuffers[v],g=new Uint32Array(x).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new ZO:new Tt,a=e.data.index;if(a!==void 0){const m=Su(a.type,a.array);o.setIndex(new Yt(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let _;if(v.isInterleavedBufferAttribute){const x=r(e.data,v.data);_=new oc(x,v.itemSize,v.offset,v.normalized)}else{const x=Su(v.type,v.array),g=v.isInstancedBufferAttribute?dd:Yt;_=new g(x,v.itemSize,v.normalized)}v.name!==void 0&&(_.name=v.name),v.usage!==void 0&&_.setUsage(v.usage),o.setAttribute(m,_)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],_=[];for(let x=0,g=v.length;x<g;x++){const w=v[x];let S;if(w.isInterleavedBufferAttribute){const b=r(e.data,w.data);S=new oc(b,w.itemSize,w.offset,w.normalized)}else{const b=Su(w.type,w.array);S=new Yt(b,w.itemSize,w.normalized)}w.name!==void 0&&(S.name=w.name),_.push(S)}o.morphAttributes[m]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const _=h[m];o.addGroup(_.start,_.count,_.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new H;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Pi(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Oq extends lr{constructor(e){super(e)}load(e,n,i,r){const s=this,o=this.path===""?_S.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new zo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?_S.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new zo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),n!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Zl().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Jy().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new QO;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in x2?a=x2[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new g0;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Gh.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(f)}else return l.data?{data:Su(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new jE(n);s=new Wh(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const x=p[v],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Kl(g.data,g.width,g.height)))}r[h.uuid]=new kl(m)}else{const m=a(h.url);r[h.uuid]=new kl(m)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Su(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Wh(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const f=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],v=await s(m);v!==null&&(v instanceof HTMLImageElement?f.push(v):f.push(new Kl(v.data,v.width,v.height)))}i[l.uuid]=new kl(f)}else{const f=await s(l.url);i[l.uuid]=new kl(f)}}}return i}parseTextures(e,n){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let f;Array.isArray(c)?(f=new mp,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new Kl:f=new On,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=i(a.mapping,Uq)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=i(a.wrap[0],M2),f.wrapT=i(a.wrap[1],M2)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.encoding!==void 0&&(f.encoding=a.encoding),a.minFilter!==void 0&&(f.minFilter=i(a.minFilter,E2)),a.magFilter!==void 0&&(f.magFilter=i(a.magFilter,E2)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),r[a.uuid]=f}return r}parseObject(e,n,i,r,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,_=p.length;v<_;v++){const x=p[v];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let f,h;switch(e.type){case"Scene":o=new PE,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ve(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Zy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Ky(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new ii(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new yp(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new $O(e.color,e.intensity);break;case"DirectionalLight":o=new XO(e.color,e.intensity);break;case"PointLight":o=new WO(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new YO(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new GO(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new jO(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new KO().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),h=l(e.material),o=new pO(f,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),h=l(e.material),o=new $n(f,h);break;case"InstancedMesh":f=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new mO(f,h,p),o.instanceMatrix=new dd(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new dd(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":f=a(e.geometry),h=l(e.material),o=new gO(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(_=>{const x=new Gi;x.min.fromArray(_.boxMin),x.max.fromArray(_.boxMax);const g=new Pi;return g.radius=_.sphereRadius,g.center.fromArray(_.sphereCenter),{boxInitialized:_.boxInitialized,box:x,sphereInitialized:_.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new hO;break;case"Line":o=new Fo(a(e.geometry),l(e.material));break;case"LineLoop":o=new vO(a(e.geometry),l(e.material));break;case"LineSegments":o=new to(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new yO(a(e.geometry),l(e.material));break;case"Sprite":o=new fO(l(e.material));break;case"Group":o=new bu;break;case"Bone":o=new NE;break;default:o=new jt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],_=o.getObjectByProperty("uuid",v.object);_!==void 0&&o.addLevel(_,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const Uq={UVMapping:Gy,CubeReflectionMapping:Uo,CubeRefractionMapping:ja,EquirectangularReflectionMapping:Th,EquirectangularRefractionMapping:Ah,CubeUVReflectionMapping:Td},M2={RepeatWrapping:Ch,ClampToEdgeWrapping:Ai,MirroredRepeatWrapping:Ph},E2={NearestFilter:In,NearestMipmapNearestFilter:ty,NearestMipmapLinearFilter:Wf,LinearFilter:kn,LinearMipmapNearestFilter:lE,LinearMipmapLinearFilter:Ga};class Fq extends lr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Eo.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Eo.add(e,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),Eo.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Eo.add(e,l),s.manager.itemStart(e)}}let Ng;class WE{static getContext(){return Ng===void 0&&(Ng=new(window.AudioContext||window.webkitAudioContext)),Ng}static setContext(e){Ng=e}}class zq extends lr{constructor(e){super(e)}load(e,n,i,r){const s=this,o=new zo(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);WE.getContext().decodeAudioData(c,function(h){n(h)}).catch(a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const b2=new ht,T2=new ht,gl=new ht;class Bq{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ii,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ii,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,gl.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,o=n.near*Math.tan(Yl*n.fov*.5)/n.zoom;let a,l;T2.elements[12]=-r,b2.elements[12]=r,a=-o*n.aspect+s,l=o*n.aspect+s,gl.elements[0]=2*n.near/(l-a),gl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(gl),a=-o*n.aspect-s,l=o*n.aspect-s,gl.elements[0]=2*n.near/(l-a),gl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(gl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(T2),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(b2)}}class XE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=A2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=A2();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function A2(){return(typeof performance>"u"?Date:performance).now()}const vl=new H,C2=new ar,Vq=new H,yl=new H;class Hq extends jt{constructor(){super(),this.type="AudioListener",this.context=WE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new XE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(vl,C2,Vq),yl.set(0,0,-1).applyQuaternion(C2),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(vl.x,r),n.positionY.linearRampToValueAtTime(vl.y,r),n.positionZ.linearRampToValueAtTime(vl.z,r),n.forwardX.linearRampToValueAtTime(yl.x,r),n.forwardY.linearRampToValueAtTime(yl.y,r),n.forwardZ.linearRampToValueAtTime(yl.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(vl.x,vl.y,vl.z),n.setOrientation(yl.x,yl.y,yl.z,i.x,i.y,i.z)}}class JO extends jt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const xl=new H,P2=new ar,jq=new H,_l=new H;class Gq extends JO{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(xl,P2,jq),_l.set(0,0,1).applyQuaternion(P2);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(xl.x,i),n.positionY.linearRampToValueAtTime(xl.y,i),n.positionZ.linearRampToValueAtTime(xl.z,i),n.orientationX.linearRampToValueAtTime(_l.x,i),n.orientationY.linearRampToValueAtTime(_l.y,i),n.orientationZ.linearRampToValueAtTime(_l.z,i)}else n.setPosition(xl.x,xl.y,xl.z),n.setOrientation(_l.x,_l.y,_l.z)}}class Wq{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class eU{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,o;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,o=r;s!==o;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){ar.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const o=this._workIndex*s;ar.multiplyQuaternionsFlat(e,o,e,n,e,i),ar.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,n,i,r,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[i+o]*r}}}const $E="\\[\\]\\.:\\/",Xq=new RegExp("["+$E+"]","g"),YE="[^"+$E+"]",$q="[^"+$E.replace("\\.","")+"]",Yq=/((?:WC+[\/:])*)/.source.replace("WC",YE),qq=/(WCOD+)?/.source.replace("WCOD",$q),Kq=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",YE),Zq=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",YE),Qq=new RegExp("^"+Yq+qq+Kq+Zq+"$"),Jq=["material","materials","bones","map"];class eK{constructor(e,n,i){const r=i||Ot.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Ot{constructor(e,n,i){this.path=n,this.parsedPath=i||Ot.parseTrackName(n),this.node=Ot.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Ot.Composite(e,n,i):new Ot(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Xq,"")}static parseTrackName(e){const n=Qq.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Jq.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=Ot.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ot.Composite=eK;Ot.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ot.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ot.prototype.GetterByBindingType=[Ot.prototype._getValue_direct,Ot.prototype._getValue_array,Ot.prototype._getValue_arrayElement,Ot.prototype._getValue_toArray];Ot.prototype.SetterByBindingTypeAndVersioning=[[Ot.prototype._setValue_direct,Ot.prototype._setValue_direct_setNeedsUpdate,Ot.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ot.prototype._setValue_array,Ot.prototype._setValue_array_setNeedsUpdate,Ot.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ot.prototype._setValue_arrayElement,Ot.prototype._setValue_arrayElement_setNeedsUpdate,Ot.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ot.prototype._setValue_fromArray,Ot.prototype._setValue_fromArray_setNeedsUpdate,Ot.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class tK{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Sr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let f=0,h=arguments.length;f!==h;++f){const p=arguments[f],m=p.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(p);for(let _=0,x=o;_!==x;++_)s[_].push(new Ot(p,i[_],r[_]))}else if(v<c){a=e[v];const _=--c,x=e[_];n[x.uuid]=v,e[v]=x,n[m]=_,e[_]=p;for(let g=0,w=o;g!==w;++g){const S=s[g],b=S[_];let A=S[v];S[v]=b,A===void 0&&(A=new Ot(p,i[g],r[g])),S[_]=A}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,f=n[c];if(f!==void 0&&f>=s){const h=s++,p=e[h];n[p.uuid]=f,e[f]=p,n[c]=h,e[h]=l;for(let m=0,v=r;m!==v;++m){const _=i[m],x=_[h],g=_[f];_[f]=x,_[h]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],f=c.uuid,h=n[f];if(h!==void 0)if(delete n[f],h<s){const p=--s,m=e[p],v=--o,_=e[v];n[m.uuid]=h,e[h]=m,n[_.uuid]=p,e[p]=_,e.pop();for(let x=0,g=r;x!==g;++x){const w=i[x],S=w[p],b=w[v];w[h]=S,w[p]=b,w.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=h),e[h]=m,e.pop();for(let v=0,_=r;v!==_;++v){const x=i[v];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(n),s.push(h);for(let p=f,m=l.length;p!==m;++p){const v=l[p];h[p]=new Ot(v,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class tU{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Il,endingEnd:Il};for(let c=0;c!==o;++c){const f=s[c].createInterpolant(null);a[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ok,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case gE:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),c[f].accumulateAdditive(a);break;case Xy:default:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),c[f].accumulate(r,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===Uk;if(e===0)return s===-1?r:o&&(s&1)===1?n-r:r;if(i===kk){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=Dl,r.endingEnd=Dl):(e?r.endingStart=this.zeroSlopeAtStart?Dl:Il:r.endingStart=Lh,n?r.endingEnd=this.zeroSlopeAtEnd?Dl:Il:r.endingEnd=Lh)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=i,this}}const nK=new Float32Array(1);class iK extends jo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let v=f[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const _=n&&n._propertyBindings[h].binding.parsedPath;v=new eU(Ot.create(i,m,_),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new VE(new Float32Array(2),new Float32Array(2),1,nK),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let o=typeof e=="string"?Gh.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Xy),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const f=new tU(this,o,n,i);return this._bindAction(f,c),this._addInactiveAction(f,a,s),f}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?Gh.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const f=c._cacheIndex,h=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=f,n[f]=h,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class qE{constructor(e){this.value=e}clone(){return new qE(this.value.clone===void 0?this.value:this.value.clone())}}let rK=0;class sK extends jo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:rK++}),this.name="",this.usage=Oh,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const s=Array.isArray(n[i])?n[i]:[n[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class oK extends Qy{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class aK{constructor(e,n,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class nU{constructor(e,n,i=0,r=1/0){this.ray=new Ad(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new ql,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,i=[]){return wS(e,this,i,n),i.sort(R2),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)wS(e[r],this,i,n);return i.sort(R2),i}}function R2(t,e){return t.distance-e.distance}function wS(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const r=t.children;for(let s=0,o=r.length;s<o;s++)wS(r[s],e,n,!0)}}class lK{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(An(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class cK{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}const N2=new ve;class uK{constructor(e=new ve(1/0,1/0),n=new ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=N2.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,N2).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const L2=new H,Lg=new H;class dK{constructor(e=new H,n=new H){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){L2.subVectors(e,this.start),Lg.subVectors(this.end,this.start);const i=Lg.dot(Lg);let s=Lg.dot(L2)/i;return n&&(s=An(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const I2=new H;class fK extends jt{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new Tt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,f=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}i.setAttribute("position",new Ye(r,3));const s=new Li({fog:!1,toneMapped:!1});this.cone=new to(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),I2.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(I2),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ca=new H,Ig=new ht,Y_=new ht;class hK extends to{constructor(e){const n=iU(e),i=new Tt,r=[],s=[],o=new Ve(0,0,1),a=new Ve(0,1,0);for(let c=0;c<n.length;c++){const f=n[c];f.parent&&f.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ye(r,3)),i.setAttribute("color",new Ye(s,3));const l=new Li({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");Y_.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Ig.multiplyMatrices(Y_,a.matrixWorld),ca.setFromMatrixPosition(Ig),r.setXYZ(o,ca.x,ca.y,ca.z),Ig.multiplyMatrices(Y_,a.parent.matrixWorld),ca.setFromMatrixPosition(Ig),r.setXYZ(o+1,ca.x,ca.y,ca.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function iU(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,iU(t.children[n]));return e}class pK extends $n{constructor(e,n,i){const r=new wp(n,4,2),s=new Za({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const mK=new H,D2=new Ve,k2=new Ve;class gK extends jt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new _p(n);r.rotateY(Math.PI*.5),this.material=new Za({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Yt(o,3)),this.add(new $n(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");D2.copy(this.light.color),k2.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?D2:k2;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(mK.setFromMatrixPosition(this.light.matrixWorld).negate())}}class vK extends to{constructor(e=10,n=10,i=4473924,r=8947848){i=new Ve(i),r=new Ve(r);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=n;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const _=p===s?i:r;_.toArray(c,m),m+=3,_.toArray(c,m),m+=3,_.toArray(c,m),m+=3,_.toArray(c,m),m+=3}const f=new Tt;f.setAttribute("position",new Ye(l,3)),f.setAttribute("color",new Ye(c,3));const h=new Li({vertexColors:!0,toneMapped:!1});super(f,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class yK extends to{constructor(e=10,n=16,i=8,r=64,s=4473924,o=8947848){s=new Ve(s),o=new Ve(o);const a=[],l=[];if(n>1)for(let h=0;h<n;h++){const p=h/n*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const _=h&1?s:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let v=0;v<r;v++){let _=v/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),_=(v+1)/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const c=new Tt;c.setAttribute("position",new Ye(a,3)),c.setAttribute("color",new Ye(l,3));const f=new Li({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const O2=new H,Dg=new H,U2=new H;class xK extends jt{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new Tt;r.setAttribute("position",new Ye([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Li({fog:!1,toneMapped:!1});this.lightPlane=new Fo(r,s),this.add(this.lightPlane),r=new Tt,r.setAttribute("position",new Ye([0,0,0,0,0,1],3)),this.targetLine=new Fo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),O2.setFromMatrixPosition(this.light.matrixWorld),Dg.setFromMatrixPosition(this.light.target.matrixWorld),U2.subVectors(Dg,O2),this.lightPlane.lookAt(Dg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Dg),this.targetLine.scale.z=U2.length()}}const kg=new H,Mn=new pp;class _K extends to{constructor(e){const n=new Tt,i=new Li({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,_){l(v),l(_)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}n.setAttribute("position",new Ye(r,3)),n.setAttribute("color",new Ye(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ve(16755200),f=new Ve(16711680),h=new Ve(43775),p=new Ve(16777215),m=new Ve(3355443);this.setColors(c,f,h,p,m)}setColors(e,n,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;Mn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Nn("c",n,e,Mn,0,0,-1),Nn("t",n,e,Mn,0,0,1),Nn("n1",n,e,Mn,-i,-r,-1),Nn("n2",n,e,Mn,i,-r,-1),Nn("n3",n,e,Mn,-i,r,-1),Nn("n4",n,e,Mn,i,r,-1),Nn("f1",n,e,Mn,-i,-r,1),Nn("f2",n,e,Mn,i,-r,1),Nn("f3",n,e,Mn,-i,r,1),Nn("f4",n,e,Mn,i,r,1),Nn("u1",n,e,Mn,i*.7,r*1.1,-1),Nn("u2",n,e,Mn,-i*.7,r*1.1,-1),Nn("u3",n,e,Mn,0,r*2,-1),Nn("cf1",n,e,Mn,-i,0,1),Nn("cf2",n,e,Mn,i,0,1),Nn("cf3",n,e,Mn,0,-r,1),Nn("cf4",n,e,Mn,0,r,1),Nn("cn1",n,e,Mn,-i,0,-1),Nn("cn2",n,e,Mn,i,0,-1),Nn("cn3",n,e,Mn,0,-r,-1),Nn("cn4",n,e,Mn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Nn(t,e,n,i,r,s,o){kg.set(r,s,o).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,f=a.length;c<f;c++)l.setXYZ(a[c],kg.x,kg.y,kg.z)}}const Og=new Gi;class wK extends to{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Tt;s.setIndex(new Yt(i,1)),s.setAttribute("position",new Yt(r,3)),super(s,new Li({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Og.setFromObject(this.object),Og.isEmpty())return;const n=Og.min,i=Og.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=n.x,s[4]=i.y,s[5]=i.z,s[6]=n.x,s[7]=n.y,s[8]=i.z,s[9]=i.x,s[10]=n.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=n.z,s[15]=n.x,s[16]=i.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=i.x,s[22]=n.y,s[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class SK extends to{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Tt;s.setIndex(new Yt(i,1)),s.setAttribute("position",new Ye(r,3)),super(s,new Li({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class MK extends Fo{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Tt;o.setAttribute("position",new Ye(s,3)),o.computeBoundingSphere(),super(o,new Li({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Tt;l.setAttribute("position",new Ye(a,3)),l.computeBoundingSphere(),this.add(new $n(l,new Za({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const F2=new H;let Ug,q_;class EK extends jt{constructor(e=new H(0,0,1),n=new H(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Ug===void 0&&(Ug=new Tt,Ug.setAttribute("position",new Ye([0,0,0,0,1,0],3)),q_=new Pd(0,.5,1,5,1),q_.translate(0,-.5,0)),this.position.copy(n),this.line=new Fo(Ug,new Li({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new $n(q_,new Za({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{F2.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(F2,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class bK extends to{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Tt;r.setAttribute("position",new Ye(n,3)),r.setAttribute("color",new Ye(i,3));const s=new Li({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new Ve,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class TK{constructor(){this.type="ShapePath",this.color=new Ve,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Fh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,o){return this.currentPath.bezierCurveTo(e,n,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const w=[];for(let S=0,b=g.length;S<b;S++){const A=g[S],C=new Zl;C.curves=A.curves,w.push(C)}return w}function i(g,w){const S=w.length;let b=!1;for(let A=S-1,C=0;C<S;A=C++){let N=w[A],k=w[C],L=k.x-N.x,I=k.y-N.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(N=w[C],L=-L,k=w[A],I=-I),g.y<N.y||g.y>k.y)continue;if(g.y===N.y){if(g.x===N.x)return!0}else{const j=I*(g.x-N.x)-L*(g.y-N.y);if(j===0)return!0;if(j<0)continue;b=!b}}else{if(g.y!==N.y)continue;if(k.x<=g.x&&g.x<=N.x||N.x<=g.x&&g.x<=k.x)return!0}}return b}const r=$s.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Zl,l.curves=a.curves,c.push(l),c;let f=!r(s[0].getPoints());f=e?!f:f;const h=[],p=[];let m=[],v=0,_;p[v]=void 0,m[v]=[];for(let g=0,w=s.length;g<w;g++)a=s[g],_=a.getPoints(),o=r(_),o=e?!o:o,o?(!f&&p[v]&&v++,p[v]={s:new Zl,p:_},p[v].s.curves=a.curves,f&&v++,m[v]=[]):m[v].push({h:a,p:_[0]});if(!p[0])return n(s);if(p.length>1){let g=!1,w=0;for(let S=0,b=p.length;S<b;S++)h[S]=[];for(let S=0,b=p.length;S<b;S++){const A=m[S];for(let C=0;C<A.length;C++){const N=A[C];let k=!0;for(let L=0;L<p.length;L++)i(N.p,p[L].p)&&(S!==L&&w++,k?(k=!1,h[L].push(N)):g=!0);k&&h[S].push(N)}}w>0&&g===!1&&(m=h)}let x;for(let g=0,w=p.length;g<w;g++){l=p[g].s,c.push(l),x=m[g];for(let S=0,b=x.length;S<b;S++)l.holes.push(x[S].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:up}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=up);const AK=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:aE,AddEquation:ya,AddOperation:_k,AdditiveAnimationBlendMode:gE,AdditiveBlending:od,AgXToneMapping:bk,AlphaFormat:Pk,AlwaysCompare:$k,AlwaysDepth:hk,AlwaysStencilFunc:dS,AmbientLight:$O,AnimationAction:tU,AnimationClip:Gh,AnimationLoader:Cq,AnimationMixer:iK,AnimationObjectGroup:tK,AnimationUtils:Eq,ArcCurve:xO,ArrayCamera:cO,ArrowHelper:EK,AttachedBindMode:zw,Audio:JO,AudioAnalyser:Wq,AudioContext:WE,AudioListener:Hq,AudioLoader:zq,AxesHelper:bK,BackSide:ji,BasicDepthPacking:Fk,BasicShadowMap:qD,BatchedMesh:gO,Bone:NE,BooleanKeyframeTrack:mc,Box2:uK,Box3:Gi,Box3Helper:SK,BoxGeometry:pc,BoxHelper:wK,BufferAttribute:Yt,BufferGeometry:Tt,BufferGeometryLoader:QO,ByteType:Ak,Cache:Eo,Camera:pp,CameraHelper:_K,CanvasTexture:YY,CapsuleGeometry:i0,CatmullRomCurve3:_O,CineonToneMapping:Mk,CircleGeometry:r0,ClampToEdgeWrapping:Ai,Clock:XE,Color:Ve,ColorKeyframeTrack:HE,ColorManagement:Wt,CompressedArrayTexture:XY,CompressedCubeTexture:$Y,CompressedTexture:t0,CompressedTextureLoader:Pq,ConeGeometry:s0,ConstantAlphaFactor:uk,ConstantColorFactor:lk,CubeCamera:eO,CubeReflectionMapping:Uo,CubeRefractionMapping:ja,CubeTexture:mp,CubeTextureLoader:Rq,CubeUVReflectionMapping:Td,CubicBezierCurve:IE,CubicBezierCurve3:wO,CubicInterpolant:zO,CullFaceBack:Dw,CullFaceFront:YD,CullFaceFrontBack:OW,CullFaceNone:$D,Curve:_s,CurvePath:MO,CustomBlending:KD,CustomToneMapping:Ek,CylinderGeometry:Pd,Cylindrical:cK,Data3DTexture:wE,DataArrayTexture:Yy,DataTexture:Kl,DataTextureLoader:Nq,DataUtils:W8,DecrementStencilOp:YW,DecrementWrapStencilOp:KW,DefaultLoadingManager:HO,DepthFormat:Ua,DepthStencilFormat:sc,DepthTexture:bE,DetachedBindMode:Tk,DirectionalLight:XO,DirectionalLightHelper:xK,DiscreteInterpolant:BO,DisplayP3ColorSpace:$y,DodecahedronGeometry:o0,DoubleSide:zs,DstAlphaFactor:ik,DstColorFactor:sk,DynamicCopyUsage:u8,DynamicDrawUsage:$l,DynamicReadUsage:a8,EdgesGeometry:EO,EllipseCurve:n0,EqualCompare:jk,EqualDepth:mk,EqualStencilFunc:e8,EquirectangularReflectionMapping:Th,EquirectangularRefractionMapping:Ah,Euler:hp,EventDispatcher:jo,ExtrudeGeometry:l0,FileLoader:zo,Float16BufferAttribute:Z8,Float32BufferAttribute:Ye,Float64BufferAttribute:Q8,FloatType:ds,Fog:Zy,FogExp2:Ky,FramebufferTexture:WY,FrontSide:Oo,Frustum:gp,GLBufferAttribute:aK,GLSL1:f8,GLSL3:fS,GreaterCompare:Gk,GreaterDepth:vk,GreaterEqualCompare:Xk,GreaterEqualDepth:gk,GreaterEqualStencilFunc:r8,GreaterStencilFunc:n8,GridHelper:vK,Group:bu,HalfFloatType:ad,HemisphereLight:jO,HemisphereLightHelper:gK,IcosahedronGeometry:c0,ImageBitmapLoader:Fq,ImageLoader:Wh,ImageUtils:_E,IncrementStencilOp:$W,IncrementWrapStencilOp:qW,InstancedBufferAttribute:dd,InstancedBufferGeometry:ZO,InstancedInterleavedBuffer:oK,InstancedMesh:mO,Int16BufferAttribute:q8,Int32BufferAttribute:K8,Int8BufferAttribute:X8,IntType:cE,InterleavedBuffer:Qy,InterleavedBufferAttribute:oc,Interpolant:Sp,InterpolateDiscrete:Rh,InterpolateLinear:Nh,InterpolateSmooth:hv,InvertStencilOp:ZW,KeepStencilOp:bl,KeyframeTrack:ws,LOD:hO,LatheGeometry:xp,Layers:ql,LessCompare:Hk,LessDepth:pk,LessEqualCompare:yE,LessEqualDepth:bh,LessEqualStencilFunc:t8,LessStencilFunc:JW,Light:Ja,LightProbe:KO,Line:Fo,Line3:dK,LineBasicMaterial:Li,LineCurve:DE,LineCurve3:SO,LineDashedMaterial:OO,LineLoop:vO,LineSegments:to,LinearDisplayP3ColorSpace:fp,LinearEncoding:vE,LinearFilter:kn,LinearInterpolant:VE,LinearMipMapLinearFilter:VW,LinearMipMapNearestFilter:BW,LinearMipmapLinearFilter:Ga,LinearMipmapNearestFilter:lE,LinearSRGBColorSpace:Qs,LinearToneMapping:wk,LinearTransfer:Ih,Loader:lr,LoaderUtils:_S,LoadingManager:jE,LoopOnce:kk,LoopPingPong:Uk,LoopRepeat:Ok,LuminanceAlphaFormat:Nk,LuminanceFormat:Rk,MOUSE:DW,Material:Ni,MaterialLoader:g0,MathUtils:A8,Matrix3:Ct,Matrix4:ht,MaxEquation:Fw,Mesh:$n,MeshBasicMaterial:Za,MeshDepthMaterial:TE,MeshDistanceMaterial:AE,MeshLambertMaterial:DO,MeshMatcapMaterial:kO,MeshNormalMaterial:IO,MeshPhongMaterial:NO,MeshPhysicalMaterial:zE,MeshStandardMaterial:FE,MeshToonMaterial:LO,MinEquation:Uw,MirroredRepeatWrapping:Ph,MixOperation:xk,MultiplyBlending:Ow,MultiplyOperation:dp,NearestFilter:In,NearestMipMapLinearFilter:zW,NearestMipMapNearestFilter:FW,NearestMipmapLinearFilter:Wf,NearestMipmapNearestFilter:ty,NeverCompare:Vk,NeverDepth:fk,NeverStencilFunc:QW,NoBlending:To,NoColorSpace:yr,NoToneMapping:Ws,NormalAnimationBlendMode:Xy,NormalBlending:Xl,NotEqualCompare:Wk,NotEqualDepth:yk,NotEqualStencilFunc:i8,NumberKeyframeTrack:Hh,Object3D:jt,ObjectLoader:Oq,ObjectSpaceNormalMap:Bk,OctahedronGeometry:_p,OneFactor:ek,OneMinusConstantAlphaFactor:dk,OneMinusConstantColorFactor:ck,OneMinusDstAlphaFactor:rk,OneMinusDstColorFactor:ok,OneMinusSrcAlphaFactor:ey,OneMinusSrcColorFactor:nk,OrthographicCamera:yp,P3Primaries:kh,PCFShadowMap:jy,PCFSoftShadowMap:Gf,PMREMGenerator:pS,Path:Fh,PerspectiveCamera:ii,Plane:ma,PlaneGeometry:vp,PlaneHelper:MK,PointLight:WO,PointLightHelper:pK,Points:yO,PointsMaterial:e0,PolarGridHelper:yK,PolyhedronGeometry:Qa,PositionalAudio:Gq,PropertyBinding:Ot,PropertyMixer:eU,QuadraticBezierCurve:kE,QuadraticBezierCurve3:OE,Quaternion:ar,QuaternionKeyframeTrack:Rd,QuaternionLinearInterpolant:VO,RED_GREEN_RGTC2_Format:cS,RED_RGTC1_Format:Dk,REVISION:up,RGBADepthPacking:zk,RGBAFormat:Bi,RGBAIntegerFormat:pE,RGBA_ASTC_10x10_Format:iS,RGBA_ASTC_10x5_Format:eS,RGBA_ASTC_10x6_Format:tS,RGBA_ASTC_10x8_Format:nS,RGBA_ASTC_12x10_Format:rS,RGBA_ASTC_12x12_Format:sS,RGBA_ASTC_4x4_Format:Xw,RGBA_ASTC_5x4_Format:$w,RGBA_ASTC_5x5_Format:Yw,RGBA_ASTC_6x5_Format:qw,RGBA_ASTC_6x6_Format:Kw,RGBA_ASTC_8x5_Format:Zw,RGBA_ASTC_8x6_Format:Qw,RGBA_ASTC_8x8_Format:Jw,RGBA_BPTC_Format:fv,RGBA_ETC2_EAC_Format:Ww,RGBA_PVRTC_2BPPV1_Format:jw,RGBA_PVRTC_4BPPV1_Format:Hw,RGBA_S3TC_DXT1_Format:cv,RGBA_S3TC_DXT3_Format:uv,RGBA_S3TC_DXT5_Format:dv,RGB_BPTC_SIGNED_Format:oS,RGB_BPTC_UNSIGNED_Format:aS,RGB_ETC1_Format:mE,RGB_ETC2_Format:Gw,RGB_PVRTC_2BPPV1_Format:Vw,RGB_PVRTC_4BPPV1_Format:Bw,RGB_S3TC_DXT1_Format:lv,RGFormat:Ik,RGIntegerFormat:hE,RawShaderMaterial:RO,Ray:Ad,Raycaster:nU,Rec709Primaries:Dh,RectAreaLight:YO,RedFormat:Lk,RedIntegerFormat:fE,ReinhardToneMapping:Sk,RenderTarget:Kk,RepeatWrapping:Ch,ReplaceStencilOp:XW,ReverseSubtractEquation:QD,RingGeometry:u0,SIGNED_RED_GREEN_RGTC2_Format:uS,SIGNED_RED_RGTC1_Format:lS,SRGBColorSpace:Wn,SRGBTransfer:Qt,Scene:PE,ShaderChunk:Et,ShaderLib:us,ShaderMaterial:Js,ShadowMaterial:PO,Shape:Zl,ShapeGeometry:d0,ShapePath:TK,ShapeUtils:$s,ShortType:Ck,Skeleton:Jy,SkeletonHelper:hK,SkinnedMesh:pO,Source:kl,Sphere:Pi,SphereGeometry:wp,Spherical:lK,SphericalHarmonics3:qO,SplineCurve:UE,SpotLight:GO,SpotLightHelper:fK,Sprite:fO,SpriteMaterial:RE,SrcAlphaFactor:Jv,SrcAlphaSaturateFactor:ak,SrcColorFactor:tk,StaticCopyUsage:c8,StaticDrawUsage:Oh,StaticReadUsage:o8,StereoCamera:Bq,StreamCopyUsage:d8,StreamDrawUsage:s8,StreamReadUsage:l8,StringKeyframeTrack:gc,SubtractEquation:ZD,SubtractiveBlending:kw,TOUCH:kW,TangentSpaceNormalMap:Ka,TetrahedronGeometry:f0,Texture:On,TextureLoader:Lq,TorusGeometry:h0,TorusKnotGeometry:p0,Triangle:tr,TriangleFanDrawMode:GW,TriangleStripDrawMode:jW,TrianglesDrawMode:HW,TubeGeometry:m0,TwoPassDoubleSide:UW,UVMapping:Gy,Uint16BufferAttribute:SE,Uint32BufferAttribute:ME,Uint8BufferAttribute:$8,Uint8ClampedBufferAttribute:Y8,Uniform:qE,UniformsGroup:sK,UniformsLib:Le,UniformsUtils:Jk,UnsignedByteType:Xs,UnsignedInt248Type:Oa,UnsignedIntType:Mo,UnsignedShort4444Type:uE,UnsignedShort5551Type:dE,UnsignedShortType:Wy,VSMShadowMap:ss,Vector2:ve,Vector3:H,Vector4:Xt,VectorKeyframeTrack:jh,VideoTexture:GY,WebGL1Renderer:uO,WebGL3DRenderTarget:I8,WebGLArrayRenderTarget:L8,WebGLCoordinateSystem:fs,WebGLCubeRenderTarget:tO,WebGLMultipleRenderTargets:D8,WebGLRenderTarget:ys,WebGLRenderer:CE,WebGLUtils:lO,WebGPUCoordinateSystem:ld,WireframeGeometry:CO,WrapAroundEnding:Lh,ZeroCurvatureEnding:Il,ZeroFactor:JD,ZeroSlopeEnding:Dl,ZeroStencilOp:WW,_SRGBAFormat:ny,createCanvasElement:qk,sRGBEncoding:Fa},Symbol.toStringTag,{value:"Module"}));var rU={exports:{}},vc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */vc.ConcurrentRoot=1;vc.ContinuousEventPriority=4;vc.DefaultEventPriority=16;vc.DiscreteEventPriority=1;vc.IdleEventPriority=536870912;vc.LegacyRoot=0;rU.exports=vc;var Au=rU.exports;function CK(t){let e;const n=new Set,i=(c,f)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=f?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},r=()=>e,s=(c,f=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function m(){const v=f(e);if(!h(p,v)){const _=p;c(p=v,_)}}return n.add(m),()=>n.delete(m)},l={setState:i,getState:r,subscribe:(c,f,h)=>f||h?s(c,f,h):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(i,r,l),l}const PK=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),z2=PK?P.useEffect:P.useLayoutEffect;function RK(t){const e=typeof t=="function"?CK(t):t,n=(i=e.getState,r=Object.is)=>{const[,s]=P.useReducer(x=>x+1,0),o=e.getState(),a=P.useRef(o),l=P.useRef(i),c=P.useRef(r),f=P.useRef(!1),h=P.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||f.current)&&(p=i(o),m=!r(h.current,p)),z2(()=>{m&&(h.current=p),a.current=o,l.current=i,c.current=r,f.current=!1});const v=P.useRef(o);z2(()=>{const x=()=>{try{const w=e.getState(),S=l.current(w);c.current(h.current,S)||(a.current=w,h.current=S,s())}catch{f.current=!0,s()}},g=e.subscribe(x);return e.getState()!==v.current&&x(),g},[]);const _=m?p:h.current;return P.useDebugValue(_),_};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[n,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},n}var sU={exports:{}},K_={exports:{}},Z_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2;function NK(){return B2||(B2=1,function(t){function e(D,U){var V=D.length;D.push(U);e:for(;0<V;){var $=V-1>>>1,Q=D[$];if(0<r(Q,U))D[$]=U,D[V]=Q,V=$;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var U=D[0],V=D.pop();if(V!==U){D[0]=V;e:for(var $=0,Q=D.length,q=Q>>>1;$<q;){var se=2*($+1)-1,me=D[se],Te=se+1,ge=D[Te];if(0>r(me,V))Te<Q&&0>r(ge,me)?(D[$]=ge,D[Te]=V,$=Te):(D[$]=me,D[se]=V,$=se);else if(Te<Q&&0>r(ge,V))D[$]=ge,D[Te]=V,$=Te;else break e}}return U}function r(D,U){var V=D.sortIndex-U.sortIndex;return V!==0?V:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var U=n(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=D)i(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function b(D){if(_=!1,S(D),!v)if(n(l)!==null)v=!0,Z(A);else{var U=n(c);U!==null&&ee(b,U.startTime-D)}}function A(D,U){v=!1,_&&(_=!1,g(k),k=-1),m=!0;var V=p;try{for(S(U),h=n(l);h!==null&&(!(h.expirationTime>U)||D&&!j());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var Q=$(h.expirationTime<=U);U=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(l)&&i(l),S(U)}else i(l);h=n(l)}if(h!==null)var q=!0;else{var se=n(c);se!==null&&ee(b,se.startTime-U),q=!1}return q}finally{h=null,p=V,m=!1}}var C=!1,N=null,k=-1,L=5,I=-1;function j(){return!(t.unstable_now()-I<L)}function W(){if(N!==null){var D=t.unstable_now();I=D;var U=!0;try{U=N(!0,D)}finally{U?re():(C=!1,N=null)}}else C=!1}var re;if(typeof w=="function")re=function(){w(W)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=W,re=function(){K.postMessage(null)}}else re=function(){x(W,0)};function Z(D){N=D,C||(C=!0,re())}function ee(D,U){k=x(function(){D(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Z(A))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var V=p;p=U;try{return D()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=p;p=D;try{return U()}finally{p=V}},t.unstable_scheduleCallback=function(D,U,V){var $=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?$+V:$):V=$,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=V+Q,D={id:f++,callback:U,priorityLevel:D,startTime:V,expirationTime:Q,sortIndex:-1},V>$?(D.sortIndex=V,e(c,D),n(l)===null&&D===n(c)&&(_?(g(k),k=-1):_=!0,ee(b,V-$))):(D.sortIndex=Q,e(l,D),v||m||(v=!0,Z(A))),D},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(D){var U=p;return function(){var V=p;p=U;try{return D.apply(this,arguments)}finally{p=V}}}}(Z_)),Z_}var V2;function LK(){return V2||(V2=1,K_.exports=NK()),K_.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IK=function(e){var n={},i=P,r=LK(),s=Object.assign;function o(u){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),A=Symbol.iterator;function C(u){return u===null||typeof u!="object"?null:(u=A&&u[A]||u["@@iterator"],typeof u=="function"?u:null)}function N(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case f:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case v:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case _:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case w:return d=u.displayName||null,d!==null?d:N(u.type)||"Memo";case S:d=u._payload,u=u._init;try{return N(u(d))}catch{}}return null}function k(u){var d=u.type;switch(u.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=d.render,u=u.displayName||u.name||"",d.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function L(u){var d=u,y=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,d.flags&4098&&(y=d.return),u=d.return;while(u)}return d.tag===3?y:null}function I(u){if(L(u)!==u)throw Error(o(188))}function j(u){var d=u.alternate;if(!d){if(d=L(u),d===null)throw Error(o(188));return d!==u?null:u}for(var y=u,M=d;;){var T=y.return;if(T===null)break;var R=T.alternate;if(R===null){if(M=T.return,M!==null){y=M;continue}break}if(T.child===R.child){for(R=T.child;R;){if(R===y)return I(T),u;if(R===M)return I(T),d;R=R.sibling}throw Error(o(188))}if(y.return!==M.return)y=T,M=R;else{for(var G=!1,J=T.child;J;){if(J===y){G=!0,y=T,M=R;break}if(J===M){G=!0,M=T,y=R;break}J=J.sibling}if(!G){for(J=R.child;J;){if(J===y){G=!0,y=R,M=T;break}if(J===M){G=!0,M=R,y=T;break}J=J.sibling}if(!G)throw Error(o(189))}}if(y.alternate!==M)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?u:d}function W(u){return u=j(u),u!==null?re(u):null}function re(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var d=re(u);if(d!==null)return d;u=u.sibling}return null}function B(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var d=B(u);if(d!==null)return d}u=u.sibling}return null}var K=Array.isArray,Z=e.getPublicInstance,ee=e.getRootHostContext,D=e.getChildHostContext,U=e.prepareForCommit,V=e.resetAfterCommit,$=e.createInstance,Q=e.appendInitialChild,q=e.finalizeInitialChildren,se=e.prepareUpdate,me=e.shouldSetTextContent,Te=e.createTextInstance,ge=e.scheduleTimeout,tt=e.cancelTimeout,nt=e.noTimeout,Fe=e.isPrimaryRenderer,Xe=e.supportsMutation,X=e.supportsPersistence,we=e.supportsHydration,he=e.getInstanceFromNode,Ee=e.preparePortalMount,fe=e.getCurrentEventPriority,qe=e.detachDeletedInstance,De=e.supportsMicrotasks,F=e.scheduleMicrotask,O=e.supportsTestSelectors,ne=e.findFiberRoot,Se=e.getBoundingRect,ye=e.getTextContent,xe=e.isHiddenSubtree,$e=e.matchAccessibilityRole,Ae=e.setFocusIfFocusable,Oe=e.setupIntersectionObserver,rt=e.appendChild,mt=e.appendChildToContainer,_e=e.commitTextUpdate,It=e.commitMount,St=e.commitUpdate,ct=e.insertBefore,Ke=e.insertInContainerBefore,He=e.removeChild,ut=e.removeChildFromContainer,Dt=e.resetTextContent,Zt=e.hideInstance,yt=e.hideTextInstance,Pe=e.unhideInstance,Y=e.unhideTextInstance,Ie=e.clearContainer,Re=e.cloneInstance,ot=e.createContainerChildSet,Me=e.appendChildToContainerChildSet,Qe=e.finalizeContainerChildren,it=e.replaceContainerChildren,kt=e.cloneHiddenInstance,Gt=e.cloneHiddenTextInstance,Nt=e.canHydrateInstance,en=e.canHydrateTextInstance,ln=e.canHydrateSuspenseInstance,Yi=e.isSuspenseInstancePending,Dd=e.isSuspenseInstanceFallback,xc=e.registerSuspenseInstanceRetry,Wo=e.getNextHydratableSibling,_c=e.getFirstHydratableChild,Cp=e.getFirstHydratableChildWithinContainer,Pp=e.getFirstHydratableChildWithinSuspenseInstance,E0=e.hydrateInstance,b0=e.hydrateTextInstance,T0=e.hydrateSuspenseInstance,z=e.getNextHydratableInstanceAfterSuspenseInstance,ie=e.commitHydratedContainer,le=e.commitHydratedSuspenseInstance,ce=e.clearSuspenseBoundary,ae=e.clearSuspenseBoundaryFromContainer,ze=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,at=e.didNotMatchHydratedTextInstance,dt;function gt(u){if(dt===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);dt=d&&d[1]||""}return`
`+dt+u}var pt=!1;function vt(u,d){if(!u||pt)return"";pt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ce){var M=Ce}Reflect.construct(u,[],d)}else{try{d.call()}catch(Ce){M=Ce}u.call(d.prototype)}else{try{throw Error()}catch(Ce){M=Ce}u()}}catch(Ce){if(Ce&&M&&typeof Ce.stack=="string"){for(var T=Ce.stack.split(`
`),R=M.stack.split(`
`),G=T.length-1,J=R.length-1;1<=G&&0<=J&&T[G]!==R[J];)J--;for(;1<=G&&0<=J;G--,J--)if(T[G]!==R[J]){if(G!==1||J!==1)do if(G--,J--,0>J||T[G]!==R[J]){var de=`
`+T[G].replace(" at new "," at ");return u.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",u.displayName)),de}while(1<=G&&0<=J);break}}}finally{pt=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?gt(u):""}var fn=Object.prototype.hasOwnProperty,ai=[],tn=-1;function Kn(u){return{current:u}}function ft(u){0>tn||(u.current=ai[tn],ai[tn]=null,tn--)}function Ge(u,d){tn++,ai[tn]=u.current,u.current=d}var Pr={},Pt=Kn(Pr),wn=Kn(!1),Ms=Pr;function Rr(u,d){var y=u.type.contextTypes;if(!y)return Pr;var M=u.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===d)return M.__reactInternalMemoizedMaskedChildContext;var T={},R;for(R in y)T[R]=d[R];return M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=d,u.__reactInternalMemoizedMaskedChildContext=T),T}function Zn(u){return u=u.childContextTypes,u!=null}function Pn(){ft(wn),ft(Pt)}function Es(u,d,y){if(Pt.current!==Pr)throw Error(o(168));Ge(Pt,d),Ge(wn,y)}function wc(u,d,y){var M=u.stateNode;if(d=d.childContextTypes,typeof M.getChildContext!="function")return y;M=M.getChildContext();for(var T in M)if(!(T in d))throw Error(o(108,k(u)||"Unknown",T));return s({},y,M)}function li(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Pr,Ms=Pt.current,Ge(Pt,u),Ge(wn,wn.current),!0}function Sc(u,d,y){var M=u.stateNode;if(!M)throw Error(o(169));y?(u=wc(u,d,Ms),M.__reactInternalMemoizedMergedChildContext=u,ft(wn),ft(Pt),Ge(Pt,u)):ft(wn),Ge(wn,y)}var cr=Math.clz32?Math.clz32:Bz,Rp=Math.log,zz=Math.LN2;function Bz(u){return u>>>=0,u===0?32:31-(Rp(u)/zz|0)|0}var Np=64,Lp=4194304;function kd(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Ip(u,d){var y=u.pendingLanes;if(y===0)return 0;var M=0,T=u.suspendedLanes,R=u.pingedLanes,G=y&268435455;if(G!==0){var J=G&~T;J!==0?M=kd(J):(R&=G,R!==0&&(M=kd(R)))}else G=y&~T,G!==0?M=kd(G):R!==0&&(M=kd(R));if(M===0)return 0;if(d!==0&&d!==M&&!(d&T)&&(T=M&-M,R=d&-d,T>=R||T===16&&(R&4194240)!==0))return d;if(M&4&&(M|=y&16),d=u.entangledLanes,d!==0)for(u=u.entanglements,d&=M;0<d;)y=31-cr(d),T=1<<y,M|=u[y],d&=~T;return M}function Vz(u,d){switch(u){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hz(u,d){for(var y=u.suspendedLanes,M=u.pingedLanes,T=u.expirationTimes,R=u.pendingLanes;0<R;){var G=31-cr(R),J=1<<G,de=T[G];de===-1?(!(J&y)||J&M)&&(T[G]=Vz(J,d)):de<=d&&(u.expiredLanes|=J),R&=~J}}function A0(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function C0(u){for(var d=[],y=0;31>y;y++)d.push(u);return d}function Od(u,d,y){u.pendingLanes|=d,d!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,d=31-cr(d),u[d]=y}function jz(u,d){var y=u.pendingLanes&~d;u.pendingLanes=d,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=d,u.mutableReadLanes&=d,u.entangledLanes&=d,d=u.entanglements;var M=u.eventTimes;for(u=u.expirationTimes;0<y;){var T=31-cr(y),R=1<<T;d[T]=0,M[T]=-1,u[T]=-1,y&=~R}}function P0(u,d){var y=u.entangledLanes|=d;for(u=u.entanglements;y;){var M=31-cr(y),T=1<<M;T&d|u[M]&d&&(u[M]|=d),y&=~T}}var zt=0;function zb(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var R0=r.unstable_scheduleCallback,Bb=r.unstable_cancelCallback,Gz=r.unstable_shouldYield,Wz=r.unstable_requestPaint,Qn=r.unstable_now,N0=r.unstable_ImmediatePriority,Xz=r.unstable_UserBlockingPriority,L0=r.unstable_NormalPriority,$z=r.unstable_IdlePriority,Dp=null,bs=null;function Yz(u){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(Dp,u,void 0,(u.current.flags&128)===128)}catch{}}function qz(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var Ts=typeof Object.is=="function"?Object.is:qz,no=null,kp=!1,I0=!1;function Vb(u){no===null?no=[u]:no.push(u)}function Kz(u){kp=!0,Vb(u)}function As(){if(!I0&&no!==null){I0=!0;var u=0,d=zt;try{var y=no;for(zt=1;u<y.length;u++){var M=y[u];do M=M(!0);while(M!==null)}no=null,kp=!1}catch(T){throw no!==null&&(no=no.slice(u+1)),R0(N0,As),T}finally{zt=d,I0=!1}}return null}var Zz=a.ReactCurrentBatchConfig;function Op(u,d){if(Ts(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var y=Object.keys(u),M=Object.keys(d);if(y.length!==M.length)return!1;for(M=0;M<y.length;M++){var T=y[M];if(!fn.call(d,T)||!Ts(u[T],d[T]))return!1}return!0}function Qz(u){switch(u.tag){case 5:return gt(u.type);case 16:return gt("Lazy");case 13:return gt("Suspense");case 19:return gt("SuspenseList");case 0:case 2:case 15:return u=vt(u.type,!1),u;case 11:return u=vt(u.type.render,!1),u;case 1:return u=vt(u.type,!0),u;default:return""}}function qr(u,d){if(u&&u.defaultProps){d=s({},d),u=u.defaultProps;for(var y in u)d[y]===void 0&&(d[y]=u[y]);return d}return d}var Up=Kn(null),Fp=null,Mc=null,D0=null;function k0(){D0=Mc=Fp=null}function Hb(u,d,y){Fe?(Ge(Up,d._currentValue),d._currentValue=y):(Ge(Up,d._currentValue2),d._currentValue2=y)}function O0(u){var d=Up.current;ft(Up),Fe?u._currentValue=d:u._currentValue2=d}function U0(u,d,y){for(;u!==null;){var M=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,M!==null&&(M.childLanes|=d)):M!==null&&(M.childLanes&d)!==d&&(M.childLanes|=d),u===y)break;u=u.return}}function Ec(u,d){Fp=u,D0=Mc=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&d&&(fr=!0),u.firstContext=null)}function Nr(u){var d=Fe?u._currentValue:u._currentValue2;if(D0!==u)if(u={context:u,memoizedValue:d,next:null},Mc===null){if(Fp===null)throw Error(o(308));Mc=u,Fp.dependencies={lanes:0,firstContext:u}}else Mc=Mc.next=u;return d}var Cs=null,Xo=!1;function F0(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jb(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function io(u,d){return{eventTime:u,lane:d,tag:0,payload:null,callback:null,next:null}}function $o(u,d){var y=u.updateQueue;y!==null&&(y=y.shared,Un!==null&&u.mode&1&&!(Rt&2)?(u=y.interleaved,u===null?(d.next=d,Cs===null?Cs=[y]:Cs.push(y)):(d.next=u.next,u.next=d),y.interleaved=d):(u=y.pending,u===null?d.next=d:(d.next=u.next,u.next=d),y.pending=d))}function zp(u,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194240)!==0)){var M=d.lanes;M&=u.pendingLanes,y|=M,d.lanes=y,P0(u,y)}}function Gb(u,d){var y=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,y===M)){var T=null,R=null;if(y=y.firstBaseUpdate,y!==null){do{var G={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};R===null?T=R=G:R=R.next=G,y=y.next}while(y!==null);R===null?T=R=d:R=R.next=d}else T=R=d;y={baseState:M.baseState,firstBaseUpdate:T,lastBaseUpdate:R,shared:M.shared,effects:M.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=d:u.next=d,y.lastBaseUpdate=d}function Bp(u,d,y,M){var T=u.updateQueue;Xo=!1;var R=T.firstBaseUpdate,G=T.lastBaseUpdate,J=T.shared.pending;if(J!==null){T.shared.pending=null;var de=J,Ce=de.next;de.next=null,G===null?R=Ce:G.next=Ce,G=de;var We=u.alternate;We!==null&&(We=We.updateQueue,J=We.lastBaseUpdate,J!==G&&(J===null?We.firstBaseUpdate=Ce:J.next=Ce,We.lastBaseUpdate=de))}if(R!==null){var xt=T.baseState;G=0,We=Ce=de=null,J=R;do{var st=J.lane,Kt=J.eventTime;if((M&st)===st){We!==null&&(We=We.next={eventTime:Kt,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var et=u,vi=J;switch(st=d,Kt=y,vi.tag){case 1:if(et=vi.payload,typeof et=="function"){xt=et.call(Kt,xt,st);break e}xt=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=vi.payload,st=typeof et=="function"?et.call(Kt,xt,st):et,st==null)break e;xt=s({},xt,st);break e;case 2:Xo=!0}}J.callback!==null&&J.lane!==0&&(u.flags|=64,st=T.effects,st===null?T.effects=[J]:st.push(J))}else Kt={eventTime:Kt,lane:st,tag:J.tag,payload:J.payload,callback:J.callback,next:null},We===null?(Ce=We=Kt,de=xt):We=We.next=Kt,G|=st;if(J=J.next,J===null){if(J=T.shared.pending,J===null)break;st=J,J=st.next,st.next=null,T.lastBaseUpdate=st,T.shared.pending=null}}while(!0);if(We===null&&(de=xt),T.baseState=de,T.firstBaseUpdate=Ce,T.lastBaseUpdate=We,d=T.shared.interleaved,d!==null){T=d;do G|=T.lane,T=T.next;while(T!==d)}else R===null&&(T.shared.lanes=0);Ic|=G,u.lanes=G,u.memoizedState=xt}}function Wb(u,d,y){if(u=d.effects,d.effects=null,u!==null)for(d=0;d<u.length;d++){var M=u[d],T=M.callback;if(T!==null){if(M.callback=null,M=y,typeof T!="function")throw Error(o(191,T));T.call(M)}}}var Xb=new i.Component().refs;function z0(u,d,y,M){d=u.memoizedState,y=y(M,d),y=y==null?d:s({},d,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var Vp={isMounted:function(u){return(u=u._reactInternals)?L(u)===u:!1},enqueueSetState:function(u,d,y){u=u._reactInternals;var M=Di(),T=Ko(u),R=io(M,T);R.payload=d,y!=null&&(R.callback=y),$o(u,R),d=Or(u,T,M),d!==null&&zp(d,u,T)},enqueueReplaceState:function(u,d,y){u=u._reactInternals;var M=Di(),T=Ko(u),R=io(M,T);R.tag=1,R.payload=d,y!=null&&(R.callback=y),$o(u,R),d=Or(u,T,M),d!==null&&zp(d,u,T)},enqueueForceUpdate:function(u,d){u=u._reactInternals;var y=Di(),M=Ko(u),T=io(y,M);T.tag=2,d!=null&&(T.callback=d),$o(u,T),d=Or(u,M,y),d!==null&&zp(d,u,M)}};function $b(u,d,y,M,T,R,G){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,R,G):d.prototype&&d.prototype.isPureReactComponent?!Op(y,M)||!Op(T,R):!0}function Yb(u,d,y){var M=!1,T=Pr,R=d.contextType;return typeof R=="object"&&R!==null?R=Nr(R):(T=Zn(d)?Ms:Pt.current,M=d.contextTypes,R=(M=M!=null)?Rr(u,T):Pr),d=new d(y,R),u.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vp,u.stateNode=d,d._reactInternals=u,M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=T,u.__reactInternalMemoizedMaskedChildContext=R),d}function qb(u,d,y,M){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,M),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,M),d.state!==u&&Vp.enqueueReplaceState(d,d.state,null)}function B0(u,d,y,M){var T=u.stateNode;T.props=y,T.state=u.memoizedState,T.refs=Xb,F0(u);var R=d.contextType;typeof R=="object"&&R!==null?T.context=Nr(R):(R=Zn(d)?Ms:Pt.current,T.context=Rr(u,R)),T.state=u.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(z0(u,d,R,y),T.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(d=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),d!==T.state&&Vp.enqueueReplaceState(T,T.state,null),Bp(u,y,T,M),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308)}var bc=[],Tc=0,Hp=null,jp=0,Lr=[],Ir=0,nl=null,ro=1,so="";function il(u,d){bc[Tc++]=jp,bc[Tc++]=Hp,Hp=u,jp=d}function Kb(u,d,y){Lr[Ir++]=ro,Lr[Ir++]=so,Lr[Ir++]=nl,nl=u;var M=ro;u=so;var T=32-cr(M)-1;M&=~(1<<T),y+=1;var R=32-cr(d)+T;if(30<R){var G=T-T%5;R=(M&(1<<G)-1).toString(32),M>>=G,T-=G,ro=1<<32-cr(d)+T|y<<T|M,so=R+u}else ro=1<<R|y<<T|M,so=u}function V0(u){u.return!==null&&(il(u,1),Kb(u,1,0))}function H0(u){for(;u===Hp;)Hp=bc[--Tc],bc[Tc]=null,jp=bc[--Tc],bc[Tc]=null;for(;u===nl;)nl=Lr[--Ir],Lr[Ir]=null,so=Lr[--Ir],Lr[Ir]=null,ro=Lr[--Ir],Lr[Ir]=null}var ur=null,dr=null,cn=!1,Ud=!1,Kr=null;function Zb(u,d){var y=Ur(5,null,null,0);y.elementType="DELETED",y.stateNode=d,y.return=u,d=u.deletions,d===null?(u.deletions=[y],u.flags|=16):d.push(y)}function Qb(u,d){switch(u.tag){case 5:return d=Nt(d,u.type,u.pendingProps),d!==null?(u.stateNode=d,ur=u,dr=_c(d),!0):!1;case 6:return d=en(d,u.pendingProps),d!==null?(u.stateNode=d,ur=u,dr=null,!0):!1;case 13:if(d=ln(d),d!==null){var y=nl!==null?{id:ro,overflow:so}:null;return u.memoizedState={dehydrated:d,treeContext:y,retryLane:1073741824},y=Ur(18,null,null,0),y.stateNode=d,y.return=u,u.child=y,ur=u,dr=null,!0}return!1;default:return!1}}function j0(u){return(u.mode&1)!==0&&(u.flags&128)===0}function G0(u){if(cn){var d=dr;if(d){var y=d;if(!Qb(u,d)){if(j0(u))throw Error(o(418));d=Wo(y);var M=ur;d&&Qb(u,d)?Zb(M,y):(u.flags=u.flags&-4097|2,cn=!1,ur=u)}}else{if(j0(u))throw Error(o(418));u.flags=u.flags&-4097|2,cn=!1,ur=u}}}function Jb(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ur=u}function Fd(u){if(!we||u!==ur)return!1;if(!cn)return Jb(u),cn=!0,!1;if(u.tag!==3&&(u.tag!==5||ze(u.type)&&!me(u.type,u.memoizedProps))){var d=dr;if(d){if(j0(u)){for(u=dr;u;)u=Wo(u);throw Error(o(418))}for(;d;)Zb(u,d),d=Wo(d)}}if(Jb(u),u.tag===13){if(!we)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));dr=z(u)}else dr=ur?Wo(u.stateNode):null;return!0}function Ac(){we&&(dr=ur=null,Ud=cn=!1)}function W0(u){Kr===null?Kr=[u]:Kr.push(u)}function zd(u,d,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var M=y.stateNode}if(!M)throw Error(o(147,u));var T=M,R=""+u;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===R?d.ref:(d=function(G){var J=T.refs;J===Xb&&(J=T.refs={}),G===null?delete J[R]:J[R]=G},d._stringRef=R,d)}if(typeof u!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,u))}return u}function Gp(u,d){throw u=Object.prototype.toString.call(d),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u))}function eT(u){var d=u._init;return d(u._payload)}function tT(u){function d(oe,te){if(u){var ue=oe.deletions;ue===null?(oe.deletions=[te],oe.flags|=16):ue.push(te)}}function y(oe,te){if(!u)return null;for(;te!==null;)d(oe,te),te=te.sibling;return null}function M(oe,te){for(oe=new Map;te!==null;)te.key!==null?oe.set(te.key,te):oe.set(te.index,te),te=te.sibling;return oe}function T(oe,te){return oe=Qo(oe,te),oe.index=0,oe.sibling=null,oe}function R(oe,te,ue){return oe.index=ue,u?(ue=oe.alternate,ue!==null?(ue=ue.index,ue<te?(oe.flags|=2,te):ue):(oe.flags|=2,te)):(oe.flags|=1048576,te)}function G(oe){return u&&oe.alternate===null&&(oe.flags|=2),oe}function J(oe,te,ue,Ue){return te===null||te.tag!==6?(te=Cx(ue,oe.mode,Ue),te.return=oe,te):(te=T(te,ue),te.return=oe,te)}function de(oe,te,ue,Ue){var Ze=ue.type;return Ze===f?We(oe,te,ue.props.children,Ue,ue.key):te!==null&&(te.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===S&&eT(Ze)===te.type)?(Ue=T(te,ue.props),Ue.ref=zd(oe,te,ue),Ue.return=oe,Ue):(Ue=wm(ue.type,ue.key,ue.props,null,oe.mode,Ue),Ue.ref=zd(oe,te,ue),Ue.return=oe,Ue)}function Ce(oe,te,ue,Ue){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=Px(ue,oe.mode,Ue),te.return=oe,te):(te=T(te,ue.children||[]),te.return=oe,te)}function We(oe,te,ue,Ue,Ze){return te===null||te.tag!==7?(te=ul(ue,oe.mode,Ue,Ze),te.return=oe,te):(te=T(te,ue),te.return=oe,te)}function xt(oe,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Cx(""+te,oe.mode,ue),te.return=oe,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return ue=wm(te.type,te.key,te.props,null,oe.mode,ue),ue.ref=zd(oe,null,te),ue.return=oe,ue;case c:return te=Px(te,oe.mode,ue),te.return=oe,te;case S:var Ue=te._init;return xt(oe,Ue(te._payload),ue)}if(K(te)||C(te))return te=ul(te,oe.mode,ue,null),te.return=oe,te;Gp(oe,te)}return null}function st(oe,te,ue,Ue){var Ze=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Ze!==null?null:J(oe,te,""+ue,Ue);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return ue.key===Ze?de(oe,te,ue,Ue):null;case c:return ue.key===Ze?Ce(oe,te,ue,Ue):null;case S:return Ze=ue._init,st(oe,te,Ze(ue._payload),Ue)}if(K(ue)||C(ue))return Ze!==null?null:We(oe,te,ue,Ue,null);Gp(oe,ue)}return null}function Kt(oe,te,ue,Ue,Ze){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return oe=oe.get(ue)||null,J(te,oe,""+Ue,Ze);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case l:return oe=oe.get(Ue.key===null?ue:Ue.key)||null,de(te,oe,Ue,Ze);case c:return oe=oe.get(Ue.key===null?ue:Ue.key)||null,Ce(te,oe,Ue,Ze);case S:var At=Ue._init;return Kt(oe,te,ue,At(Ue._payload),Ze)}if(K(Ue)||C(Ue))return oe=oe.get(ue)||null,We(te,oe,Ue,Ze,null);Gp(te,Ue)}return null}function et(oe,te,ue,Ue){for(var Ze=null,At=null,_t=te,Bt=te=0,ei=null;_t!==null&&Bt<ue.length;Bt++){_t.index>Bt?(ei=_t,_t=null):ei=_t.sibling;var Vt=st(oe,_t,ue[Bt],Ue);if(Vt===null){_t===null&&(_t=ei);break}u&&_t&&Vt.alternate===null&&d(oe,_t),te=R(Vt,te,Bt),At===null?Ze=Vt:At.sibling=Vt,At=Vt,_t=ei}if(Bt===ue.length)return y(oe,_t),cn&&il(oe,Bt),Ze;if(_t===null){for(;Bt<ue.length;Bt++)_t=xt(oe,ue[Bt],Ue),_t!==null&&(te=R(_t,te,Bt),At===null?Ze=_t:At.sibling=_t,At=_t);return cn&&il(oe,Bt),Ze}for(_t=M(oe,_t);Bt<ue.length;Bt++)ei=Kt(_t,oe,Bt,ue[Bt],Ue),ei!==null&&(u&&ei.alternate!==null&&_t.delete(ei.key===null?Bt:ei.key),te=R(ei,te,Bt),At===null?Ze=ei:At.sibling=ei,At=ei);return u&&_t.forEach(function(Jo){return d(oe,Jo)}),cn&&il(oe,Bt),Ze}function vi(oe,te,ue,Ue){var Ze=C(ue);if(typeof Ze!="function")throw Error(o(150));if(ue=Ze.call(ue),ue==null)throw Error(o(151));for(var At=Ze=null,_t=te,Bt=te=0,ei=null,Vt=ue.next();_t!==null&&!Vt.done;Bt++,Vt=ue.next()){_t.index>Bt?(ei=_t,_t=null):ei=_t.sibling;var Jo=st(oe,_t,Vt.value,Ue);if(Jo===null){_t===null&&(_t=ei);break}u&&_t&&Jo.alternate===null&&d(oe,_t),te=R(Jo,te,Bt),At===null?Ze=Jo:At.sibling=Jo,At=Jo,_t=ei}if(Vt.done)return y(oe,_t),cn&&il(oe,Bt),Ze;if(_t===null){for(;!Vt.done;Bt++,Vt=ue.next())Vt=xt(oe,Vt.value,Ue),Vt!==null&&(te=R(Vt,te,Bt),At===null?Ze=Vt:At.sibling=Vt,At=Vt);return cn&&il(oe,Bt),Ze}for(_t=M(oe,_t);!Vt.done;Bt++,Vt=ue.next())Vt=Kt(_t,oe,Bt,Vt.value,Ue),Vt!==null&&(u&&Vt.alternate!==null&&_t.delete(Vt.key===null?Bt:Vt.key),te=R(Vt,te,Bt),At===null?Ze=Vt:At.sibling=Vt,At=Vt);return u&&_t.forEach(function(C4){return d(oe,C4)}),cn&&il(oe,Bt),Ze}function Fr(oe,te,ue,Ue){if(typeof ue=="object"&&ue!==null&&ue.type===f&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:e:{for(var Ze=ue.key,At=te;At!==null;){if(At.key===Ze){if(Ze=ue.type,Ze===f){if(At.tag===7){y(oe,At.sibling),te=T(At,ue.props.children),te.return=oe,oe=te;break e}}else if(At.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===S&&eT(Ze)===At.type){y(oe,At.sibling),te=T(At,ue.props),te.ref=zd(oe,At,ue),te.return=oe,oe=te;break e}y(oe,At);break}else d(oe,At);At=At.sibling}ue.type===f?(te=ul(ue.props.children,oe.mode,Ue,ue.key),te.return=oe,oe=te):(Ue=wm(ue.type,ue.key,ue.props,null,oe.mode,Ue),Ue.ref=zd(oe,te,ue),Ue.return=oe,oe=Ue)}return G(oe);case c:e:{for(At=ue.key;te!==null;){if(te.key===At)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){y(oe,te.sibling),te=T(te,ue.children||[]),te.return=oe,oe=te;break e}else{y(oe,te);break}else d(oe,te);te=te.sibling}te=Px(ue,oe.mode,Ue),te.return=oe,oe=te}return G(oe);case S:return At=ue._init,Fr(oe,te,At(ue._payload),Ue)}if(K(ue))return et(oe,te,ue,Ue);if(C(ue))return vi(oe,te,ue,Ue);Gp(oe,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,te!==null&&te.tag===6?(y(oe,te.sibling),te=T(te,ue),te.return=oe,oe=te):(y(oe,te),te=Cx(ue,oe.mode,Ue),te.return=oe,oe=te),G(oe)):y(oe,te)}return Fr}var Cc=tT(!0),nT=tT(!1),Bd={},Dr=Kn(Bd),Vd=Kn(Bd),Pc=Kn(Bd);function Ps(u){if(u===Bd)throw Error(o(174));return u}function X0(u,d){Ge(Pc,d),Ge(Vd,u),Ge(Dr,Bd),u=ee(d),ft(Dr),Ge(Dr,u)}function Rc(){ft(Dr),ft(Vd),ft(Pc)}function iT(u){var d=Ps(Pc.current),y=Ps(Dr.current);d=D(y,u.type,d),y!==d&&(Ge(Vd,u),Ge(Dr,d))}function $0(u){Vd.current===u&&(ft(Dr),ft(Vd))}var hn=Kn(0);function Wp(u){for(var d=u;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Yi(y)||Dd(y)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Y0=[];function q0(){for(var u=0;u<Y0.length;u++){var d=Y0[u];Fe?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}Y0.length=0}var Xp=a.ReactCurrentDispatcher,kr=a.ReactCurrentBatchConfig,Nc=0,Sn=null,pi=null,Jn=null,$p=!1,Hd=!1,jd=0,Jz=0;function mi(){throw Error(o(321))}function K0(u,d){if(d===null)return!1;for(var y=0;y<d.length&&y<u.length;y++)if(!Ts(u[y],d[y]))return!1;return!0}function Z0(u,d,y,M,T,R){if(Nc=R,Sn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Xp.current=u===null||u.memoizedState===null?i4:r4,u=y(M,T),Hd){R=0;do{if(Hd=!1,jd=0,25<=R)throw Error(o(301));R+=1,Jn=pi=null,d.updateQueue=null,Xp.current=s4,u=y(M,T)}while(Hd)}if(Xp.current=Qp,d=pi!==null&&pi.next!==null,Nc=0,Jn=pi=Sn=null,$p=!1,d)throw Error(o(300));return u}function Q0(){var u=jd!==0;return jd=0,u}function oo(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?Sn.memoizedState=Jn=u:Jn=Jn.next=u,Jn}function Rs(){if(pi===null){var u=Sn.alternate;u=u!==null?u.memoizedState:null}else u=pi.next;var d=Jn===null?Sn.memoizedState:Jn.next;if(d!==null)Jn=d,pi=u;else{if(u===null)throw Error(o(310));pi=u,u={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},Jn===null?Sn.memoizedState=Jn=u:Jn=Jn.next=u}return Jn}function rl(u,d){return typeof d=="function"?d(u):d}function Yp(u){var d=Rs(),y=d.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var M=pi,T=M.baseQueue,R=y.pending;if(R!==null){if(T!==null){var G=T.next;T.next=R.next,R.next=G}M.baseQueue=T=R,y.pending=null}if(T!==null){R=T.next,M=M.baseState;var J=G=null,de=null,Ce=R;do{var We=Ce.lane;if((Nc&We)===We)de!==null&&(de=de.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),M=Ce.hasEagerState?Ce.eagerState:u(M,Ce.action);else{var xt={lane:We,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};de===null?(J=de=xt,G=M):de=de.next=xt,Sn.lanes|=We,Ic|=We}Ce=Ce.next}while(Ce!==null&&Ce!==R);de===null?G=M:de.next=J,Ts(M,d.memoizedState)||(fr=!0),d.memoizedState=M,d.baseState=G,d.baseQueue=de,y.lastRenderedState=M}if(u=y.interleaved,u!==null){T=u;do R=T.lane,Sn.lanes|=R,Ic|=R,T=T.next;while(T!==u)}else T===null&&(y.lanes=0);return[d.memoizedState,y.dispatch]}function qp(u){var d=Rs(),y=d.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var M=y.dispatch,T=y.pending,R=d.memoizedState;if(T!==null){y.pending=null;var G=T=T.next;do R=u(R,G.action),G=G.next;while(G!==T);Ts(R,d.memoizedState)||(fr=!0),d.memoizedState=R,d.baseQueue===null&&(d.baseState=R),y.lastRenderedState=R}return[R,M]}function rT(){}function sT(u,d){var y=Sn,M=Rs(),T=d(),R=!Ts(M.memoizedState,T);if(R&&(M.memoizedState=T,fr=!0),M=M.queue,Wd(lT.bind(null,y,M,u),[u]),M.getSnapshot!==d||R||Jn!==null&&Jn.memoizedState.tag&1){if(y.flags|=2048,Gd(9,aT.bind(null,y,M,T,d),void 0,null),Un===null)throw Error(o(349));Nc&30||oT(y,d,T)}return T}function oT(u,d,y){u.flags|=16384,u={getSnapshot:d,value:y},d=Sn.updateQueue,d===null?(d={lastEffect:null,stores:null},Sn.updateQueue=d,d.stores=[u]):(y=d.stores,y===null?d.stores=[u]:y.push(u))}function aT(u,d,y,M){d.value=y,d.getSnapshot=M,cT(d)&&Or(u,1,-1)}function lT(u,d,y){return y(function(){cT(d)&&Or(u,1,-1)})}function cT(u){var d=u.getSnapshot;u=u.value;try{var y=d();return!Ts(u,y)}catch{return!0}}function J0(u){var d=oo();return typeof u=="function"&&(u=u()),d.memoizedState=d.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:u},d.queue=u,u=u.dispatch=n4.bind(null,Sn,u),[d.memoizedState,u]}function Gd(u,d,y,M){return u={tag:u,create:d,destroy:y,deps:M,next:null},d=Sn.updateQueue,d===null?(d={lastEffect:null,stores:null},Sn.updateQueue=d,d.lastEffect=u.next=u):(y=d.lastEffect,y===null?d.lastEffect=u.next=u:(M=y.next,y.next=u,u.next=M,d.lastEffect=u)),u}function uT(){return Rs().memoizedState}function Kp(u,d,y,M){var T=oo();Sn.flags|=u,T.memoizedState=Gd(1|d,y,void 0,M===void 0?null:M)}function Zp(u,d,y,M){var T=Rs();M=M===void 0?null:M;var R=void 0;if(pi!==null){var G=pi.memoizedState;if(R=G.destroy,M!==null&&K0(M,G.deps)){T.memoizedState=Gd(d,y,R,M);return}}Sn.flags|=u,T.memoizedState=Gd(1|d,y,R,M)}function ex(u,d){return Kp(8390656,8,u,d)}function Wd(u,d){return Zp(2048,8,u,d)}function dT(u,d){return Zp(4,2,u,d)}function fT(u,d){return Zp(4,4,u,d)}function hT(u,d){if(typeof d=="function")return u=u(),d(u),function(){d(null)};if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function pT(u,d,y){return y=y!=null?y.concat([u]):null,Zp(4,4,hT.bind(null,d,u),y)}function tx(){}function mT(u,d){var y=Rs();d=d===void 0?null:d;var M=y.memoizedState;return M!==null&&d!==null&&K0(d,M[1])?M[0]:(y.memoizedState=[u,d],u)}function gT(u,d){var y=Rs();d=d===void 0?null:d;var M=y.memoizedState;return M!==null&&d!==null&&K0(d,M[1])?M[0]:(u=u(),y.memoizedState=[u,d],u)}function e4(u,d){var y=zt;zt=y!==0&&4>y?y:4,u(!0);var M=kr.transition;kr.transition={};try{u(!1),d()}finally{zt=y,kr.transition=M}}function vT(){return Rs().memoizedState}function t4(u,d,y){var M=Ko(u);y={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null},yT(u)?xT(d,y):(_T(u,d,y),y=Di(),u=Or(u,M,y),u!==null&&wT(u,d,M))}function n4(u,d,y){var M=Ko(u),T={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null};if(yT(u))xT(d,T);else{_T(u,d,T);var R=u.alternate;if(u.lanes===0&&(R===null||R.lanes===0)&&(R=d.lastRenderedReducer,R!==null))try{var G=d.lastRenderedState,J=R(G,y);if(T.hasEagerState=!0,T.eagerState=J,Ts(J,G))return}catch{}finally{}y=Di(),u=Or(u,M,y),u!==null&&wT(u,d,M)}}function yT(u){var d=u.alternate;return u===Sn||d!==null&&d===Sn}function xT(u,d){Hd=$p=!0;var y=u.pending;y===null?d.next=d:(d.next=y.next,y.next=d),u.pending=d}function _T(u,d,y){Un!==null&&u.mode&1&&!(Rt&2)?(u=d.interleaved,u===null?(y.next=y,Cs===null?Cs=[d]:Cs.push(d)):(y.next=u.next,u.next=y),d.interleaved=y):(u=d.pending,u===null?y.next=y:(y.next=u.next,u.next=y),d.pending=y)}function wT(u,d,y){if(y&4194240){var M=d.lanes;M&=u.pendingLanes,y|=M,d.lanes=y,P0(u,y)}}var Qp={readContext:Nr,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},i4={readContext:Nr,useCallback:function(u,d){return oo().memoizedState=[u,d===void 0?null:d],u},useContext:Nr,useEffect:ex,useImperativeHandle:function(u,d,y){return y=y!=null?y.concat([u]):null,Kp(4194308,4,hT.bind(null,d,u),y)},useLayoutEffect:function(u,d){return Kp(4194308,4,u,d)},useInsertionEffect:function(u,d){return Kp(4,2,u,d)},useMemo:function(u,d){var y=oo();return d=d===void 0?null:d,u=u(),y.memoizedState=[u,d],u},useReducer:function(u,d,y){var M=oo();return d=y!==void 0?y(d):d,M.memoizedState=M.baseState=d,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:d},M.queue=u,u=u.dispatch=t4.bind(null,Sn,u),[M.memoizedState,u]},useRef:function(u){var d=oo();return u={current:u},d.memoizedState=u},useState:J0,useDebugValue:tx,useDeferredValue:function(u){var d=J0(u),y=d[0],M=d[1];return ex(function(){var T=kr.transition;kr.transition={};try{M(u)}finally{kr.transition=T}},[u]),y},useTransition:function(){var u=J0(!1),d=u[0];return u=e4.bind(null,u[1]),oo().memoizedState=u,[d,u]},useMutableSource:function(){},useSyncExternalStore:function(u,d,y){var M=Sn,T=oo();if(cn){if(y===void 0)throw Error(o(407));y=y()}else{if(y=d(),Un===null)throw Error(o(349));Nc&30||oT(M,d,y)}T.memoizedState=y;var R={value:y,getSnapshot:d};return T.queue=R,ex(lT.bind(null,M,R,u),[u]),M.flags|=2048,Gd(9,aT.bind(null,M,R,y,d),void 0,null),y},useId:function(){var u=oo(),d=Un.identifierPrefix;if(cn){var y=so,M=ro;y=(M&~(1<<32-cr(M)-1)).toString(32)+y,d=":"+d+"R"+y,y=jd++,0<y&&(d+="H"+y.toString(32)),d+=":"}else y=Jz++,d=":"+d+"r"+y.toString(32)+":";return u.memoizedState=d},unstable_isNewReconciler:!1},r4={readContext:Nr,useCallback:mT,useContext:Nr,useEffect:Wd,useImperativeHandle:pT,useInsertionEffect:dT,useLayoutEffect:fT,useMemo:gT,useReducer:Yp,useRef:uT,useState:function(){return Yp(rl)},useDebugValue:tx,useDeferredValue:function(u){var d=Yp(rl),y=d[0],M=d[1];return Wd(function(){var T=kr.transition;kr.transition={};try{M(u)}finally{kr.transition=T}},[u]),y},useTransition:function(){var u=Yp(rl)[0],d=Rs().memoizedState;return[u,d]},useMutableSource:rT,useSyncExternalStore:sT,useId:vT,unstable_isNewReconciler:!1},s4={readContext:Nr,useCallback:mT,useContext:Nr,useEffect:Wd,useImperativeHandle:pT,useInsertionEffect:dT,useLayoutEffect:fT,useMemo:gT,useReducer:qp,useRef:uT,useState:function(){return qp(rl)},useDebugValue:tx,useDeferredValue:function(u){var d=qp(rl),y=d[0],M=d[1];return Wd(function(){var T=kr.transition;kr.transition={};try{M(u)}finally{kr.transition=T}},[u]),y},useTransition:function(){var u=qp(rl)[0],d=Rs().memoizedState;return[u,d]},useMutableSource:rT,useSyncExternalStore:sT,useId:vT,unstable_isNewReconciler:!1};function nx(u,d){try{var y="",M=d;do y+=Qz(M),M=M.return;while(M);var T=y}catch(R){T=`
Error generating stack: `+R.message+`
`+R.stack}return{value:u,source:d,stack:T}}function ix(u,d){try{console.error(d.value)}catch(y){setTimeout(function(){throw y})}}var o4=typeof WeakMap=="function"?WeakMap:Map;function ST(u,d,y){y=io(-1,y),y.tag=3,y.payload={element:null};var M=d.value;return y.callback=function(){pm||(pm=!0,wx=M),ix(u,d)},y}function MT(u,d,y){y=io(-1,y),y.tag=3;var M=u.type.getDerivedStateFromError;if(typeof M=="function"){var T=d.value;y.payload=function(){return M(T)},y.callback=function(){ix(u,d)}}var R=u.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(y.callback=function(){ix(u,d),typeof M!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})}),y}function ET(u,d,y){var M=u.pingCache;if(M===null){M=u.pingCache=new o4;var T=new Set;M.set(d,T)}else T=M.get(d),T===void 0&&(T=new Set,M.set(d,T));T.has(y)||(T.add(y),u=_4.bind(null,u,d,y),d.then(u,u))}function bT(u){do{var d;if((d=u.tag===13)&&(d=u.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return u;u=u.return}while(u!==null);return null}function TT(u,d,y,M,T){return u.mode&1?(u.flags|=65536,u.lanes=T,u):(u===d?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(d=io(-1,1),d.tag=2,$o(y,d))),y.lanes|=1),u)}function Ns(u){u.flags|=4}function AT(u,d){if(u!==null&&u.child===d.child)return!0;if(d.flags&16)return!1;for(u=d.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var Xd,$d,Jp,em;if(Xe)Xd=function(u,d){for(var y=d.child;y!==null;){if(y.tag===5||y.tag===6)Q(u,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},$d=function(){},Jp=function(u,d,y,M,T){if(u=u.memoizedProps,u!==M){var R=d.stateNode,G=Ps(Dr.current);y=se(R,y,u,M,T,G),(d.updateQueue=y)&&Ns(d)}},em=function(u,d,y,M){y!==M&&Ns(d)};else if(X){Xd=function(u,d,y,M){for(var T=d.child;T!==null;){if(T.tag===5){var R=T.stateNode;y&&M&&(R=kt(R,T.type,T.memoizedProps,T)),Q(u,R)}else if(T.tag===6)R=T.stateNode,y&&M&&(R=Gt(R,T.memoizedProps,T)),Q(u,R);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)R=T.child,R!==null&&(R.return=T),Xd(u,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===d)break;for(;T.sibling===null;){if(T.return===null||T.return===d)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var CT=function(u,d,y,M){for(var T=d.child;T!==null;){if(T.tag===5){var R=T.stateNode;y&&M&&(R=kt(R,T.type,T.memoizedProps,T)),Me(u,R)}else if(T.tag===6)R=T.stateNode,y&&M&&(R=Gt(R,T.memoizedProps,T)),Me(u,R);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)R=T.child,R!==null&&(R.return=T),CT(u,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===d)break;for(;T.sibling===null;){if(T.return===null||T.return===d)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};$d=function(u,d){var y=d.stateNode;if(!AT(u,d)){u=y.containerInfo;var M=ot(u);CT(M,d,!1,!1),y.pendingChildren=M,Ns(d),Qe(u,M)}},Jp=function(u,d,y,M,T){var R=u.stateNode,G=u.memoizedProps;if((u=AT(u,d))&&G===M)d.stateNode=R;else{var J=d.stateNode,de=Ps(Dr.current),Ce=null;G!==M&&(Ce=se(J,y,G,M,T,de)),u&&Ce===null?d.stateNode=R:(R=Re(R,Ce,y,G,M,d,u,J),q(R,y,M,T,de)&&Ns(d),d.stateNode=R,u?Ns(d):Xd(R,d,!1,!1))}},em=function(u,d,y,M){y!==M?(u=Ps(Pc.current),y=Ps(Dr.current),d.stateNode=Te(M,u,y,d),Ns(d)):d.stateNode=u.stateNode}}else $d=function(){},Jp=function(){},em=function(){};function Yd(u,d){if(!cn)switch(u.tailMode){case"hidden":d=u.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var M=null;y!==null;)y.alternate!==null&&(M=y),y=y.sibling;M===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function gi(u){var d=u.alternate!==null&&u.alternate.child===u.child,y=0,M=0;if(d)for(var T=u.child;T!==null;)y|=T.lanes|T.childLanes,M|=T.subtreeFlags&14680064,M|=T.flags&14680064,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)y|=T.lanes|T.childLanes,M|=T.subtreeFlags,M|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=M,u.childLanes=y,d}function a4(u,d,y){var M=d.pendingProps;switch(H0(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(d),null;case 1:return Zn(d.type)&&Pn(),gi(d),null;case 3:return M=d.stateNode,Rc(),ft(wn),ft(Pt),q0(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(u===null||u.child===null)&&(Fd(d)?Ns(d):u===null||u.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Kr!==null&&(Ex(Kr),Kr=null))),$d(u,d),gi(d),null;case 5:$0(d),y=Ps(Pc.current);var T=d.type;if(u!==null&&d.stateNode!=null)Jp(u,d,T,M,y),u.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!M){if(d.stateNode===null)throw Error(o(166));return gi(d),null}if(u=Ps(Dr.current),Fd(d)){if(!we)throw Error(o(175));u=E0(d.stateNode,d.type,d.memoizedProps,y,u,d,!Ud),d.updateQueue=u,u!==null&&Ns(d)}else{var R=$(T,M,y,u,d);Xd(R,d,!1,!1),d.stateNode=R,q(R,T,M,y,u)&&Ns(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return gi(d),null;case 6:if(u&&d.stateNode!=null)em(u,d,u.memoizedProps,M);else{if(typeof M!="string"&&d.stateNode===null)throw Error(o(166));if(u=Ps(Pc.current),y=Ps(Dr.current),Fd(d)){if(!we)throw Error(o(176));if(u=d.stateNode,M=d.memoizedProps,(y=b0(u,M,d,!Ud))&&(T=ur,T!==null))switch(R=(T.mode&1)!==0,T.tag){case 3:Je(T.stateNode.containerInfo,u,M,R);break;case 5:at(T.type,T.memoizedProps,T.stateNode,u,M,R)}y&&Ns(d)}else d.stateNode=Te(M,u,y,d)}return gi(d),null;case 13:if(ft(hn),M=d.memoizedState,cn&&dr!==null&&d.mode&1&&!(d.flags&128)){for(u=dr;u;)u=Wo(u);return Ac(),d.flags|=98560,d}if(M!==null&&M.dehydrated!==null){if(M=Fd(d),u===null){if(!M)throw Error(o(318));if(!we)throw Error(o(344));if(u=d.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));T0(u,d)}else Ac(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return gi(d),null}return Kr!==null&&(Ex(Kr),Kr=null),d.flags&128?(d.lanes=y,d):(M=M!==null,y=!1,u===null?Fd(d):y=u.memoizedState!==null,M&&!y&&(d.child.flags|=8192,d.mode&1&&(u===null||hn.current&1?jn===0&&(jn=3):Tx())),d.updateQueue!==null&&(d.flags|=4),gi(d),null);case 4:return Rc(),$d(u,d),u===null&&Ee(d.stateNode.containerInfo),gi(d),null;case 10:return O0(d.type._context),gi(d),null;case 17:return Zn(d.type)&&Pn(),gi(d),null;case 19:if(ft(hn),T=d.memoizedState,T===null)return gi(d),null;if(M=(d.flags&128)!==0,R=T.rendering,R===null)if(M)Yd(T,!1);else{if(jn!==0||u!==null&&u.flags&128)for(u=d.child;u!==null;){if(R=Wp(u),R!==null){for(d.flags|=128,Yd(T,!1),u=R.updateQueue,u!==null&&(d.updateQueue=u,d.flags|=4),d.subtreeFlags=0,u=y,M=d.child;M!==null;)y=M,T=u,y.flags&=14680066,R=y.alternate,R===null?(y.childLanes=0,y.lanes=T,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=R.childLanes,y.lanes=R.lanes,y.child=R.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=R.memoizedProps,y.memoizedState=R.memoizedState,y.updateQueue=R.updateQueue,y.type=R.type,T=R.dependencies,y.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),M=M.sibling;return Ge(hn,hn.current&1|2),d.child}u=u.sibling}T.tail!==null&&Qn()>_x&&(d.flags|=128,M=!0,Yd(T,!1),d.lanes=4194304)}else{if(!M)if(u=Wp(R),u!==null){if(d.flags|=128,M=!0,u=u.updateQueue,u!==null&&(d.updateQueue=u,d.flags|=4),Yd(T,!0),T.tail===null&&T.tailMode==="hidden"&&!R.alternate&&!cn)return gi(d),null}else 2*Qn()-T.renderingStartTime>_x&&y!==1073741824&&(d.flags|=128,M=!0,Yd(T,!1),d.lanes=4194304);T.isBackwards?(R.sibling=d.child,d.child=R):(u=T.last,u!==null?u.sibling=R:d.child=R,T.last=R)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=Qn(),d.sibling=null,u=hn.current,Ge(hn,M?u&1|2:u&1),d):(gi(d),null);case 22:case 23:return bx(),M=d.memoizedState!==null,u!==null&&u.memoizedState!==null!==M&&(d.flags|=8192),M&&d.mode&1?hr&1073741824&&(gi(d),Xe&&d.subtreeFlags&6&&(d.flags|=8192)):gi(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var l4=a.ReactCurrentOwner,fr=!1;function Ii(u,d,y,M){d.child=u===null?nT(d,null,y,M):Cc(d,u.child,y,M)}function PT(u,d,y,M,T){y=y.render;var R=d.ref;return Ec(d,T),M=Z0(u,d,y,M,R,T),y=Q0(),u!==null&&!fr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~T,ao(u,d,T)):(cn&&y&&V0(d),d.flags|=1,Ii(u,d,M,T),d.child)}function RT(u,d,y,M,T){if(u===null){var R=y.type;return typeof R=="function"&&!Ax(R)&&R.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(d.tag=15,d.type=R,NT(u,d,R,M,T)):(u=wm(y.type,null,M,d,d.mode,T),u.ref=d.ref,u.return=d,d.child=u)}if(R=u.child,!(u.lanes&T)){var G=R.memoizedProps;if(y=y.compare,y=y!==null?y:Op,y(G,M)&&u.ref===d.ref)return ao(u,d,T)}return d.flags|=1,u=Qo(R,M),u.ref=d.ref,u.return=d,d.child=u}function NT(u,d,y,M,T){if(u!==null&&Op(u.memoizedProps,M)&&u.ref===d.ref)if(fr=!1,(u.lanes&T)!==0)u.flags&131072&&(fr=!0);else return d.lanes=u.lanes,ao(u,d,T);return rx(u,d,y,M,T)}function LT(u,d,y){var M=d.pendingProps,T=M.children,R=u!==null?u.memoizedState:null;if(M.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},Ge(Lc,hr),hr|=y;else if(y&1073741824)d.memoizedState={baseLanes:0,cachePool:null},M=R!==null?R.baseLanes:y,Ge(Lc,hr),hr|=M;else return u=R!==null?R.baseLanes|y:y,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:u,cachePool:null},d.updateQueue=null,Ge(Lc,hr),hr|=u,null;else R!==null?(M=R.baseLanes|y,d.memoizedState=null):M=y,Ge(Lc,hr),hr|=M;return Ii(u,d,T,y),d.child}function IT(u,d){var y=d.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(d.flags|=512,d.flags|=2097152)}function rx(u,d,y,M,T){var R=Zn(y)?Ms:Pt.current;return R=Rr(d,R),Ec(d,T),y=Z0(u,d,y,M,R,T),M=Q0(),u!==null&&!fr?(d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~T,ao(u,d,T)):(cn&&M&&V0(d),d.flags|=1,Ii(u,d,y,T),d.child)}function DT(u,d,y,M,T){if(Zn(y)){var R=!0;li(d)}else R=!1;if(Ec(d,T),d.stateNode===null)u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),Yb(d,y,M),B0(d,y,M,T),M=!0;else if(u===null){var G=d.stateNode,J=d.memoizedProps;G.props=J;var de=G.context,Ce=y.contextType;typeof Ce=="object"&&Ce!==null?Ce=Nr(Ce):(Ce=Zn(y)?Ms:Pt.current,Ce=Rr(d,Ce));var We=y.getDerivedStateFromProps,xt=typeof We=="function"||typeof G.getSnapshotBeforeUpdate=="function";xt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(J!==M||de!==Ce)&&qb(d,G,M,Ce),Xo=!1;var st=d.memoizedState;G.state=st,Bp(d,M,G,T),de=d.memoizedState,J!==M||st!==de||wn.current||Xo?(typeof We=="function"&&(z0(d,y,We,M),de=d.memoizedState),(J=Xo||$b(d,y,J,M,st,de,Ce))?(xt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(d.flags|=4194308)):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=M,d.memoizedState=de),G.props=M,G.state=de,G.context=Ce,M=J):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),M=!1)}else{G=d.stateNode,jb(u,d),J=d.memoizedProps,Ce=d.type===d.elementType?J:qr(d.type,J),G.props=Ce,xt=d.pendingProps,st=G.context,de=y.contextType,typeof de=="object"&&de!==null?de=Nr(de):(de=Zn(y)?Ms:Pt.current,de=Rr(d,de));var Kt=y.getDerivedStateFromProps;(We=typeof Kt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(J!==xt||st!==de)&&qb(d,G,M,de),Xo=!1,st=d.memoizedState,G.state=st,Bp(d,M,G,T);var et=d.memoizedState;J!==xt||st!==et||wn.current||Xo?(typeof Kt=="function"&&(z0(d,y,Kt,M),et=d.memoizedState),(Ce=Xo||$b(d,y,Ce,M,st,et,de)||!1)?(We||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(M,et,de),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(M,et,de)),typeof G.componentDidUpdate=="function"&&(d.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof G.componentDidUpdate!="function"||J===u.memoizedProps&&st===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||J===u.memoizedProps&&st===u.memoizedState||(d.flags|=1024),d.memoizedProps=M,d.memoizedState=et),G.props=M,G.state=et,G.context=de,M=Ce):(typeof G.componentDidUpdate!="function"||J===u.memoizedProps&&st===u.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||J===u.memoizedProps&&st===u.memoizedState||(d.flags|=1024),M=!1)}return sx(u,d,y,M,R,T)}function sx(u,d,y,M,T,R){IT(u,d);var G=(d.flags&128)!==0;if(!M&&!G)return T&&Sc(d,y,!1),ao(u,d,R);M=d.stateNode,l4.current=d;var J=G&&typeof y.getDerivedStateFromError!="function"?null:M.render();return d.flags|=1,u!==null&&G?(d.child=Cc(d,u.child,null,R),d.child=Cc(d,null,J,R)):Ii(u,d,J,R),d.memoizedState=M.state,T&&Sc(d,y,!0),d.child}function kT(u){var d=u.stateNode;d.pendingContext?Es(u,d.pendingContext,d.pendingContext!==d.context):d.context&&Es(u,d.context,!1),X0(u,d.containerInfo)}function OT(u,d,y,M,T){return Ac(),W0(T),d.flags|=256,Ii(u,d,y,M),d.child}var tm={dehydrated:null,treeContext:null,retryLane:0};function nm(u){return{baseLanes:u,cachePool:null}}function UT(u,d,y){var M=d.pendingProps,T=hn.current,R=!1,G=(d.flags&128)!==0,J;if((J=G)||(J=u!==null&&u.memoizedState===null?!1:(T&2)!==0),J?(R=!0,d.flags&=-129):(u===null||u.memoizedState!==null)&&(T|=1),Ge(hn,T&1),u===null)return G0(d),u=d.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(d.mode&1?Dd(u)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(T=M.children,u=M.fallback,R?(M=d.mode,R=d.child,T={mode:"hidden",children:T},!(M&1)&&R!==null?(R.childLanes=0,R.pendingProps=T):R=Sm(T,M,0,null),u=ul(u,M,y,null),R.return=d,u.return=d,R.sibling=u,d.child=R,d.child.memoizedState=nm(y),d.memoizedState=tm,u):ox(d,T));if(T=u.memoizedState,T!==null){if(J=T.dehydrated,J!==null){if(G)return d.flags&256?(d.flags&=-257,im(u,d,y,Error(o(422)))):d.memoizedState!==null?(d.child=u.child,d.flags|=128,null):(R=M.fallback,T=d.mode,M=Sm({mode:"visible",children:M.children},T,0,null),R=ul(R,T,y,null),R.flags|=2,M.return=d,R.return=d,M.sibling=R,d.child=M,d.mode&1&&Cc(d,u.child,null,y),d.child.memoizedState=nm(y),d.memoizedState=tm,R);if(!(d.mode&1))d=im(u,d,y,null);else if(Dd(J))d=im(u,d,y,Error(o(419)));else if(M=(y&u.childLanes)!==0,fr||M){if(M=Un,M!==null){switch(y&-y){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}M=R&(M.suspendedLanes|y)?0:R,M!==0&&M!==T.retryLane&&(T.retryLane=M,Or(u,M,-1))}Tx(),d=im(u,d,y,Error(o(421)))}else Yi(J)?(d.flags|=128,d.child=u.child,d=w4.bind(null,u),xc(J,d),d=null):(y=T.treeContext,we&&(dr=Pp(J),ur=d,cn=!0,Kr=null,Ud=!1,y!==null&&(Lr[Ir++]=ro,Lr[Ir++]=so,Lr[Ir++]=nl,ro=y.id,so=y.overflow,nl=d)),d=ox(d,d.pendingProps.children),d.flags|=4096);return d}return R?(M=zT(u,d,M.children,M.fallback,y),R=d.child,T=u.child.memoizedState,R.memoizedState=T===null?nm(y):{baseLanes:T.baseLanes|y,cachePool:null},R.childLanes=u.childLanes&~y,d.memoizedState=tm,M):(y=FT(u,d,M.children,y),d.memoizedState=null,y)}return R?(M=zT(u,d,M.children,M.fallback,y),R=d.child,T=u.child.memoizedState,R.memoizedState=T===null?nm(y):{baseLanes:T.baseLanes|y,cachePool:null},R.childLanes=u.childLanes&~y,d.memoizedState=tm,M):(y=FT(u,d,M.children,y),d.memoizedState=null,y)}function ox(u,d){return d=Sm({mode:"visible",children:d},u.mode,0,null),d.return=u,u.child=d}function FT(u,d,y,M){var T=u.child;return u=T.sibling,y=Qo(T,{mode:"visible",children:y}),!(d.mode&1)&&(y.lanes=M),y.return=d,y.sibling=null,u!==null&&(M=d.deletions,M===null?(d.deletions=[u],d.flags|=16):M.push(u)),d.child=y}function zT(u,d,y,M,T){var R=d.mode;u=u.child;var G=u.sibling,J={mode:"hidden",children:y};return!(R&1)&&d.child!==u?(y=d.child,y.childLanes=0,y.pendingProps=J,d.deletions=null):(y=Qo(u,J),y.subtreeFlags=u.subtreeFlags&14680064),G!==null?M=Qo(G,M):(M=ul(M,R,T,null),M.flags|=2),M.return=d,y.return=d,y.sibling=M,d.child=y,M}function im(u,d,y,M){return M!==null&&W0(M),Cc(d,u.child,null,y),u=ox(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function BT(u,d,y){u.lanes|=d;var M=u.alternate;M!==null&&(M.lanes|=d),U0(u.return,d,y)}function ax(u,d,y,M,T){var R=u.memoizedState;R===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:M,tail:y,tailMode:T}:(R.isBackwards=d,R.rendering=null,R.renderingStartTime=0,R.last=M,R.tail=y,R.tailMode=T)}function VT(u,d,y){var M=d.pendingProps,T=M.revealOrder,R=M.tail;if(Ii(u,d,M.children,y),M=hn.current,M&2)M=M&1|2,d.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&BT(u,y,d);else if(u.tag===19)BT(u,y,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}if(Ge(hn,M),!(d.mode&1))d.memoizedState=null;else switch(T){case"forwards":for(y=d.child,T=null;y!==null;)u=y.alternate,u!==null&&Wp(u)===null&&(T=y),y=y.sibling;y=T,y===null?(T=d.child,d.child=null):(T=y.sibling,y.sibling=null),ax(d,!1,T,y,R);break;case"backwards":for(y=null,T=d.child,d.child=null;T!==null;){if(u=T.alternate,u!==null&&Wp(u)===null){d.child=T;break}u=T.sibling,T.sibling=y,y=T,T=u}ax(d,!0,y,null,R);break;case"together":ax(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ao(u,d,y){if(u!==null&&(d.dependencies=u.dependencies),Ic|=d.lanes,!(y&d.childLanes))return null;if(u!==null&&d.child!==u.child)throw Error(o(153));if(d.child!==null){for(u=d.child,y=Qo(u,u.pendingProps),d.child=y,y.return=d;u.sibling!==null;)u=u.sibling,y=y.sibling=Qo(u,u.pendingProps),y.return=d;y.sibling=null}return d.child}function c4(u,d,y){switch(d.tag){case 3:kT(d),Ac();break;case 5:iT(d);break;case 1:Zn(d.type)&&li(d);break;case 4:X0(d,d.stateNode.containerInfo);break;case 10:Hb(d,d.type._context,d.memoizedProps.value);break;case 13:var M=d.memoizedState;if(M!==null)return M.dehydrated!==null?(Ge(hn,hn.current&1),d.flags|=128,null):y&d.child.childLanes?UT(u,d,y):(Ge(hn,hn.current&1),u=ao(u,d,y),u!==null?u.sibling:null);Ge(hn,hn.current&1);break;case 19:if(M=(y&d.childLanes)!==0,u.flags&128){if(M)return VT(u,d,y);d.flags|=128}var T=d.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Ge(hn,hn.current),M)break;return null;case 22:case 23:return d.lanes=0,LT(u,d,y)}return ao(u,d,y)}function u4(u,d){switch(H0(d),d.tag){case 1:return Zn(d.type)&&Pn(),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return Rc(),ft(wn),ft(Pt),q0(),u=d.flags,u&65536&&!(u&128)?(d.flags=u&-65537|128,d):null;case 5:return $0(d),null;case 13:if(ft(hn),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(o(340));Ac()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return ft(hn),null;case 4:return Rc(),null;case 10:return O0(d.type._context),null;case 22:case 23:return bx(),null;case 24:return null;default:return null}}var rm=!1,sl=!1,d4=typeof WeakSet=="function"?WeakSet:Set,ke=null;function sm(u,d){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(M){Zi(u,d,M)}else y.current=null}function lx(u,d,y){try{y()}catch(M){Zi(u,d,M)}}var HT=!1;function f4(u,d){for(U(u.containerInfo),ke=d;ke!==null;)if(u=ke,d=u.child,(u.subtreeFlags&1028)!==0&&d!==null)d.return=u,ke=d;else for(;ke!==null;){u=ke;try{var y=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var M=y.memoizedProps,T=y.memoizedState,R=u.stateNode,G=R.getSnapshotBeforeUpdate(u.elementType===u.type?M:qr(u.type,M),T);R.__reactInternalSnapshotBeforeUpdate=G}break;case 3:Xe&&Ie(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(J){Zi(u,u.return,J)}if(d=u.sibling,d!==null){d.return=u.return,ke=d;break}ke=u.return}return y=HT,HT=!1,y}function ol(u,d,y){var M=d.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var T=M=M.next;do{if((T.tag&u)===u){var R=T.destroy;T.destroy=void 0,R!==void 0&&lx(d,y,R)}T=T.next}while(T!==M)}}function qd(u,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&u)===u){var M=y.create;y.destroy=M()}y=y.next}while(y!==d)}}function cx(u){var d=u.ref;if(d!==null){var y=u.stateNode;switch(u.tag){case 5:u=Z(y);break;default:u=y}typeof d=="function"?d(u):d.current=u}}function jT(u,d,y){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(Dp,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(u=d.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var M=u=u.next;do{var T=M,R=T.destroy;T=T.tag,R!==void 0&&(T&2||T&4)&&lx(d,y,R),M=M.next}while(M!==u)}break;case 1:if(sm(d,y),u=d.stateNode,typeof u.componentWillUnmount=="function")try{u.props=d.memoizedProps,u.state=d.memoizedState,u.componentWillUnmount()}catch(G){Zi(d,y,G)}break;case 5:sm(d,y);break;case 4:Xe?qT(u,d,y):X&&X&&(d=d.stateNode.containerInfo,y=ot(d),it(d,y))}}function GT(u,d,y){for(var M=d;;)if(jT(u,M,y),M.child===null||Xe&&M.tag===4){if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function WT(u){var d=u.alternate;d!==null&&(u.alternate=null,WT(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&qe(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function XT(u){return u.tag===5||u.tag===3||u.tag===4}function $T(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||XT(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function YT(u){if(Xe){e:{for(var d=u.return;d!==null;){if(XT(d))break e;d=d.return}throw Error(o(160))}var y=d;switch(y.tag){case 5:d=y.stateNode,y.flags&32&&(Dt(d),y.flags&=-33),y=$T(u),dx(u,y,d);break;case 3:case 4:d=y.stateNode.containerInfo,y=$T(u),ux(u,y,d);break;default:throw Error(o(161))}}}function ux(u,d,y){var M=u.tag;if(M===5||M===6)u=u.stateNode,d?Ke(y,u,d):mt(y,u);else if(M!==4&&(u=u.child,u!==null))for(ux(u,d,y),u=u.sibling;u!==null;)ux(u,d,y),u=u.sibling}function dx(u,d,y){var M=u.tag;if(M===5||M===6)u=u.stateNode,d?ct(y,u,d):rt(y,u);else if(M!==4&&(u=u.child,u!==null))for(dx(u,d,y),u=u.sibling;u!==null;)dx(u,d,y),u=u.sibling}function qT(u,d,y){for(var M=d,T=!1,R,G;;){if(!T){T=M.return;e:for(;;){if(T===null)throw Error(o(160));switch(R=T.stateNode,T.tag){case 5:G=!1;break e;case 3:R=R.containerInfo,G=!0;break e;case 4:R=R.containerInfo,G=!0;break e}T=T.return}T=!0}if(M.tag===5||M.tag===6)GT(u,M,y),G?ut(R,M.stateNode):He(R,M.stateNode);else if(M.tag===18)G?ae(R,M.stateNode):ce(R,M.stateNode);else if(M.tag===4){if(M.child!==null){R=M.stateNode.containerInfo,G=!0,M.child.return=M,M=M.child;continue}}else if(jT(u,M,y),M.child!==null){M.child.return=M,M=M.child;continue}if(M===d)break;for(;M.sibling===null;){if(M.return===null||M.return===d)return;M=M.return,M.tag===4&&(T=!1)}M.sibling.return=M.return,M=M.sibling}}function fx(u,d){if(Xe){switch(d.tag){case 0:case 11:case 14:case 15:ol(3,d,d.return),qd(3,d),ol(5,d,d.return);return;case 1:return;case 5:var y=d.stateNode;if(y!=null){var M=d.memoizedProps;u=u!==null?u.memoizedProps:M;var T=d.type,R=d.updateQueue;d.updateQueue=null,R!==null&&St(y,R,T,u,M,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));y=d.memoizedProps,_e(d.stateNode,u!==null?u.memoizedProps:y,y);return;case 3:we&&u!==null&&u.memoizedState.isDehydrated&&ie(d.stateNode.containerInfo);return;case 12:return;case 13:om(d);return;case 19:om(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:ol(3,d,d.return),qd(3,d),ol(5,d,d.return);return;case 12:return;case 13:om(d);return;case 19:om(d);return;case 3:we&&u!==null&&u.memoizedState.isDehydrated&&ie(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(X){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,it(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function om(u){var d=u.updateQueue;if(d!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new d4),d.forEach(function(M){var T=S4.bind(null,u,M);y.has(M)||(y.add(M),M.then(T,T))})}}function h4(u,d){for(ke=d;ke!==null;){d=ke;var y=d.deletions;if(y!==null)for(var M=0;M<y.length;M++){var T=y[M];try{var R=u;Xe?qT(R,T,d):GT(R,T,d);var G=T.alternate;G!==null&&(G.return=null),T.return=null}catch(Ze){Zi(T,d,Ze)}}if(y=d.child,d.subtreeFlags&12854&&y!==null)y.return=d,ke=y;else for(;ke!==null;){d=ke;try{var J=d.flags;if(J&32&&Xe&&Dt(d.stateNode),J&512){var de=d.alternate;if(de!==null){var Ce=de.ref;Ce!==null&&(typeof Ce=="function"?Ce(null):Ce.current=null)}}if(J&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var We=d.alternate;(We===null||We.memoizedState===null)&&(xx=Qn())}break;case 22:var xt=d.memoizedState!==null,st=d.alternate,Kt=st!==null&&st.memoizedState!==null;if(y=d,Xe){e:if(M=y,T=xt,R=null,Xe)for(var et=M;;){if(et.tag===5){if(R===null){R=et;var vi=et.stateNode;T?Zt(vi):Pe(et.stateNode,et.memoizedProps)}}else if(et.tag===6){if(R===null){var Fr=et.stateNode;T?yt(Fr):Y(Fr,et.memoizedProps)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===M)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===M)break;for(;et.sibling===null;){if(et.return===null||et.return===M)break e;R===et&&(R=null),et=et.return}R===et&&(R=null),et.sibling.return=et.return,et=et.sibling}}if(xt&&!Kt&&y.mode&1){ke=y;for(var oe=y.child;oe!==null;){for(y=ke=oe;ke!==null;){M=ke;var te=M.child;switch(M.tag){case 0:case 11:case 14:case 15:ol(4,M,M.return);break;case 1:sm(M,M.return);var ue=M.stateNode;if(typeof ue.componentWillUnmount=="function"){var Ue=M.return;try{ue.props=M.memoizedProps,ue.state=M.memoizedState,ue.componentWillUnmount()}catch(Ze){Zi(M,Ue,Ze)}}break;case 5:sm(M,M.return);break;case 22:if(M.memoizedState!==null){QT(y);continue}}te!==null?(te.return=M,ke=te):QT(y)}oe=oe.sibling}}}switch(J&4102){case 2:YT(d),d.flags&=-3;break;case 6:YT(d),d.flags&=-3,fx(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,fx(d.alternate,d);break;case 4:fx(d.alternate,d)}}catch(Ze){Zi(d,d.return,Ze)}if(y=d.sibling,y!==null){y.return=d.return,ke=y;break}ke=d.return}}}function p4(u,d,y){ke=u,KT(u)}function KT(u,d,y){for(var M=(u.mode&1)!==0;ke!==null;){var T=ke,R=T.child;if(T.tag===22&&M){var G=T.memoizedState!==null||rm;if(!G){var J=T.alternate,de=J!==null&&J.memoizedState!==null||sl;J=rm;var Ce=sl;if(rm=G,(sl=de)&&!Ce)for(ke=T;ke!==null;)G=ke,de=G.child,G.tag===22&&G.memoizedState!==null?JT(T):de!==null?(de.return=G,ke=de):JT(T);for(;R!==null;)ke=R,KT(R),R=R.sibling;ke=T,rm=J,sl=Ce}ZT(u)}else T.subtreeFlags&8772&&R!==null?(R.return=T,ke=R):ZT(u)}}function ZT(u){for(;ke!==null;){var d=ke;if(d.flags&8772){var y=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:sl||qd(5,d);break;case 1:var M=d.stateNode;if(d.flags&4&&!sl)if(y===null)M.componentDidMount();else{var T=d.elementType===d.type?y.memoizedProps:qr(d.type,y.memoizedProps);M.componentDidUpdate(T,y.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var R=d.updateQueue;R!==null&&Wb(d,R,M);break;case 3:var G=d.updateQueue;if(G!==null){if(y=null,d.child!==null)switch(d.child.tag){case 5:y=Z(d.child.stateNode);break;case 1:y=d.child.stateNode}Wb(d,G,y)}break;case 5:var J=d.stateNode;y===null&&d.flags&4&&It(J,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(we&&d.memoizedState===null){var de=d.alternate;if(de!==null){var Ce=de.memoizedState;if(Ce!==null){var We=Ce.dehydrated;We!==null&&le(We)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}sl||d.flags&512&&cx(d)}catch(xt){Zi(d,d.return,xt)}}if(d===u){ke=null;break}if(y=d.sibling,y!==null){y.return=d.return,ke=y;break}ke=d.return}}function QT(u){for(;ke!==null;){var d=ke;if(d===u){ke=null;break}var y=d.sibling;if(y!==null){y.return=d.return,ke=y;break}ke=d.return}}function JT(u){for(;ke!==null;){var d=ke;try{switch(d.tag){case 0:case 11:case 15:var y=d.return;try{qd(4,d)}catch(de){Zi(d,y,de)}break;case 1:var M=d.stateNode;if(typeof M.componentDidMount=="function"){var T=d.return;try{M.componentDidMount()}catch(de){Zi(d,T,de)}}var R=d.return;try{cx(d)}catch(de){Zi(d,R,de)}break;case 5:var G=d.return;try{cx(d)}catch(de){Zi(d,G,de)}}}catch(de){Zi(d,d.return,de)}if(d===u){ke=null;break}var J=d.sibling;if(J!==null){J.return=d.return,ke=J;break}ke=d.return}}var am=0,lm=1,cm=2,um=3,dm=4;if(typeof Symbol=="function"&&Symbol.for){var Kd=Symbol.for;am=Kd("selector.component"),lm=Kd("selector.has_pseudo_class"),cm=Kd("selector.role"),um=Kd("selector.test_id"),dm=Kd("selector.text")}function hx(u){var d=he(u);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(u=ne(u),u===null)throw Error(o(362));return u.stateNode.current}function px(u,d){switch(d.$$typeof){case am:if(u.type===d.value)return!0;break;case lm:e:{d=d.value,u=[u,0];for(var y=0;y<u.length;){var M=u[y++],T=u[y++],R=d[T];if(M.tag!==5||!xe(M)){for(;R!=null&&px(M,R);)T++,R=d[T];if(T===d.length){d=!0;break e}else for(M=M.child;M!==null;)u.push(M,T),M=M.sibling}}d=!1}return d;case cm:if(u.tag===5&&$e(u.stateNode,d.value))return!0;break;case dm:if((u.tag===5||u.tag===6)&&(u=ye(u),u!==null&&0<=u.indexOf(d.value)))return!0;break;case um:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function mx(u){switch(u.$$typeof){case am:return"<"+(N(u.value)||"Unknown")+">";case lm:return":has("+(mx(u)||"")+")";case cm:return'[role="'+u.value+'"]';case dm:return'"'+u.value+'"';case um:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function eA(u,d){var y=[];u=[u,0];for(var M=0;M<u.length;){var T=u[M++],R=u[M++],G=d[R];if(T.tag!==5||!xe(T)){for(;G!=null&&px(T,G);)R++,G=d[R];if(R===d.length)y.push(T);else for(T=T.child;T!==null;)u.push(T,R),T=T.sibling}}return y}function gx(u,d){if(!O)throw Error(o(363));u=hx(u),u=eA(u,d),d=[],u=Array.from(u);for(var y=0;y<u.length;){var M=u[y++];if(M.tag===5)xe(M)||d.push(M.stateNode);else for(M=M.child;M!==null;)u.push(M),M=M.sibling}return d}var m4=Math.ceil,fm=a.ReactCurrentDispatcher,vx=a.ReactCurrentOwner,Rn=a.ReactCurrentBatchConfig,Rt=0,Un=null,Fn=null,ci=0,hr=0,Lc=Kn(0),jn=0,Zd=null,Ic=0,hm=0,yx=0,Qd=null,qi=null,xx=0,_x=1/0;function Dc(){_x=Qn()+500}var pm=!1,wx=null,Yo=null,mm=!1,qo=null,gm=0,Jd=0,Sx=null,vm=-1,ym=0;function Di(){return Rt&6?Qn():vm!==-1?vm:vm=Qn()}function Ko(u){return u.mode&1?Rt&2&&ci!==0?ci&-ci:Zz.transition!==null?(ym===0&&(u=Np,Np<<=1,!(Np&4194240)&&(Np=64),ym=u),ym):(u=zt,u!==0?u:fe()):1}function Or(u,d,y){if(50<Jd)throw Jd=0,Sx=null,Error(o(185));var M=xm(u,d);return M===null?null:(Od(M,d,y),(!(Rt&2)||M!==Un)&&(M===Un&&(!(Rt&2)&&(hm|=d),jn===4&&Zo(M,ci)),Ki(M,y),d===1&&Rt===0&&!(u.mode&1)&&(Dc(),kp&&As())),M)}function xm(u,d){u.lanes|=d;var y=u.alternate;for(y!==null&&(y.lanes|=d),y=u,u=u.return;u!==null;)u.childLanes|=d,y=u.alternate,y!==null&&(y.childLanes|=d),y=u,u=u.return;return y.tag===3?y.stateNode:null}function Ki(u,d){var y=u.callbackNode;Hz(u,d);var M=Ip(u,u===Un?ci:0);if(M===0)y!==null&&Bb(y),u.callbackNode=null,u.callbackPriority=0;else if(d=M&-M,u.callbackPriority!==d){if(y!=null&&Bb(y),d===1)u.tag===0?Kz(nA.bind(null,u)):Vb(nA.bind(null,u)),De?F(function(){Rt===0&&As()}):R0(N0,As),y=null;else{switch(zb(M)){case 1:y=N0;break;case 4:y=Xz;break;case 16:y=L0;break;case 536870912:y=$z;break;default:y=L0}y=dA(y,tA.bind(null,u))}u.callbackPriority=d,u.callbackNode=y}}function tA(u,d){if(vm=-1,ym=0,Rt&6)throw Error(o(327));var y=u.callbackNode;if(cl()&&u.callbackNode!==y)return null;var M=Ip(u,u===Un?ci:0);if(M===0)return null;if(M&30||M&u.expiredLanes||d)d=_m(u,M);else{d=M;var T=Rt;Rt|=2;var R=sA();(Un!==u||ci!==d)&&(Dc(),al(u,d));do try{y4();break}catch(J){rA(u,J)}while(!0);k0(),fm.current=R,Rt=T,Fn!==null?d=0:(Un=null,ci=0,d=jn)}if(d!==0){if(d===2&&(T=A0(u),T!==0&&(M=T,d=Mx(u,T))),d===1)throw y=Zd,al(u,0),Zo(u,M),Ki(u,Qn()),y;if(d===6)Zo(u,M);else{if(T=u.current.alternate,!(M&30)&&!g4(T)&&(d=_m(u,M),d===2&&(R=A0(u),R!==0&&(M=R,d=Mx(u,R))),d===1))throw y=Zd,al(u,0),Zo(u,M),Ki(u,Qn()),y;switch(u.finishedWork=T,u.finishedLanes=M,d){case 0:case 1:throw Error(o(345));case 2:ll(u,qi);break;case 3:if(Zo(u,M),(M&130023424)===M&&(d=xx+500-Qn(),10<d)){if(Ip(u,0)!==0)break;if(T=u.suspendedLanes,(T&M)!==M){Di(),u.pingedLanes|=u.suspendedLanes&T;break}u.timeoutHandle=ge(ll.bind(null,u,qi),d);break}ll(u,qi);break;case 4:if(Zo(u,M),(M&4194240)===M)break;for(d=u.eventTimes,T=-1;0<M;){var G=31-cr(M);R=1<<G,G=d[G],G>T&&(T=G),M&=~R}if(M=T,M=Qn()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*m4(M/1960))-M,10<M){u.timeoutHandle=ge(ll.bind(null,u,qi),M);break}ll(u,qi);break;case 5:ll(u,qi);break;default:throw Error(o(329))}}}return Ki(u,Qn()),u.callbackNode===y?tA.bind(null,u):null}function Mx(u,d){var y=Qd;return u.current.memoizedState.isDehydrated&&(al(u,d).flags|=256),u=_m(u,d),u!==2&&(d=qi,qi=y,d!==null&&Ex(d)),u}function Ex(u){qi===null?qi=u:qi.push.apply(qi,u)}function g4(u){for(var d=u;;){if(d.flags&16384){var y=d.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var M=0;M<y.length;M++){var T=y[M],R=T.getSnapshot;T=T.value;try{if(!Ts(R(),T))return!1}catch{return!1}}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Zo(u,d){for(d&=~yx,d&=~hm,u.suspendedLanes|=d,u.pingedLanes&=~d,u=u.expirationTimes;0<d;){var y=31-cr(d),M=1<<y;u[y]=-1,d&=~M}}function nA(u){if(Rt&6)throw Error(o(327));cl();var d=Ip(u,0);if(!(d&1))return Ki(u,Qn()),null;var y=_m(u,d);if(u.tag!==0&&y===2){var M=A0(u);M!==0&&(d=M,y=Mx(u,M))}if(y===1)throw y=Zd,al(u,0),Zo(u,d),Ki(u,Qn()),y;if(y===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=d,ll(u,qi),Ki(u,Qn()),null}function iA(u){qo!==null&&qo.tag===0&&!(Rt&6)&&cl();var d=Rt;Rt|=1;var y=Rn.transition,M=zt;try{if(Rn.transition=null,zt=1,u)return u()}finally{zt=M,Rn.transition=y,Rt=d,!(Rt&6)&&As()}}function bx(){hr=Lc.current,ft(Lc)}function al(u,d){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==nt&&(u.timeoutHandle=nt,tt(y)),Fn!==null)for(y=Fn.return;y!==null;){var M=y;switch(H0(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Pn();break;case 3:Rc(),ft(wn),ft(Pt),q0();break;case 5:$0(M);break;case 4:Rc();break;case 13:ft(hn);break;case 19:ft(hn);break;case 10:O0(M.type._context);break;case 22:case 23:bx()}y=y.return}if(Un=u,Fn=u=Qo(u.current,null),ci=hr=d,jn=0,Zd=null,yx=hm=Ic=0,qi=Qd=null,Cs!==null){for(d=0;d<Cs.length;d++)if(y=Cs[d],M=y.interleaved,M!==null){y.interleaved=null;var T=M.next,R=y.pending;if(R!==null){var G=R.next;R.next=T,M.next=G}y.pending=M}Cs=null}return u}function rA(u,d){do{var y=Fn;try{if(k0(),Xp.current=Qp,$p){for(var M=Sn.memoizedState;M!==null;){var T=M.queue;T!==null&&(T.pending=null),M=M.next}$p=!1}if(Nc=0,Jn=pi=Sn=null,Hd=!1,jd=0,vx.current=null,y===null||y.return===null){jn=1,Zd=d,Fn=null;break}e:{var R=u,G=y.return,J=y,de=d;if(d=ci,J.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ce=de,We=J,xt=We.tag;if(!(We.mode&1)&&(xt===0||xt===11||xt===15)){var st=We.alternate;st?(We.updateQueue=st.updateQueue,We.memoizedState=st.memoizedState,We.lanes=st.lanes):(We.updateQueue=null,We.memoizedState=null)}var Kt=bT(G);if(Kt!==null){Kt.flags&=-257,TT(Kt,G,J,R,d),Kt.mode&1&&ET(R,Ce,d),d=Kt,de=Ce;var et=d.updateQueue;if(et===null){var vi=new Set;vi.add(de),d.updateQueue=vi}else et.add(de);break e}else{if(!(d&1)){ET(R,Ce,d),Tx();break e}de=Error(o(426))}}else if(cn&&J.mode&1){var Fr=bT(G);if(Fr!==null){!(Fr.flags&65536)&&(Fr.flags|=256),TT(Fr,G,J,R,d),W0(de);break e}}R=de,jn!==4&&(jn=2),Qd===null?Qd=[R]:Qd.push(R),de=nx(de,J),J=G;do{switch(J.tag){case 3:J.flags|=65536,d&=-d,J.lanes|=d;var oe=ST(J,de,d);Gb(J,oe);break e;case 1:R=de;var te=J.type,ue=J.stateNode;if(!(J.flags&128)&&(typeof te.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Yo===null||!Yo.has(ue)))){J.flags|=65536,d&=-d,J.lanes|=d;var Ue=MT(J,R,d);Gb(J,Ue);break e}}J=J.return}while(J!==null)}aA(y)}catch(Ze){d=Ze,Fn===y&&y!==null&&(Fn=y=y.return);continue}break}while(!0)}function sA(){var u=fm.current;return fm.current=Qp,u===null?Qp:u}function Tx(){(jn===0||jn===3||jn===2)&&(jn=4),Un===null||!(Ic&268435455)&&!(hm&268435455)||Zo(Un,ci)}function _m(u,d){var y=Rt;Rt|=2;var M=sA();Un===u&&ci===d||al(u,d);do try{v4();break}catch(T){rA(u,T)}while(!0);if(k0(),Rt=y,fm.current=M,Fn!==null)throw Error(o(261));return Un=null,ci=0,jn}function v4(){for(;Fn!==null;)oA(Fn)}function y4(){for(;Fn!==null&&!Gz();)oA(Fn)}function oA(u){var d=uA(u.alternate,u,hr);u.memoizedProps=u.pendingProps,d===null?aA(u):Fn=d,vx.current=null}function aA(u){var d=u;do{var y=d.alternate;if(u=d.return,d.flags&32768){if(y=u4(y,d),y!==null){y.flags&=32767,Fn=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{jn=6,Fn=null;return}}else if(y=a4(y,d,hr),y!==null){Fn=y;return}if(d=d.sibling,d!==null){Fn=d;return}Fn=d=u}while(d!==null);jn===0&&(jn=5)}function ll(u,d){var y=zt,M=Rn.transition;try{Rn.transition=null,zt=1,x4(u,d,y)}finally{Rn.transition=M,zt=y}return null}function x4(u,d,y){do cl();while(qo!==null);if(Rt&6)throw Error(o(327));var M=u.finishedWork,T=u.finishedLanes;if(M===null)return null;if(u.finishedWork=null,u.finishedLanes=0,M===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var R=M.lanes|M.childLanes;if(jz(u,R),u===Un&&(Fn=Un=null,ci=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||mm||(mm=!0,dA(L0,function(){return cl(),null})),R=(M.flags&15990)!==0,M.subtreeFlags&15990||R){R=Rn.transition,Rn.transition=null;var G=zt;zt=1;var J=Rt;Rt|=4,vx.current=null,f4(u,M),h4(u,M),V(u.containerInfo),u.current=M,p4(M),Wz(),Rt=J,zt=G,Rn.transition=R}else u.current=M;if(mm&&(mm=!1,qo=u,gm=T),R=u.pendingLanes,R===0&&(Yo=null),Yz(M.stateNode),Ki(u,Qn()),d!==null)for(y=u.onRecoverableError,M=0;M<d.length;M++)y(d[M]);if(pm)throw pm=!1,u=wx,wx=null,u;return gm&1&&u.tag!==0&&cl(),R=u.pendingLanes,R&1?u===Sx?Jd++:(Jd=0,Sx=u):Jd=0,As(),null}function cl(){if(qo!==null){var u=zb(gm),d=Rn.transition,y=zt;try{if(Rn.transition=null,zt=16>u?16:u,qo===null)var M=!1;else{if(u=qo,qo=null,gm=0,Rt&6)throw Error(o(331));var T=Rt;for(Rt|=4,ke=u.current;ke!==null;){var R=ke,G=R.child;if(ke.flags&16){var J=R.deletions;if(J!==null){for(var de=0;de<J.length;de++){var Ce=J[de];for(ke=Ce;ke!==null;){var We=ke;switch(We.tag){case 0:case 11:case 15:ol(8,We,R)}var xt=We.child;if(xt!==null)xt.return=We,ke=xt;else for(;ke!==null;){We=ke;var st=We.sibling,Kt=We.return;if(WT(We),We===Ce){ke=null;break}if(st!==null){st.return=Kt,ke=st;break}ke=Kt}}}var et=R.alternate;if(et!==null){var vi=et.child;if(vi!==null){et.child=null;do{var Fr=vi.sibling;vi.sibling=null,vi=Fr}while(vi!==null)}}ke=R}}if(R.subtreeFlags&2064&&G!==null)G.return=R,ke=G;else e:for(;ke!==null;){if(R=ke,R.flags&2048)switch(R.tag){case 0:case 11:case 15:ol(9,R,R.return)}var oe=R.sibling;if(oe!==null){oe.return=R.return,ke=oe;break e}ke=R.return}}var te=u.current;for(ke=te;ke!==null;){G=ke;var ue=G.child;if(G.subtreeFlags&2064&&ue!==null)ue.return=G,ke=ue;else e:for(G=te;ke!==null;){if(J=ke,J.flags&2048)try{switch(J.tag){case 0:case 11:case 15:qd(9,J)}}catch(Ze){Zi(J,J.return,Ze)}if(J===G){ke=null;break e}var Ue=J.sibling;if(Ue!==null){Ue.return=J.return,ke=Ue;break e}ke=J.return}}if(Rt=T,As(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(Dp,u)}catch{}M=!0}return M}finally{zt=y,Rn.transition=d}}return!1}function lA(u,d,y){d=nx(y,d),d=ST(u,d,1),$o(u,d),d=Di(),u=xm(u,1),u!==null&&(Od(u,1,d),Ki(u,d))}function Zi(u,d,y){if(u.tag===3)lA(u,u,y);else for(;d!==null;){if(d.tag===3){lA(d,u,y);break}else if(d.tag===1){var M=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Yo===null||!Yo.has(M))){u=nx(y,u),u=MT(d,u,1),$o(d,u),u=Di(),d=xm(d,1),d!==null&&(Od(d,1,u),Ki(d,u));break}}d=d.return}}function _4(u,d,y){var M=u.pingCache;M!==null&&M.delete(d),d=Di(),u.pingedLanes|=u.suspendedLanes&y,Un===u&&(ci&y)===y&&(jn===4||jn===3&&(ci&130023424)===ci&&500>Qn()-xx?al(u,0):yx|=y),Ki(u,d)}function cA(u,d){d===0&&(u.mode&1?(d=Lp,Lp<<=1,!(Lp&130023424)&&(Lp=4194304)):d=1);var y=Di();u=xm(u,d),u!==null&&(Od(u,d,y),Ki(u,y))}function w4(u){var d=u.memoizedState,y=0;d!==null&&(y=d.retryLane),cA(u,y)}function S4(u,d){var y=0;switch(u.tag){case 13:var M=u.stateNode,T=u.memoizedState;T!==null&&(y=T.retryLane);break;case 19:M=u.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(d),cA(u,y)}var uA;uA=function(u,d,y){if(u!==null)if(u.memoizedProps!==d.pendingProps||wn.current)fr=!0;else{if(!(u.lanes&y)&&!(d.flags&128))return fr=!1,c4(u,d,y);fr=!!(u.flags&131072)}else fr=!1,cn&&d.flags&1048576&&Kb(d,jp,d.index);switch(d.lanes=0,d.tag){case 2:var M=d.type;u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),u=d.pendingProps;var T=Rr(d,Pt.current);Ec(d,y),T=Z0(null,d,M,u,T,y);var R=Q0();return d.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Zn(M)?(R=!0,li(d)):R=!1,d.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,F0(d),T.updater=Vp,d.stateNode=T,T._reactInternals=d,B0(d,M,u,y),d=sx(null,d,M,!0,R,y)):(d.tag=0,cn&&R&&V0(d),Ii(null,d,T,y),d=d.child),d;case 16:M=d.elementType;e:{switch(u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),u=d.pendingProps,T=M._init,M=T(M._payload),d.type=M,T=d.tag=E4(M),u=qr(M,u),T){case 0:d=rx(null,d,M,u,y);break e;case 1:d=DT(null,d,M,u,y);break e;case 11:d=PT(null,d,M,u,y);break e;case 14:d=RT(null,d,M,qr(M.type,u),y);break e}throw Error(o(306,M,""))}return d;case 0:return M=d.type,T=d.pendingProps,T=d.elementType===M?T:qr(M,T),rx(u,d,M,T,y);case 1:return M=d.type,T=d.pendingProps,T=d.elementType===M?T:qr(M,T),DT(u,d,M,T,y);case 3:e:{if(kT(d),u===null)throw Error(o(387));M=d.pendingProps,R=d.memoizedState,T=R.element,jb(u,d),Bp(d,M,null,y);var G=d.memoizedState;if(M=G.element,we&&R.isDehydrated)if(R={element:M,isDehydrated:!1,cache:G.cache,transitions:G.transitions},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){T=Error(o(423)),d=OT(u,d,M,y,T);break e}else if(M!==T){T=Error(o(424)),d=OT(u,d,M,y,T);break e}else for(we&&(dr=Cp(d.stateNode.containerInfo),ur=d,cn=!0,Kr=null,Ud=!1),y=nT(d,null,M,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Ac(),M===T){d=ao(u,d,y);break e}Ii(u,d,M,y)}d=d.child}return d;case 5:return iT(d),u===null&&G0(d),M=d.type,T=d.pendingProps,R=u!==null?u.memoizedProps:null,G=T.children,me(M,T)?G=null:R!==null&&me(M,R)&&(d.flags|=32),IT(u,d),Ii(u,d,G,y),d.child;case 6:return u===null&&G0(d),null;case 13:return UT(u,d,y);case 4:return X0(d,d.stateNode.containerInfo),M=d.pendingProps,u===null?d.child=Cc(d,null,M,y):Ii(u,d,M,y),d.child;case 11:return M=d.type,T=d.pendingProps,T=d.elementType===M?T:qr(M,T),PT(u,d,M,T,y);case 7:return Ii(u,d,d.pendingProps,y),d.child;case 8:return Ii(u,d,d.pendingProps.children,y),d.child;case 12:return Ii(u,d,d.pendingProps.children,y),d.child;case 10:e:{if(M=d.type._context,T=d.pendingProps,R=d.memoizedProps,G=T.value,Hb(d,M,G),R!==null)if(Ts(R.value,G)){if(R.children===T.children&&!wn.current){d=ao(u,d,y);break e}}else for(R=d.child,R!==null&&(R.return=d);R!==null;){var J=R.dependencies;if(J!==null){G=R.child;for(var de=J.firstContext;de!==null;){if(de.context===M){if(R.tag===1){de=io(-1,y&-y),de.tag=2;var Ce=R.updateQueue;if(Ce!==null){Ce=Ce.shared;var We=Ce.pending;We===null?de.next=de:(de.next=We.next,We.next=de),Ce.pending=de}}R.lanes|=y,de=R.alternate,de!==null&&(de.lanes|=y),U0(R.return,y,d),J.lanes|=y;break}de=de.next}}else if(R.tag===10)G=R.type===d.type?null:R.child;else if(R.tag===18){if(G=R.return,G===null)throw Error(o(341));G.lanes|=y,J=G.alternate,J!==null&&(J.lanes|=y),U0(G,y,d),G=R.sibling}else G=R.child;if(G!==null)G.return=R;else for(G=R;G!==null;){if(G===d){G=null;break}if(R=G.sibling,R!==null){R.return=G.return,G=R;break}G=G.return}R=G}Ii(u,d,T.children,y),d=d.child}return d;case 9:return T=d.type,M=d.pendingProps.children,Ec(d,y),T=Nr(T),M=M(T),d.flags|=1,Ii(u,d,M,y),d.child;case 14:return M=d.type,T=qr(M,d.pendingProps),T=qr(M.type,T),RT(u,d,M,T,y);case 15:return NT(u,d,d.type,d.pendingProps,y);case 17:return M=d.type,T=d.pendingProps,T=d.elementType===M?T:qr(M,T),u!==null&&(u.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,Zn(M)?(u=!0,li(d)):u=!1,Ec(d,y),Yb(d,M,T),B0(d,M,T,y),sx(null,d,M,!0,u,y);case 19:return VT(u,d,y);case 22:return LT(u,d,y)}throw Error(o(156,d.tag))};function dA(u,d){return R0(u,d)}function M4(u,d,y,M){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(u,d,y,M){return new M4(u,d,y,M)}function Ax(u){return u=u.prototype,!(!u||!u.isReactComponent)}function E4(u){if(typeof u=="function")return Ax(u)?1:0;if(u!=null){if(u=u.$$typeof,u===_)return 11;if(u===w)return 14}return 2}function Qo(u,d){var y=u.alternate;return y===null?(y=Ur(u.tag,d,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=d,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,d=u.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function wm(u,d,y,M,T,R){var G=2;if(M=u,typeof u=="function")Ax(u)&&(G=1);else if(typeof u=="string")G=5;else e:switch(u){case f:return ul(y.children,T,R,d);case h:G=8,T|=8;break;case p:return u=Ur(12,y,d,T|2),u.elementType=p,u.lanes=R,u;case x:return u=Ur(13,y,d,T),u.elementType=x,u.lanes=R,u;case g:return u=Ur(19,y,d,T),u.elementType=g,u.lanes=R,u;case b:return Sm(y,T,R,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:G=10;break e;case v:G=9;break e;case _:G=11;break e;case w:G=14;break e;case S:G=16,M=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return d=Ur(G,y,d,T),d.elementType=u,d.type=M,d.lanes=R,d}function ul(u,d,y,M){return u=Ur(7,u,M,d),u.lanes=y,u}function Sm(u,d,y,M){return u=Ur(22,u,M,d),u.elementType=b,u.lanes=y,u.stateNode={},u}function Cx(u,d,y){return u=Ur(6,u,null,d),u.lanes=y,u}function Px(u,d,y){return d=Ur(4,u.children!==null?u.children:[],u.key,d),d.lanes=y,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function b4(u,d,y,M,T){this.tag=d,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=nt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=C0(0),this.expirationTimes=C0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=C0(0),this.identifierPrefix=M,this.onRecoverableError=T,we&&(this.mutableSourceEagerHydrationData=null)}function fA(u,d,y,M,T,R,G,J,de){return u=new b4(u,d,y,J,de),d===1?(d=1,R===!0&&(d|=8)):d=0,R=Ur(3,null,null,d),u.current=R,R.stateNode=u,R.memoizedState={element:M,isDehydrated:y,cache:null,transitions:null},F0(R),u}function hA(u){if(!u)return Pr;u=u._reactInternals;e:{if(L(u)!==u||u.tag!==1)throw Error(o(170));var d=u;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Zn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(u.tag===1){var y=u.type;if(Zn(y))return wc(u,y,d)}return d}function pA(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=W(d),u===null?null:u.stateNode}function mA(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<d?y:d}}function Rx(u,d){mA(u,d),(u=u.alternate)&&mA(u,d)}function T4(u){return u=W(u),u===null?null:u.stateNode}function A4(){return null}return n.attemptContinuousHydration=function(u){if(u.tag===13){var d=Di();Or(u,134217728,d),Rx(u,134217728)}},n.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var d=Di(),y=Ko(u);Or(u,y,d),Rx(u,y)}},n.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var d=u.stateNode;if(d.current.memoizedState.isDehydrated){var y=kd(d.pendingLanes);y!==0&&(P0(d,y|1),Ki(d,Qn()),!(Rt&6)&&(Dc(),As()))}break;case 13:var M=Di();iA(function(){return Or(u,1,M)}),Rx(u,1)}},n.batchedUpdates=function(u,d){var y=Rt;Rt|=1;try{return u(d)}finally{Rt=y,Rt===0&&(Dc(),kp&&As())}},n.createComponentSelector=function(u){return{$$typeof:am,value:u}},n.createContainer=function(u,d,y,M,T,R,G){return fA(u,d,!1,null,y,M,T,R,G)},n.createHasPseudoClassSelector=function(u){return{$$typeof:lm,value:u}},n.createHydrationContainer=function(u,d,y,M,T,R,G,J,de){return u=fA(y,M,!0,u,T,R,G,J,de),u.context=hA(null),y=u.current,M=Di(),T=Ko(y),R=io(M,T),R.callback=d??null,$o(y,R),u.current.lanes=T,Od(u,T,M),Ki(u,M),u},n.createPortal=function(u,d,y){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:u,containerInfo:d,implementation:y}},n.createRoleSelector=function(u){return{$$typeof:cm,value:u}},n.createTestNameSelector=function(u){return{$$typeof:um,value:u}},n.createTextSelector=function(u){return{$$typeof:dm,value:u}},n.deferredUpdates=function(u){var d=zt,y=Rn.transition;try{return Rn.transition=null,zt=16,u()}finally{zt=d,Rn.transition=y}},n.discreteUpdates=function(u,d,y,M,T){var R=zt,G=Rn.transition;try{return Rn.transition=null,zt=1,u(d,y,M,T)}finally{zt=R,Rn.transition=G,Rt===0&&Dc()}},n.findAllNodes=gx,n.findBoundingRects=function(u,d){if(!O)throw Error(o(363));d=gx(u,d),u=[];for(var y=0;y<d.length;y++)u.push(Se(d[y]));for(d=u.length-1;0<d;d--){y=u[d];for(var M=y.x,T=M+y.width,R=y.y,G=R+y.height,J=d-1;0<=J;J--)if(d!==J){var de=u[J],Ce=de.x,We=Ce+de.width,xt=de.y,st=xt+de.height;if(M>=Ce&&R>=xt&&T<=We&&G<=st){u.splice(d,1);break}else if(M!==Ce||y.width!==de.width||st<R||xt>G){if(!(R!==xt||y.height!==de.height||We<M||Ce>T)){Ce>M&&(de.width+=Ce-M,de.x=M),We<T&&(de.width=T-Ce),u.splice(d,1);break}}else{xt>R&&(de.height+=xt-R,de.y=R),st<G&&(de.height=G-xt),u.splice(d,1);break}}}return u},n.findHostInstance=pA,n.findHostInstanceWithNoPortals=function(u){return u=j(u),u=u!==null?B(u):null,u===null?null:u.stateNode},n.findHostInstanceWithWarning=function(u){return pA(u)},n.flushControlled=function(u){var d=Rt;Rt|=1;var y=Rn.transition,M=zt;try{Rn.transition=null,zt=1,u()}finally{zt=M,Rn.transition=y,Rt=d,Rt===0&&(Dc(),As())}},n.flushPassiveEffects=cl,n.flushSync=iA,n.focusWithin=function(u,d){if(!O)throw Error(o(363));for(u=hx(u),d=eA(u,d),d=Array.from(d),u=0;u<d.length;){var y=d[u++];if(!xe(y)){if(y.tag===5&&Ae(y.stateNode))return!0;for(y=y.child;y!==null;)d.push(y),y=y.sibling}}return!1},n.getCurrentUpdatePriority=function(){return zt},n.getFindAllNodesFailureDescription=function(u,d){if(!O)throw Error(o(363));var y=0,M=[];u=[hx(u),0];for(var T=0;T<u.length;){var R=u[T++],G=u[T++],J=d[G];if((R.tag!==5||!xe(R))&&(px(R,J)&&(M.push(mx(J)),G++,G>y&&(y=G)),G<d.length))for(R=R.child;R!==null;)u.push(R,G),R=R.sibling}if(y<d.length){for(u=[];y<d.length;y++)u.push(mx(d[y]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},n.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return Z(u.child.stateNode);default:return u.child.stateNode}},n.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:T4,findFiberByHostInstance:u.findFiberByHostInstance||A4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)u=!0;else{try{Dp=d.inject(u),bs=d}catch{}u=!!d.checkDCE}}return u},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(u,d,y,M){if(!O)throw Error(o(363));u=gx(u,d);var T=Oe(u,y,M).disconnect;return{disconnect:function(){T()}}},n.registerMutableSourceForHydration=function(u,d){var y=d._getVersion;y=y(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,y]:u.mutableSourceEagerHydrationData.push(d,y)},n.runWithPriority=function(u,d){var y=zt;try{return zt=u,d()}finally{zt=y}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(u,d,y,M){var T=d.current,R=Di(),G=Ko(T);return y=hA(y),d.context===null?d.context=y:d.pendingContext=y,d=io(R,G),d.payload={element:u},M=M===void 0?null:M,M!==null&&(d.callback=M),$o(T,d),u=Or(T,G,R),u!==null&&zp(u,T,G),G},n};sU.exports=IK;var DK=sU.exports;const kK=HS(DK);var oU={exports:{}},aU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,U){var V=D.length;D.push(U);e:for(;0<V;){var $=V-1>>>1,Q=D[$];if(0<r(Q,U))D[$]=U,D[V]=Q,V=$;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var U=D[0],V=D.pop();if(V!==U){D[0]=V;e:for(var $=0,Q=D.length,q=Q>>>1;$<q;){var se=2*($+1)-1,me=D[se],Te=se+1,ge=D[Te];if(0>r(me,V))Te<Q&&0>r(ge,me)?(D[$]=ge,D[Te]=V,$=Te):(D[$]=me,D[se]=V,$=se);else if(Te<Q&&0>r(ge,V))D[$]=ge,D[Te]=V,$=Te;else break e}}return U}function r(D,U){var V=D.sortIndex-U.sortIndex;return V!==0?V:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,p=3,m=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var U=n(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=D)i(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function b(D){if(_=!1,S(D),!v)if(n(l)!==null)v=!0,Z(A);else{var U=n(c);U!==null&&ee(b,U.startTime-D)}}function A(D,U){v=!1,_&&(_=!1,g(k),k=-1),m=!0;var V=p;try{for(S(U),h=n(l);h!==null&&(!(h.expirationTime>U)||D&&!j());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var Q=$(h.expirationTime<=U);U=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===n(l)&&i(l),S(U)}else i(l);h=n(l)}if(h!==null)var q=!0;else{var se=n(c);se!==null&&ee(b,se.startTime-U),q=!1}return q}finally{h=null,p=V,m=!1}}var C=!1,N=null,k=-1,L=5,I=-1;function j(){return!(t.unstable_now()-I<L)}function W(){if(N!==null){var D=t.unstable_now();I=D;var U=!0;try{U=N(!0,D)}finally{U?re():(C=!1,N=null)}}else C=!1}var re;if(typeof w=="function")re=function(){w(W)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=W,re=function(){K.postMessage(null)}}else re=function(){x(W,0)};function Z(D){N=D,C||(C=!0,re())}function ee(D,U){k=x(function(){D(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Z(A))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var V=p;p=U;try{return D()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=p;p=D;try{return U()}finally{p=V}},t.unstable_scheduleCallback=function(D,U,V){var $=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?$+V:$):V=$,D){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=V+Q,D={id:f++,callback:U,priorityLevel:D,startTime:V,expirationTime:Q,sortIndex:-1},V>$?(D.sortIndex=V,e(c,D),n(l)===null&&D===n(c)&&(_?(g(k),k=-1):_=!0,ee(b,V-$))):(D.sortIndex=Q,e(l,D),v||m||(v=!0,Z(A))),D},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(D){var U=p;return function(){var V=p;p=U;try{return D.apply(this,arguments)}finally{p=V}}}})(aU);oU.exports=aU;var H2=oU.exports;const KE={},OK=t=>void Object.assign(KE,t);function UK(t,e){function n(f,{args:h=[],attach:p,...m},v){let _=`${f[0].toUpperCase()}${f.slice(1)}`,x;if(f==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=lu(g,{type:f,root:v,attach:p,primitive:!0})}else{const g=KE[_];if(!g)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=lu(new g(...h),{type:f,root:v,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),_!=="inject"&&e1(x,m),x}function i(f,h){let p=!1;if(h){var m,v;(m=h.__r3f)!=null&&m.attach?J_(f,h,h.__r3f.attach):h.isObject3D&&f.isObject3D&&(f.add(h),p=!0),p||(v=f.__r3f)==null||v.objects.push(h),h.__r3f||lu(h,{}),h.__r3f.parent=f,MS(h),cu(h)}}function r(f,h,p){let m=!1;if(h){var v,_;if((v=h.__r3f)!=null&&v.attach)J_(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){h.parent=f,h.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:h});const x=f.children.filter(w=>w!==h),g=x.indexOf(p);f.children=[...x.slice(0,g),h,...x.slice(g)],m=!0}m||(_=f.__r3f)==null||_.objects.push(h),h.__r3f||lu(h,{}),h.__r3f.parent=f,MS(h),cu(h)}}function s(f,h,p=!1){f&&[...f].forEach(m=>o(h,m,p))}function o(f,h,p){if(h){var m,v,_;if(h.__r3f&&(h.__r3f.parent=null),(m=f.__r3f)!=null&&m.objects&&(f.__r3f.objects=f.__r3f.objects.filter(b=>b!==h)),(v=h.__r3f)!=null&&v.attach)$2(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){var x;f.remove(h),(x=h.__r3f)!=null&&x.root&&WK(mv(h),h)}const w=(_=h.__r3f)==null?void 0:_.primitive,S=!w&&(p===void 0?h.dispose!==null:p);if(!w){var g;s((g=h.__r3f)==null?void 0:g.objects,h,S),s(h.children,h,S)}if(delete h.__r3f,S&&h.dispose&&h.type!=="Scene"){const b=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?H2.unstable_scheduleCallback(H2.unstable_IdlePriority,b):b()}cu(f)}}function a(f,h,p,m){var v;const _=(v=f.__r3f)==null?void 0:v.parent;if(!_)return;const x=n(h,p,f.__r3f.root);if(f.children){for(const g of f.children)g.__r3f&&i(x,g);f.children=f.children.filter(g=>!g.__r3f)}f.__r3f.objects.forEach(g=>i(x,g)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(_,f),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(_,x),x.raycast&&x.__r3f.eventCount&&mv(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>{};return{reconciler:kK({createInstance:n,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,h)=>{if(!h)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,i(p,h))},removeChildFromContainer:(f,h)=>{h&&o(f.getState().scene,h)},insertInContainerBefore:(f,h,p)=>{if(!h||!p)return;const m=f.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var h;return!!((h=f==null?void 0:f.__r3f)!=null?h:{}).handlers},prepareUpdate(f,h,p,m){var v;if(((v=f==null?void 0:f.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==f)return[!0];{const{args:x=[],children:g,...w}=m,{args:S=[],children:b,...A}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((N,k)=>N!==S[k]))return[!0];const C=pU(f,w,A,!0);return C.changes.length?[!1,C]:null}},commitUpdate(f,[h,p],m,v,_,x){h?a(f,m,_,x):e1(f,p)},commitMount(f,h,p,m){var v;const _=(v=f.__r3f)!=null?v:{};f.raycast&&_.handlers&&_.eventCount&&mv(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>lu(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var h;const{attach:p,parent:m}=(h=f.__r3f)!=null?h:{};p&&m&&$2(m,f,p),f.isObject3D&&(f.visible=!1),cu(f)},unhideInstance(f,h){var p;const{attach:m,parent:v}=(p=f.__r3f)!=null?p:{};m&&v&&J_(v,f,m),(f.isObject3D&&h.visible==null||h.visible)&&(f.visible=!0),cu(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Au.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&sn.fun(performance.now)?performance.now:sn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:sn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:sn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:e1}}var j2,G2;const Q_=t=>"colorSpace"in t||"outputColorSpace"in t,lU=()=>{var t;return(t=KE.ColorManagement)!=null?t:null},cU=t=>t&&t.isOrthographicCamera,FK=t=>t&&t.hasOwnProperty("current"),Mp=typeof window<"u"&&((j2=window.document)!=null&&j2.createElement||((G2=window.navigator)==null?void 0:G2.product)==="ReactNative")?P.useLayoutEffect:P.useEffect;function uU(t){const e=P.useRef(t);return Mp(()=>void(e.current=t),[t]),e}function zK({set:t}){return Mp(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class dU extends P.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}dU.getDerivedStateFromError=()=>({error:!0});const fU="__default",W2=new Map,BK=t=>t&&!!t.memoized&&!!t.changes;function hU(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Sf=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function mv(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const sn={obj:t=>t===Object(t)&&!sn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(sn.str(t)||sn.num(t)||sn.boo(t))return t===e;const s=sn.obj(t);if(s&&i==="reference")return t===e;const o=sn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&i==="shallow"){for(a in r?e:t)if(!sn.equ(t[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:t)if(t[a]!==e[a])return!1;if(sn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function VK(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function lu(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function SS(t,e){let n=t;if(e.includes("-")){const i=e.split("-"),r=i.pop();return n=i.reduce((s,o)=>s[o],t),{target:n,key:r}}else return{target:n,key:e}}const X2=/-\d+$/;function J_(t,e,n){if(sn.str(n)){if(X2.test(n)){const s=n.replace(X2,""),{target:o,key:a}=SS(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=SS(t,n);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=n(t,e)}function $2(t,e,n){var i,r;if(sn.str(n)){const{target:s,key:o}=SS(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(t,e);(r=e.__r3f)==null||delete r.previousAttach}function pU(t,{children:e,key:n,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){const f=t.__r3f,h=Object.entries(r),p=[];if(c){const v=Object.keys(l);for(let _=0;_<v.length;_++)r.hasOwnProperty(v[_])||h.unshift([v[_],fU+"remove"])}h.forEach(([v,_])=>{var x;if((x=t.__r3f)!=null&&x.primitive&&v==="object"||sn.equ(_,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,_,!0,[]]);let g=[];v.includes("-")&&(g=v.split("-")),p.push([v,_,!1,g]);for(const w in r){const S=r[w];w.startsWith(`${v}-`)&&p.push([w,S,!1,w.split("-")])}});const m={...r};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(m.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(m.attach=f.memoizedProps.attach),{memoized:m,changes:p}}const HK=typeof process<"u"&&!1;function e1(t,e){var n;const i=t.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=BK(e)?e:pU(t,e),l=i==null?void 0:i.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[m,v,_,x]=a[p];if(Q_(t)){const b="srgb",A="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?b:A):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?b:A)}let g=t,w=g[m];if(x.length&&(w=x.reduce((S,b)=>S[b],t),!(w&&w.set))){const[S,...b]=x.reverse();g=b.reverse().reduce((A,C)=>A[C],t),m=S}if(v===fU+"remove")if(g.constructor){let S=W2.get(g.constructor);S||(S=new g.constructor,W2.set(g.constructor,S)),v=S[m]}else v=0;if(_&&i)v?i.handlers[m]=v:delete i.handlers[m],i.eventCount=Object.keys(i.handlers).length;else if(w&&w.set&&(w.copy||w instanceof ql)){if(Array.isArray(v))w.fromArray?w.fromArray(v):w.set(...v);else if(w.copy&&v&&v.constructor&&(HK?w.constructor.name===v.constructor.name:w.constructor===v.constructor))w.copy(v);else if(v!==void 0){var c;const S=(c=w)==null?void 0:c.isColor;!S&&w.setScalar?w.setScalar(v):w instanceof ql&&v instanceof ql?w.mask=v.mask:w.set(v),!lU()&&s&&!s.linear&&S&&w.convertSRGBToLinear()}}else{var f;if(g[m]=v,(f=g[m])!=null&&f.isTexture&&g[m].format===Bi&&g[m].type===Xs&&s){const S=g[m];Q_(S)&&Q_(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}}cu(t)}if(i&&i.parent&&t.raycast&&l!==i.eventCount){const p=mv(t).getState().internal,m=p.interaction.indexOf(t);m>-1&&p.interaction.splice(m,1),i.eventCount&&p.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&MS(t),t}function cu(t){var e,n;const i=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();i&&i.internal.frames===0&&i.invalidate()}function MS(t){t.onUpdate==null||t.onUpdate(t)}function jK(t,e){t.manual||(cU(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Fg(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function GK(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Au.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Au.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Au.ContinuousEventPriority;default:return Au.DefaultEventPriority}}function mU(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function WK(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{mU(n.capturedMap,e,i,r)})}function XK(t){function e(l){const{internal:c}=t.getState(),f=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+h*h))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+f]}))}function i(l,c){const f=t.getState(),h=new Set,p=[],m=c?c(f.internal.interaction):f.internal.interaction;for(let g=0;g<m.length;g++){const w=Sf(m[g]);w&&(w.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function v(g){const w=Sf(g);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var S;w.events.compute==null||w.events.compute(l,w,(S=w.previousRoot)==null?void 0:S.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(g,!0):[]}let _=m.flatMap(v).sort((g,w)=>{const S=Sf(g.object),b=Sf(w.object);return!S||!b?g.distance-w.distance:b.events.priority-S.events.priority||g.distance-w.distance}).filter(g=>{const w=Fg(g);return h.has(w)?!1:(h.add(w),!0)});f.events.filter&&(_=f.events.filter(_,f));for(const g of _){let w=g.object;for(;w;){var x;(x=w.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:w}),w=w.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let g of f.internal.capturedMap.get(l.pointerId).values())h.has(Fg(g.intersection))||p.push(g.intersection);return p}function r(l,c,f,h){const p=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const _=Sf(v.object)||p,{raycaster:x,pointer:g,camera:w,internal:S}=_,b=new H(g.x,g.y,0).unproject(w),A=I=>{var j,W;return(j=(W=S.capturedMap.get(I))==null?void 0:W.has(v.eventObject))!=null?j:!1},C=I=>{const j={intersection:v,target:c.target};S.capturedMap.has(I)?S.capturedMap.get(I).set(v.eventObject,j):S.capturedMap.set(I,new Map([[v.eventObject,j]])),c.target.setPointerCapture(I)},N=I=>{const j=S.capturedMap.get(I);j&&mU(S.capturedMap,v.eventObject,j,I)};let k={};for(let I in c){let j=c[I];typeof j!="function"&&(k[I]=j)}let L={...v,...k,pointer:g,intersections:l,stopped:m.stopped,delta:f,unprojectedPoint:b,ray:x.ray,camera:w,stopPropagation(){const I="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!I||I.has(v.eventObject))&&(L.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(j=>j.eventObject===v.eventObject))){const j=l.slice(0,l.indexOf(v));s([...j,v])}},target:{hasPointerCapture:A,setPointerCapture:C,releasePointerCapture:N},currentTarget:{hasPointerCapture:A,setPointerCapture:C,releasePointerCapture:N},nativeEvent:c};if(h(L),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const f of c.hovered.values())if(!l.length||!l.find(h=>h.object===f.object&&h.index===f.index&&h.instanceId===f.instanceId)){const p=f.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Fg(f)),p!=null&&p.eventCount){const v={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let f=0;f<c.length;f++){const h=c[f].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:f}=t.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),s([]))})}}return function(f){const{onPointerMissed:h,internal:p}=t.getState();p.lastEvent.current=f;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(f,m?n:void 0),g=v?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=x.map(S=>S.eventObject)),v&&!x.length&&g<=2&&(o(f,p.interaction),h&&h(f)),m&&s(x);function w(S){const b=S.eventObject,A=b.__r3f,C=A==null?void 0:A.handlers;if(A!=null&&A.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const N=Fg(S),k=p.hovered.get(N);k?k.stopped&&S.stopPropagation():(p.hovered.set(N,S),C.onPointerOver==null||C.onPointerOver(S),C.onPointerEnter==null||C.onPointerEnter(S))}C.onPointerMove==null||C.onPointerMove(S)}else{const N=C[l];N?(!v||p.initialHits.includes(b))&&(o(f,p.interaction.filter(k=>!p.initialHits.includes(k))),N(S)):v&&p.initialHits.includes(b)&&o(f,p.interaction.filter(k=>!p.initialHits.includes(k)))}}r(x,f,g,w)}}return{handlePointer:a}}const gU=t=>!!(t!=null&&t.render),vU=P.createContext(null),$K=(t,e)=>{const n=RK((a,l)=>{const c=new H,f=new H,h=new H;function p(g=l().camera,w=f,S=l().size){const{width:b,height:A,top:C,left:N}=S,k=b/A;w.isVector3?h.copy(w):h.set(...w);const L=g.getWorldPosition(c).distanceTo(h);if(cU(g))return{width:b/g.zoom,height:A/g.zoom,top:C,left:N,factor:1,distance:L,aspect:k};{const I=g.fov*Math.PI/180,j=2*Math.tan(I/2)*L,W=j*(b/A);return{width:W,height:j,top:C,left:N,factor:b/W,distance:L,aspect:k}}}let m;const v=g=>a(w=>({performance:{...w.performance,current:g}})),_=new ve;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,w)=>e(g,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new XE,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(w=>({...w,events:{...w.events,...g}})),setSize:(g,w,S,b,A)=>{const C=l().camera,N={width:g,height:w,top:b||0,left:A||0,updateStyle:S};a(k=>({size:N,viewport:{...k.viewport,...p(C,f,N)}}))},setDpr:g=>a(w=>{const S=hU(g);return{viewport:{...w.viewport,dpr:S,initialDpr:w.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,g!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:P.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,w,S)=>{const b=l().internal;return b.priority=b.priority+(w>0?1:0),b.subscribers.push({ref:g,priority:w,store:S}),b.subscribers=b.subscribers.sort((A,C)=>A.priority-C.priority),()=>{const A=l().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(w>0?1:0),A.subscribers=A.subscribers.filter(C=>C.ref!==g))}}}}}),i=n.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:f,set:h}=n.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==s){var p;r=l,s=c.dpr,jK(a,l),f.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let zg,YK=new Set,qK=new Set,KK=new Set;function t1(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Mf(t,e){switch(t){case"before":return t1(YK,e);case"after":return t1(qK,e);case"tail":return t1(KK,e)}}let n1,i1;function r1(t,e,n){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),n1=e.internal.subscribers,zg=0;zg<n1.length;zg++)i1=n1[zg],i1.ref.current(i1.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function ZK(t){let e=!1,n=!1,i,r,s;function o(c){r=requestAnimationFrame(o),e=!0,i=0,Mf("before",c),n=!0;for(const h of t.values()){var f;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(i+=r1(c,s))}if(n=!1,Mf("after",c),i===0)return Mf("tail",c),e=!1,cancelAnimationFrame(r)}function a(c,f=1){var h;if(!c)return t.forEach(p=>a(p.store.getState(),f));(h=c.gl.xr)!=null&&h.isPresenting||!c.internal.active||c.frameloop==="never"||(f>1?c.internal.frames=Math.min(60,c.internal.frames+f):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,f=!0,h,p){if(f&&Mf("before",c),h)r1(c,h,p);else for(const m of t.values())r1(c,m.store.getState());f&&Mf("after",c)}return{loop:o,invalidate:a,advance:l}}function yU(){const t=P.useContext(vU);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Nd(t=n=>n,e){return yU()(t,e)}function Go(t,e=0){const n=yU(),i=n.getState().internal.subscribe,r=uU(t);return Mp(()=>i(r,e,n),[e,i,n]),null}const fd=new Map,{invalidate:Y2,advance:q2}=ZK(fd),{reconciler:sy,applyProps:iu}=UK(fd,GK),ru={objects:"shallow",strict:!1},QK=(t,e)=>{const n=typeof t=="function"?t(e):t;return gU(n)?n:new CE({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function JK(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=n}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:i,height:r,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function eZ(t){const e=fd.get(t),n=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||$K(Y2,q2),o=n||sy.createContainer(s,Au.ConcurrentRoot,null,!1,null,"",r,null);e||fd.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(f={}){let{gl:h,size:p,scene:m,events:v,onCreated:_,shadows:x=!1,linear:g=!1,flat:w=!1,legacy:S=!1,orthographic:b=!1,frameloop:A="always",dpr:C=[1,2],performance:N,raycaster:k,camera:L,onPointerMissed:I}=f,j=s.getState(),W=j.gl;j.gl||j.set({gl:W=QK(h,t)});let re=j.raycaster;re||j.set({raycaster:re=new nU});const{params:B,...K}=k||{};if(sn.equ(K,re,ru)||iu(re,{...K}),sn.equ(B,re.params,ru)||iu(re,{params:{...re.params,...B}}),!j.camera||j.camera===c&&!sn.equ(c,L,ru)){c=L;const V=L instanceof pp,$=V?L:b?new yp(0,0,0,0,.1,1e3):new ii(75,0,.1,1e3);V||($.position.z=5,L&&(iu($,L),("aspect"in L||"left"in L||"right"in L||"bottom"in L||"top"in L)&&($.manual=!0,$.updateProjectionMatrix())),!j.camera&&!(L!=null&&L.rotation)&&$.lookAt(0,0,0)),j.set({camera:$}),re.camera=$}if(!j.scene){let V;m!=null&&m.isScene?V=m:(V=new PE,m&&iu(V,m)),j.set({scene:lu(V)})}if(!j.xr){var Z;const V=(q,se)=>{const me=s.getState();me.frameloop!=="never"&&q2(q,!0,me,se)},$=()=>{const q=s.getState();q.gl.xr.enabled=q.gl.xr.isPresenting,q.gl.xr.setAnimationLoop(q.gl.xr.isPresenting?V:null),q.gl.xr.isPresenting||Y2(q)},Q={connect(){const q=s.getState().gl;q.xr.addEventListener("sessionstart",$),q.xr.addEventListener("sessionend",$)},disconnect(){const q=s.getState().gl;q.xr.removeEventListener("sessionstart",$),q.xr.removeEventListener("sessionend",$)}};typeof((Z=W.xr)==null?void 0:Z.addEventListener)=="function"&&Q.connect(),j.set({xr:Q})}if(W.shadowMap){const V=W.shadowMap.enabled,$=W.shadowMap.type;if(W.shadowMap.enabled=!!x,sn.boo(x))W.shadowMap.type=Gf;else if(sn.str(x)){var ee;const Q={basic:qD,percentage:jy,soft:Gf,variance:ss};W.shadowMap.type=(ee=Q[x])!=null?ee:Gf}else sn.obj(x)&&Object.assign(W.shadowMap,x);(V!==W.shadowMap.enabled||$!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}const D=lU();D&&("enabled"in D?D.enabled=!S:"legacyMode"in D&&(D.legacyMode=S)),l||iu(W,{outputEncoding:g?3e3:3001,toneMapping:w?Ws:aE}),j.legacy!==S&&j.set(()=>({legacy:S})),j.linear!==g&&j.set(()=>({linear:g})),j.flat!==w&&j.set(()=>({flat:w})),h&&!sn.fun(h)&&!gU(h)&&!sn.equ(h,W,ru)&&iu(W,h),v&&!j.events.handlers&&j.set({events:v(s)});const U=JK(t,p);return sn.equ(U,j.size,ru)||j.setSize(U.width,U.height,U.updateStyle,U.top,U.left),C&&j.viewport.dpr!==hU(C)&&j.setDpr(C),j.frameloop!==A&&j.setFrameloop(A),j.onPointerMissed||j.set({onPointerMissed:I}),N&&!sn.equ(N,j.performance,ru)&&j.set(V=>({performance:{...V.performance,...N}})),a=_,l=!0,this},render(f){return l||this.configure(),sy.updateContainer(E.jsx(tZ,{store:s,children:f,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){xU(t)}}}function tZ({store:t,children:e,onCreated:n,rootElement:i}){return Mp(()=>{const r=t.getState();r.set(s=>({internal:{...s.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),E.jsx(vU.Provider,{value:t,children:e})}function xU(t,e){const n=fd.get(t),i=n==null?void 0:n.fiber;if(i){const r=n==null?void 0:n.store.getState();r&&(r.internal.active=!1),sy.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),VK(r),fd.delete(t)}catch{}},500)})}}sy.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:P.version});const s1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function nZ(t){const{handlePointer:e}=XK(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(s1).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{var i;const{set:r,events:s}=t.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:n}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=s1[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=s1[s];i.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function K2(t,e){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...i),e)}}function iZ({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=P.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=P.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,f=P.useRef(!1);P.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,p,m]=P.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:w,top:S,width:b,height:A,bottom:C,right:N,x:k,y:L}=a.current.element.getBoundingClientRect(),I={left:w,top:S,width:b,height:A,bottom:C,right:N,x:k,y:L};a.current.element instanceof HTMLElement&&i&&(I.height=a.current.element.offsetHeight,I.width=a.current.element.offsetWidth),Object.freeze(I),f.current&&!aZ(a.current.lastBounds,I)&&o(a.current.lastBounds=I)};return[g,c?K2(g,c):g,l?K2(g,l):g]},[o,i,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function _(){a.current.element&&(a.current.resizeObserver=new r(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const x=g=>{!g||g===a.current.element||(v(),a.current.element=g,a.current.scrollContainers=_U(g),_())};return sZ(m,!!e),rZ(p),P.useEffect(()=>{v(),_()},[e,m,p]),P.useEffect(()=>v,[]),[x,s,h]}function rZ(t){P.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function sZ(t,e){P.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function _U(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,..._U(t.parentElement)]}const oZ=["x","y","top","bottom","left","right","width","height"],aZ=(t,e)=>oZ.every(n=>t[n]===e[n]);var lZ=Object.defineProperty,cZ=Object.defineProperties,uZ=Object.getOwnPropertyDescriptors,Z2=Object.getOwnPropertySymbols,dZ=Object.prototype.hasOwnProperty,fZ=Object.prototype.propertyIsEnumerable,Q2=(t,e,n)=>e in t?lZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J2=(t,e)=>{for(var n in e||(e={}))dZ.call(e,n)&&Q2(t,n,e[n]);if(Z2)for(var n of Z2(e))fZ.call(e,n)&&Q2(t,n,e[n]);return t},hZ=(t,e)=>cZ(t,uZ(e)),eR,tR;typeof window<"u"&&((eR=window.document)!=null&&eR.createElement||((tR=window.navigator)==null?void 0:tR.product)==="ReactNative")?P.useLayoutEffect:P.useEffect;function wU(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=t.child;for(;i;){const r=wU(i,e,n);if(r)return r;i=i.sibling}}function SU(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const nR=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=nR;return}return nR.apply(this,arguments)};const ZE=SU(P.createContext(null));class MU extends P.Component{render(){return P.createElement(ZE.Provider,{value:this._reactInternals},this.props.children)}}function pZ(){const t=P.useContext(ZE);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=P.useId();return P.useMemo(()=>{for(const i of[t,t==null?void 0:t.alternate]){if(!i)continue;const r=wU(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[t,e])}function mZ(){const t=pZ(),[e]=P.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const r=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;r&&r!==ZE&&!e.has(r)&&e.set(r,P.useContext(SU(r)))}n=n.return}return e}function gZ(){const t=mZ();return P.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>P.createElement(e,null,P.createElement(n.Provider,hZ(J2({},i),{value:t.get(n)}))),e=>P.createElement(MU,J2({},e))),[t])}const vZ=P.forwardRef(function({children:e,fallback:n,resize:i,style:r,gl:s,events:o=nZ,eventSource:a,eventPrefix:l,shadows:c,linear:f,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:_,performance:x,raycaster:g,camera:w,scene:S,onPointerMissed:b,onCreated:A,...C},N){P.useMemo(()=>OK(AK),[]);const k=gZ(),[L,I]=iZ({scroll:!0,debounce:{scroll:50,resize:0},...i}),j=P.useRef(null),W=P.useRef(null);P.useImperativeHandle(N,()=>j.current);const re=uU(b),[B,K]=P.useState(!1),[Z,ee]=P.useState(!1);if(B)throw B;if(Z)throw Z;const D=P.useRef(null);Mp(()=>{const V=j.current;I.width>0&&I.height>0&&V&&(D.current||(D.current=eZ(V)),D.current.configure({gl:s,events:o,shadows:c,linear:f,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:_,performance:x,raycaster:g,camera:w,scene:S,size:I,onPointerMissed:(...$)=>re.current==null?void 0:re.current(...$),onCreated:$=>{$.events.connect==null||$.events.connect(a?FK(a)?a.current:a:W.current),l&&$.setEvents({compute:(Q,q)=>{const se=Q[l+"X"],me=Q[l+"Y"];q.pointer.set(se/q.size.width*2-1,-(me/q.size.height)*2+1),q.raycaster.setFromCamera(q.pointer,q.camera)}}),A==null||A($)}}),D.current.render(E.jsx(k,{children:E.jsx(dU,{set:ee,children:E.jsx(P.Suspense,{fallback:E.jsx(zK,{set:K}),children:e??null})})})))}),P.useEffect(()=>{const V=j.current;if(V)return()=>xU(V)},[]);const U=a?"none":"auto";return E.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:U,...r},...C,children:E.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:E.jsx("canvas",{ref:j,style:{display:"block"},children:n})})})}),yZ=P.forwardRef(function(e,n){return E.jsx(MU,{children:E.jsx(vZ,{...e,ref:n})})});function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bo.apply(null,arguments)}const xZ=()=>parseInt(up.replace(/\D+/g,"")),EU=xZ();var _Z=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class wZ extends zE{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${_Z}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const SZ=P.forwardRef(({speed:t=1,...e},n)=>{const[i]=P.useState(()=>new wZ);return Go(r=>i&&(i.time=r.clock.elapsedTime*t)),P.createElement("primitive",Bo({object:i,ref:n,attach:"material"},e))}),o1=EU>=154?"opaque_fragment":"output_fragment";class MZ extends e0{constructor(e){super(e),this.onBeforeCompile=(n,i)=>{const{isWebGL2:r}=i.capabilities;n.fragmentShader=n.fragmentShader.replace(`#include <${o1}>`,`
        ${r?`#include <${o1}>`:`#extension GL_OES_standard_derivatives : enable
#include <${o1}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${EU>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const EZ=P.forwardRef((t,e)=>{const[n]=P.useState(()=>new MZ(null));return P.createElement("primitive",Bo({},t,{object:n,ref:e,attach:"material"}))});function bZ(t,e){const n=t+"Geometry";return P.forwardRef(({args:i,children:r,...s},o)=>{const a=P.useRef(null);return P.useImperativeHandle(o,()=>a.current),P.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),P.createElement("mesh",Bo({ref:a},s),P.createElement(n,{attach:"geometry",args:i}),r)})}const TZ=bZ("sphere");let wl,Ef;const AZ=P.createContext(null),iR=new ht,rR=new H,CZ=P.forwardRef(({children:t,range:e,limit:n=1e3,...i},r)=>{const s=P.useRef(null);P.useImperativeHandle(r,()=>s.current,[]);const[o,a]=P.useState([]),[[l,c,f]]=P.useState(()=>[new Float32Array(n*3),Float32Array.from({length:n*3},()=>1),Float32Array.from({length:n},()=>1)]);P.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),Go(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),iR.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(n,e!==void 0?e:n,o.length),wl=0;wl<o.length;wl++)Ef=o[wl].current,Ef.getWorldPosition(rR).applyMatrix4(iR),rR.toArray(l,wl*3),s.current.geometry.attributes.position.needsUpdate=!0,Ef.matrixWorldNeedsUpdate=!0,Ef.color.toArray(c,wl*3),s.current.geometry.attributes.color.needsUpdate=!0,f.set([Ef.size],wl),s.current.geometry.attributes.size.needsUpdate=!0});const h=P.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(v=>v.current!==p.current)))}),[]);return P.createElement("points",Bo({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},i),P.createElement("bufferGeometry",null,P.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:$l}),P.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:$l}),P.createElement("bufferAttribute",{attach:"attributes-size",count:f.length,array:f,itemSize:1,usage:$l})),P.createElement(AZ.Provider,{value:h},t))}),PZ=P.forwardRef(({children:t,positions:e,colors:n,sizes:i,stride:r=3,...s},o)=>{const a=P.useRef(null);return P.useImperativeHandle(o,()=>a.current,[]),Go(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,n&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),P.createElement("points",Bo({ref:a},s),P.createElement("bufferGeometry",null,P.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:$l}),n&&P.createElement("bufferAttribute",{attach:"attributes-color",count:n.length/r,array:n,itemSize:3,usage:$l}),i&&P.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:$l})),t)}),RZ=P.forwardRef((t,e)=>t.positions instanceof Float32Array?P.createElement(PZ,Bo({},t,{ref:e})):P.createElement(CZ,Bo({},t,{ref:e})));function NZ(){const t=P.useRef(null),{mouse:e,viewport:n}=Nd(),i=4e3,r=P.useMemo(()=>{const s=new Float32Array(i*3);for(let o=0;o<i;o++)s[o*3]=(Math.random()-.5)*15,s[o*3+1]=(Math.random()-.5)*15,s[o*3+2]=(Math.random()-.5)*15;return s},[]);return Go(s=>{if(t.current){const o=s.clock.getElapsedTime();t.current.rotation.x=o*.05+e.y*.2,t.current.rotation.y=o*.075+e.x*.2;const a=t.current.geometry.attributes.position.array;for(let l=0;l<a.length;l+=3){const c=a[l],f=a[l+2],h=Math.sqrt(Math.pow(c-e.x*n.width/2,2)+Math.pow(f-e.y*n.height/2,2));a[l+1]=Math.sin(o*.5+c*.5-h*.1)*Math.cos(o*.5+f*.5)*.5}t.current.geometry.attributes.position.needsUpdate=!0}}),E.jsx(RZ,{ref:t,positions:r,stride:3,frustumCulled:!1,children:E.jsx(EZ,{transparent:!0,color:"#00ffff",size:.025,sizeAttenuation:!0,depthWrite:!1,opacity:.8,blending:od})})}function LZ(){const t=P.useMemo(()=>Array.from({length:5},(e,n)=>({position:[(Math.random()-.5)*8,(Math.random()-.5)*8,(Math.random()-.5)*8],speed:.3+Math.random()*.4,offset:Math.random()*Math.PI*2,color:n%2===0?"#00ffff":"#00ff88"})),[]);return E.jsx(E.Fragment,{children:t.map((e,n)=>E.jsx(IZ,{...e},n))})}function IZ({position:t,speed:e,offset:n,color:i}){const r=P.useRef(null),{mouse:s}=Nd();return Go(o=>{if(r.current){const a=o.clock.getElapsedTime();r.current.position.y=t[1]+Math.sin(a*e+n)*2,r.current.position.x=t[0]+Math.cos(a*e*.5+n)*1.5,r.current.position.x+=s.x*.5,r.current.position.y+=s.y*.5,r.current.rotation.x+=.01,r.current.rotation.y+=.01}}),E.jsx(TZ,{ref:r,position:t,args:[.15,32,32],children:E.jsx(SZ,{color:i,transparent:!0,opacity:.6,distort:.4,speed:2,roughness:0,blending:od})})}function DZ(){const t=P.useRef(null),{mouse:e}=Nd();return Go(n=>{if(t.current){const i=n.clock.getElapsedTime();t.current.rotation.x=i*.1+e.y*.3,t.current.rotation.y=i*.15+e.x*.3,t.current.rotation.z=i*.05}}),E.jsxs("mesh",{ref:t,position:[0,0,-5],children:[E.jsx("torusGeometry",{args:[3,.8,16,100]}),E.jsx("meshBasicMaterial",{color:"#00ffff",wireframe:!0,transparent:!0,opacity:.15})]})}function kZ(){const t=P.useRef(null),e=P.useRef(null),n=P.useRef(null),{mouse:i}=Nd();return Go(r=>{const s=r.clock.getElapsedTime();t.current&&(t.current.rotation.x=s*.2+i.y*.5,t.current.rotation.y=s*.3+i.x*.5),e.current&&(e.current.rotation.x=-s*.15+i.x*.3,e.current.rotation.y=s*.25-i.y*.3),n.current&&(n.current.rotation.x=s*.1-i.y*.4,n.current.rotation.y=-s*.2+i.x*.4)}),E.jsxs(E.Fragment,{children:[E.jsxs("mesh",{ref:t,position:[0,0,0],children:[E.jsx("torusGeometry",{args:[2,.02,16,100]}),E.jsx("meshBasicMaterial",{color:"#00ffff",transparent:!0,opacity:.4})]}),E.jsxs("mesh",{ref:e,position:[0,0,0],children:[E.jsx("torusGeometry",{args:[2.5,.02,16,100]}),E.jsx("meshBasicMaterial",{color:"#00ff88",transparent:!0,opacity:.3})]}),E.jsxs("mesh",{ref:n,position:[0,0,0],children:[E.jsx("torusGeometry",{args:[3,.02,16,100]}),E.jsx("meshBasicMaterial",{color:"#0088ff",transparent:!0,opacity:.2})]})]})}function OZ(){const t=P.useRef(null),{mouse:e}=Nd();return Go(n=>{if(t.current){const i=n.clock.getElapsedTime();t.current.position.y=-2+Math.sin(i*.5+e.x)*.2,t.current.rotation.z=e.x*.1}}),E.jsxs("mesh",{ref:t,rotation:[-Math.PI/2,0,0],position:[0,-2,0],children:[E.jsx("planeGeometry",{args:[20,20,20,20]}),E.jsx("meshBasicMaterial",{color:"#00ffff",wireframe:!0,transparent:!0,opacity:.15})]})}function UZ(){const t=P.useMemo(()=>Array.from({length:20},(e,n)=>({start:[(Math.random()-.5)*10,(Math.random()-.5)*10,(Math.random()-.5)*10],end:[(Math.random()-.5)*10,(Math.random()-.5)*10,(Math.random()-.5)*10],offset:Math.random()*Math.PI*2})),[]);return E.jsx(E.Fragment,{children:t.map((e,n)=>E.jsx(FZ,{...e},n))})}function FZ({start:t,end:e,offset:n}){const i=P.useRef(null),{mouse:r}=Nd(),s=P.useMemo(()=>[new H(t[0],t[1],t[2]),new H(e[0],e[1],e[2])],[t,e]),o=P.useMemo(()=>new Tt().setFromPoints(s),[s]);return Go(a=>{if(i.current){const l=a.clock.getElapsedTime();i.current.rotation.x=l*.1+n+r.y*.2,i.current.rotation.y=l*.15+n+r.x*.2}}),E.jsx("primitive",{object:new Fo(o,new Li({color:"#00ffff",transparent:!0,opacity:.3,blending:od})),ref:i})}const bU=()=>E.jsx("div",{className:"fixed inset-0 -z-10",children:E.jsxs(yZ,{camera:{position:[0,0,8],fov:75},gl:{antialias:!0,alpha:!0},children:[E.jsx("color",{attach:"background",args:["#0a0a0f"]}),E.jsx("ambientLight",{intensity:.3}),E.jsx("pointLight",{position:[10,10,10],intensity:1.5,color:"#00ffff"}),E.jsx("pointLight",{position:[-10,-10,-10],intensity:.8,color:"#00ff88"}),E.jsx("pointLight",{position:[0,10,-10],intensity:.6,color:"#ff00ff"}),E.jsx("fog",{attach:"fog",args:["#0a0a0f",5,30]}),E.jsx(NZ,{}),E.jsx(LZ,{}),E.jsx(kZ,{}),E.jsx(DZ,{}),E.jsx(UZ,{}),E.jsx(OZ,{})]})}),zZ=P3("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ft=P.forwardRef(({className:t,variant:e,size:n,asChild:i=!1,...r},s)=>{const o=i?lV:"button";return E.jsx(o,{className:Hn(zZ({variant:e,size:n,className:t})),ref:s,...r})});Ft.displayName="Button";const sR=[{label:"Home",href:"/#home"},{label:"Projects",href:"/#projects"},{label:"Sites",href:"/#sites"},{label:"Portfolios",href:"/#portfolios"},{label:"Tools",href:"/#tools"},{label:"Skills",href:"/#skills"},{label:"Certifications",href:"/#certifications"},{label:"Contact",href:"/#contact"}],el=()=>{const[t,e]=P.useState(!1),[n,i]=P.useState(!1);return P.useEffect(()=>{const r=()=>{i(window.scrollY>50)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),E.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${n?"bg-card/95 backdrop-blur-lg cyber-border border-b":"bg-transparent"}`,children:E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs("div",{className:"flex items-center justify-between h-16",children:[E.jsx("a",{href:"/",className:"text-2xl font-bold glow-text-cyan",children:"IP_RedTeam"}),E.jsx("div",{className:"hidden md:flex space-x-8",children:sR.map(r=>E.jsxs("a",{href:r.href,className:"text-foreground hover:text-primary transition-colors relative group",children:[r.label,E.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"})]},r.label))}),E.jsx(Ft,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>e(!t),children:t?E.jsx(WM,{}):E.jsx(sH,{})})]}),t&&E.jsx("div",{className:"md:hidden pb-4 animate-slide-in",children:sR.map(r=>E.jsx("a",{href:r.href,className:"block py-2 text-foreground hover:text-primary transition-colors",onClick:()=>e(!1),children:r.label},r.label))})]})})},TU=P.createContext({});function BZ(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const QE=P.createContext(null),AU=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function VZ(t=!0){const e=P.useContext(QE);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=P.useId();P.useEffect(()=>{t&&r(s)},[t]);const o=P.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const JE=typeof window<"u",HZ=JE?P.useLayoutEffect:P.useEffect,Mr=t=>t;let ES=Mr;function eb(t){let e;return()=>(e===void 0&&(e=t()),e)}const hd=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Ao=t=>t*1e3,Co=t=>t/1e3,jZ={skipAnimations:!1,useManualTiming:!1};function GZ(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,f=!1,h=!1)=>{const m=h&&i?e:n;return f&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(a),e.clear(),i=!1,r&&(r=!1,l.process(c))}};return l}const Bg=["read","resolveKeyframes","update","preRender","render","postRender"],WZ=40;function CU(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Bg.reduce((g,w)=>(g[w]=GZ(s),g),{}),{read:a,resolveKeyframes:l,update:c,preRender:f,render:h,postRender:p}=o,m=()=>{const g=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(g-r.timestamp,WZ),1),r.timestamp=g,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),f.process(r),h.process(r),p.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(m))},v=()=>{n=!0,i=!0,r.isProcessing||t(m)};return{schedule:Bg.reduce((g,w)=>{const S=o[w];return g[w]=(b,A=!1,C=!1)=>(n||v(),S.schedule(b,A,C)),g},{}),cancel:g=>{for(let w=0;w<Bg.length;w++)o[Bg[w]].cancel(g)},state:r,steps:o}}const{schedule:an,cancel:Wa,state:di,steps:a1}=CU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mr,!0),PU=P.createContext({strict:!1}),oR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pd={};for(const t in oR)pd[t]={isEnabled:e=>oR[t].some(n=>!!e[n])};function XZ(t){for(const e in t)pd[e]={...pd[e],...t[e]}}const $Z=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$Z.has(t)}let RU=t=>!oy(t);function YZ(t){t&&(RU=e=>e.startsWith("on")?!oy(e):t(e))}try{YZ(require("@emotion/is-prop-valid").default)}catch{}function qZ(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(RU(r)||n===!0&&oy(r)||!e&&!oy(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function KZ(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const v0=P.createContext({});function Xh(t){return typeof t=="string"||Array.isArray(t)}function y0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const tb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nb=["initial",...tb];function x0(t){return y0(t.animate)||nb.some(e=>Xh(t[e]))}function NU(t){return!!(x0(t)||t.variants)}function ZZ(t,e){if(x0(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Xh(n)?n:void 0,animate:Xh(i)?i:void 0}}return t.inherit!==!1?e:{}}function QZ(t){const{initial:e,animate:n}=ZZ(t,P.useContext(v0));return P.useMemo(()=>({initial:e,animate:n}),[aR(e),aR(n)])}function aR(t){return Array.isArray(t)?t.join(" "):t}const JZ=Symbol.for("motionComponentSymbol");function Cu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eQ(t,e,n){return P.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Cu(n)&&(n.current=i))},[e])}const ib=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tQ="framerAppearId",LU="data-"+ib(tQ),{schedule:rb,cancel:yre}=CU(queueMicrotask,!1),IU=P.createContext({});function nQ(t,e,n,i,r){var s,o;const{visualElement:a}=P.useContext(v0),l=P.useContext(PU),c=P.useContext(QE),f=P.useContext(AU).reducedMotion,h=P.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const p=h.current,m=P.useContext(IU);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&iQ(h.current,n,r,m);const v=P.useRef(!1);P.useInsertionEffect(()=>{p&&v.current&&p.update(n,c)});const _=n[LU],x=P.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return HZ(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),rb.render(p.render),x.current&&p.animationState&&p.animationState.animateChanges())}),P.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,_)}),x.current=!1))}),p}function iQ(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DU(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&Cu(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function DU(t){if(t)return t.options.allowProjection!==!1?t.projection:DU(t.parent)}function rQ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&XZ(t);function a(c,f){let h;const p={...P.useContext(AU),...c,layoutId:sQ(c)},{isStatic:m}=p,v=QZ(c),_=i(c,m);if(!m&&JE){oQ();const x=aQ(p);h=x.MeasureLayout,v.visualElement=nQ(r,_,p,e,x.ProjectionNode)}return E.jsxs(v0.Provider,{value:v,children:[h&&v.visualElement?E.jsx(h,{visualElement:v.visualElement,...p}):null,n(r,c,eQ(_,v.visualElement,f),_,m,v.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=P.forwardRef(a);return l[JZ]=r,l}function sQ({layoutId:t}){const e=P.useContext(TU).id;return e&&t!==void 0?e+"-"+t:t}function oQ(t,e){P.useContext(PU).strict}function aQ(t){const{drag:e,layout:n}=pd;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const lQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sb(t){return typeof t!="string"||t.includes("-")?!1:!!(lQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function lR(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function ob(t,e,n,i){if(typeof e=="function"){const[r,s]=lR(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=lR(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const bS=t=>Array.isArray(t),cQ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),uQ=t=>bS(t)?t[t.length-1]||0:t,Ci=t=>!!(t&&t.getVelocity);function gv(t){const e=Ci(t)?t.get():t;return cQ(e)?e.toValue():e}function dQ({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:fQ(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const kU=t=>(e,n)=>{const i=P.useContext(v0),r=P.useContext(QE),s=()=>dQ(t,e,i,r);return n?s():BZ(s)};function fQ(t,e,n,i){const r={},s=i(t,{});for(const p in s)r[p]=gv(s[p]);let{initial:o,animate:a}=t;const l=x0(t),c=NU(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?a:o;if(h&&typeof h!="boolean"&&!y0(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const v=ob(t,p[m]);if(v){const{transitionEnd:_,transition:x,...g}=v;for(const w in g){let S=g[w];if(Array.isArray(S)){const b=f?S.length-1:0;S=S[b]}S!==null&&(r[w]=S)}for(const w in _)r[w]=_[w]}}}return r}const Ld=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yc=new Set(Ld),OU=t=>e=>typeof e=="string"&&e.startsWith(t),UU=OU("--"),hQ=OU("var(--"),ab=t=>hQ(t)?pQ.test(t.split("/*")[0].trim()):!1,pQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,FU=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Vo=(t,e,n)=>n>e?e:n<t?t:n,Id={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$h={...Id,transform:t=>Vo(0,1,t)},Vg={...Id,default:1},Ep=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),da=Ep("deg"),Ys=Ep("%"),lt=Ep("px"),mQ=Ep("vh"),gQ=Ep("vw"),cR={...Ys,parse:t=>Ys.parse(t)/100,transform:t=>Ys.transform(t*100)},vQ={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,backgroundPositionX:lt,backgroundPositionY:lt},yQ={rotate:da,rotateX:da,rotateY:da,rotateZ:da,scale:Vg,scaleX:Vg,scaleY:Vg,scaleZ:Vg,skew:da,skewX:da,skewY:da,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:$h,originX:cR,originY:cR,originZ:lt},uR={...Id,transform:Math.round},lb={...vQ,...yQ,zIndex:uR,size:lt,fillOpacity:$h,strokeOpacity:$h,numOctaves:uR},xQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_Q=Ld.length;function wQ(t,e,n){let i="",r=!0;for(let s=0;s<_Q;s++){const o=Ld[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=FU(a,lb[o]);if(!l){r=!1;const f=xQ[o]||o;i+=`${f}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function cb(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(yc.has(l)){o=!0;continue}else if(UU(l)){r[l]=c;continue}else{const f=FU(c,lb[l]);l.startsWith("origin")?(a=!0,s[l]=f):i[l]=f}}if(e.transform||(o||n?i.transform=wQ(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:f=0}=s;i.transformOrigin=`${l} ${c} ${f}`}}const SQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},MQ={offset:"strokeDashoffset",array:"strokeDasharray"};function EQ(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?SQ:MQ;t[s.offset]=lt.transform(-i);const o=lt.transform(e),a=lt.transform(n);t[s.array]=`${o} ${a}`}function dR(t,e,n){return typeof t=="string"?t:lt.transform(e+n*t)}function bQ(t,e,n){const i=dR(e,t.x,t.width),r=dR(n,t.y,t.height);return`${i} ${r}`}function ub(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},f,h){if(cb(t,c,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:v}=t;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=bQ(v,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&EQ(p,o,a,l,!1)}const db=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zU=()=>({...db(),attrs:{}}),fb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function BU(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const VU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HU(t,e,n,i){BU(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(VU.has(r)?r:ib(r),e.attrs[r])}const ay={};function TQ(t){Object.assign(ay,t)}function jU(t,{layout:e,layoutId:n}){return yc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ay[t]||t==="opacity")}function hb(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Ci(r[o])||e.style&&Ci(e.style[o])||jU(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function GU(t,e,n){const i=hb(t,e,n);for(const r in t)if(Ci(t[r])||Ci(e[r])){const s=Ld.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}function AQ(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const fR=["x","y","width","height","cx","cy","r"],CQ={useVisualState:kU({scrapeMotionValuesFromProps:GU,createRenderState:zU,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(yc.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<fR.length;a++){const l=fR[a];t[l]!==e[l]&&(o=!0)}o&&an.read(()=>{AQ(n,i),an.render(()=>{ub(i,r,fb(n.tagName),t.transformTemplate),HU(n,i)})})}})},PQ={useVisualState:kU({scrapeMotionValuesFromProps:hb,createRenderState:db})};function WU(t,e,n){for(const i in e)!Ci(e[i])&&!jU(i,n)&&(t[i]=e[i])}function RQ({transformTemplate:t},e){return P.useMemo(()=>{const n=db();return cb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function NQ(t,e){const n=t.style||{},i={};return WU(i,n,t),Object.assign(i,RQ(t,e)),i}function LQ(t,e){const n={},i=NQ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function IQ(t,e,n,i){const r=P.useMemo(()=>{const s=zU();return ub(s,e,fb(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};WU(s,t.style,t),r.style={...s,...r.style}}return r}function DQ(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(sb(n)?IQ:LQ)(i,s,o,n),c=qZ(i,typeof n=="string",t),f=n!==P.Fragment?{...c,...l,ref:r}:{},{children:h}=i,p=P.useMemo(()=>Ci(h)?h.get():h,[h]);return P.createElement(n,{...f,children:p})}}function kQ(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...sb(i)?CQ:PQ,preloadedFeatures:t,useRender:DQ(r),createVisualElement:e,Component:i};return rQ(o)}}function XU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function _0(t,e,n){const i=t.getProps();return ob(i,e,n!==void 0?n:i.custom,t)}const OQ=eb(()=>window.ScrollTimeline!==void 0);class UQ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(OQ()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class FQ extends UQ{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function pb(t,e){return t?t[e]||t.default||t:void 0}const TS=2e4;function $U(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<TS;)e+=n,i=t.next(e);return e>=TS?1/0:e}function mb(t){return typeof t=="function"}function hR(t,e){t.timeline=e,t.onfinish=null}const gb=t=>Array.isArray(t)&&typeof t[0]=="number",zQ={linearEasing:void 0};function BQ(t,e){const n=eb(t);return()=>{var i;return(i=zQ[e])!==null&&i!==void 0?i:n()}}const ly=BQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),YU=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(hd(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function qU(t){return!!(typeof t=="function"&&ly()||!t||typeof t=="string"&&(t in AS||ly())||gb(t)||Array.isArray(t)&&t.every(qU))}const Nf=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,AS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nf([0,.65,.55,1]),circOut:Nf([.55,0,1,.45]),backIn:Nf([.31,.01,.66,-.59]),backOut:Nf([.33,1.53,.69,.99])};function KU(t,e){if(t)return typeof t=="function"&&ly()?YU(t,e):gb(t)?Nf(t):Array.isArray(t)?t.map(n=>KU(n,e)||AS.easeOut):AS[t]}const ns={x:!1,y:!1};function ZU(){return ns.x||ns.y}function VQ(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function QU(t,e){const n=VQ(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function pR(t){return e=>{e.pointerType==="touch"||ZU()||t(e)}}function HQ(t,e,n={}){const[i,r,s]=QU(t,n),o=pR(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const f=pR(h=>{c(h),l.removeEventListener("pointerleave",f)});l.addEventListener("pointerleave",f,r)});return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const JU=(t,e)=>e?t===e?!0:JU(t,e.parentElement):!1,vb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,jQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GQ(t){return jQ.has(t.tagName)||t.tabIndex!==-1}const Lf=new WeakSet;function mR(t){return e=>{e.key==="Enter"&&t(e)}}function l1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const WQ=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=mR(()=>{if(Lf.has(n))return;l1(n,"down");const r=mR(()=>{l1(n,"up")}),s=()=>l1(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function gR(t){return vb(t)&&!ZU()}function XQ(t,e,n={}){const[i,r,s]=QU(t,n),o=a=>{const l=a.currentTarget;if(!gR(a)||Lf.has(l))return;Lf.add(l);const c=e(a),f=(m,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!gR(m)||!Lf.has(l))&&(Lf.delete(l),typeof c=="function"&&c(m,{success:v}))},h=m=>{f(m,n.useGlobalTarget||JU(l,m.target))},p=m=>{f(m,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",p,r)};return i.forEach(a=>{!GQ(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a.addEventListener("focus",c=>WQ(c,r),r)}),s}function $Q(t){return t==="x"||t==="y"?ns[t]?null:(ns[t]=!0,()=>{ns[t]=!1}):ns.x||ns.y?null:(ns.x=ns.y=!0,()=>{ns.x=ns.y=!1})}const eF=new Set(["width","height","top","left","right","bottom",...Ld]);let vv;function YQ(){vv=void 0}const qs={now:()=>(vv===void 0&&qs.set(di.isProcessing||jZ.useManualTiming?di.timestamp:performance.now()),vv),set:t=>{vv=t,queueMicrotask(YQ)}};function yb(t,e){t.indexOf(e)===-1&&t.push(e)}function xb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _b{constructor(){this.subscriptions=[]}add(e){return yb(this.subscriptions,e),()=>xb(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tF(t,e){return e?t*(1e3/e):0}const vR=30,qQ=t=>!isNaN(parseFloat(t));class KQ{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=qs.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=qs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _b);const i=this.events[e].add(n);return e==="change"?()=>{i(),an.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vR);return tF(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yh(t,e){return new KQ(t,e)}function ZQ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yh(n))}function QQ(t,e){const n=_0(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=uQ(s[o]);ZQ(t,o,a)}}function JQ(t){return!!(Ci(t)&&t.add)}function CS(t,e){const n=t.getValue("willChange");if(JQ(n))return n.add(e)}function nF(t){return t.props[LU]}const iF=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eJ=1e-7,tJ=12;function nJ(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=iF(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>eJ&&++a<tJ);return o}function bp(t,e,n,i){if(t===e&&n===i)return Mr;const r=s=>nJ(s,0,1,t,n);return s=>s===0||s===1?s:iF(r(s),e,i)}const rF=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sF=t=>e=>1-t(1-e),oF=bp(.33,1.53,.69,.99),wb=sF(oF),aF=rF(wb),lF=t=>(t*=2)<1?.5*wb(t):.5*(2-Math.pow(2,-10*(t-1))),Sb=t=>1-Math.sin(Math.acos(t)),cF=sF(Sb),uF=rF(Sb),dF=t=>/^0[^.\s]+$/u.test(t);function iJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dF(t):!0}const Kf=t=>Math.round(t*1e5)/1e5,Mb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rJ(t){return t==null}const sJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Eb=(t,e)=>n=>!!(typeof n=="string"&&sJ.test(n)&&n.startsWith(t)||e&&!rJ(n)&&Object.prototype.hasOwnProperty.call(n,e)),fF=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(Mb);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},oJ=t=>Vo(0,255,t),c1={...Id,transform:t=>Math.round(oJ(t))},Ul={test:Eb("rgb","red"),parse:fF("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+c1.transform(t)+", "+c1.transform(e)+", "+c1.transform(n)+", "+Kf($h.transform(i))+")"};function aJ(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const PS={test:Eb("#"),parse:aJ,transform:Ul.transform},Pu={test:Eb("hsl","hue"),parse:fF("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ys.transform(Kf(e))+", "+Ys.transform(Kf(n))+", "+Kf($h.transform(i))+")"},bi={test:t=>Ul.test(t)||PS.test(t)||Pu.test(t),parse:t=>Ul.test(t)?Ul.parse(t):Pu.test(t)?Pu.parse(t):PS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ul.transform(t):Pu.transform(t)},lJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cJ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Mb))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(lJ))===null||n===void 0?void 0:n.length)||0)>0}const hF="number",pF="color",uJ="var",dJ="var(",yR="${}",fJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(fJ,l=>(bi.test(l)?(i.color.push(s),r.push(pF),n.push(bi.parse(l))):l.startsWith(dJ)?(i.var.push(s),r.push(uJ),n.push(l)):(i.number.push(s),r.push(hF),n.push(parseFloat(l))),++s,yR)).split(yR);return{values:n,split:a,indexes:i,types:r}}function mF(t){return qh(t).values}function gF(t){const{split:e,types:n}=qh(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===hF?s+=Kf(r[o]):a===pF?s+=bi.transform(r[o]):s+=r[o]}return s}}const hJ=t=>typeof t=="number"?0:t;function pJ(t){const e=mF(t);return gF(t)(e.map(hJ))}const Xa={test:cJ,parse:mF,createTransformer:gF,getAnimatableNone:pJ},mJ=new Set(["brightness","contrast","saturate","opacity"]);function gJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Mb)||[];if(!i)return t;const r=n.replace(i,"");let s=mJ.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const vJ=/\b([a-z-]*)\(.*?\)/gu,RS={...Xa,getAnimatableNone:t=>{const e=t.match(vJ);return e?e.map(gJ).join(" "):t}},yJ={...lb,color:bi,backgroundColor:bi,outlineColor:bi,fill:bi,stroke:bi,borderColor:bi,borderTopColor:bi,borderRightColor:bi,borderBottomColor:bi,borderLeftColor:bi,filter:RS,WebkitFilter:RS},bb=t=>yJ[t];function vF(t,e){let n=bb(t);return n!==RS&&(n=Xa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const xJ=new Set(["auto","none","0"]);function _J(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!xJ.has(s)&&qh(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=vF(n,r)}const xR=t=>t===Id||t===lt,_R=(t,e)=>parseFloat(t.split(", ")[e]),wR=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return _R(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?_R(s[1],t):0}},wJ=new Set(["x","y","z"]),SJ=Ld.filter(t=>!wJ.has(t));function MJ(t){const e=[];return SJ.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const md={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:wR(4,13),y:wR(5,14)};md.translateX=md.x;md.translateY=md.y;const Ql=new Set;let NS=!1,LS=!1;function yF(){if(LS){const t=Array.from(Ql).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=MJ(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}LS=!1,NS=!1,Ql.forEach(t=>t.complete()),Ql.clear()}function xF(){Ql.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(LS=!0)})}function EJ(){xF(),yF()}class Tb{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ql.add(this),NS||(NS=!0,an.read(xF),an.resolveKeyframes(yF))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ql.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ql.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const _F=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),bJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TJ(t){const e=bJ.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function wF(t,e,n=1){const[i,r]=TJ(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return _F(o)?parseFloat(o):o}return ab(r)?wF(r,e,n+1):r}const SF=t=>e=>e.test(t),AJ={test:t=>t==="auto",parse:t=>t},MF=[Id,lt,Ys,da,gQ,mQ,AJ],SR=t=>MF.find(SF(t));class EF extends Tb{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),ab(c))){const f=wF(c,n.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!eF.has(i)||e.length!==2)return;const[r,s]=e,o=SR(r),a=SR(s);if(o!==a)if(xR(o)&&xR(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)iJ(e[r])&&i.push(r);i.length&&_J(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=md[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=md[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const MR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xa.test(t)||t==="0")&&!t.startsWith("url("));function CJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function PJ(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=MR(r,e),a=MR(s,e);return!o||!a?!1:CJ(t)||(n==="spring"||mb(n))&&i}const RJ=t=>t!==null;function w0(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(RJ),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const NJ=40;class bF{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qs.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>NJ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&EJ(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=qs.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!PJ(e,i,r,s))if(o)this.options.duration=0;else{l&&l(w0(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const gn=(t,e,n)=>t+(e-t)*n;function u1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LJ({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=u1(l,a,t+1/3),s=u1(l,a,t),o=u1(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function cy(t,e){return n=>n>0?e:t}const d1=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},IJ=[PS,Ul,Pu],DJ=t=>IJ.find(e=>e.test(t));function ER(t){const e=DJ(t);if(!e)return!1;let n=e.parse(t);return e===Pu&&(n=LJ(n)),n}const bR=(t,e)=>{const n=ER(t),i=ER(e);if(!n||!i)return cy(t,e);const r={...n};return s=>(r.red=d1(n.red,i.red,s),r.green=d1(n.green,i.green,s),r.blue=d1(n.blue,i.blue,s),r.alpha=gn(n.alpha,i.alpha,s),Ul.transform(r))},kJ=(t,e)=>n=>e(t(n)),Tp=(...t)=>t.reduce(kJ),IS=new Set(["none","hidden"]);function OJ(t,e){return IS.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function UJ(t,e){return n=>gn(t,e,n)}function Ab(t){return typeof t=="number"?UJ:typeof t=="string"?ab(t)?cy:bi.test(t)?bR:BJ:Array.isArray(t)?TF:typeof t=="object"?bi.test(t)?bR:FJ:cy}function TF(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>Ab(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function FJ(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Ab(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function zJ(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const BJ=(t,e)=>{const n=Xa.createTransformer(e),i=qh(t),r=qh(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?IS.has(t)&&!r.values.length||IS.has(e)&&!i.values.length?OJ(t,e):Tp(TF(zJ(i,r),r.values),n):cy(t,e)};function AF(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gn(t,e,n):Ab(t)(t,e)}const VJ=5;function CF(t,e,n){const i=Math.max(e-VJ,0);return tF(n-t(i),e-i)}const bn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},f1=.001;function HJ({duration:t=bn.duration,bounce:e=bn.bounce,velocity:n=bn.velocity,mass:i=bn.mass}){let r,s,o=1-e;o=Vo(bn.minDamping,bn.maxDamping,o),t=Vo(bn.minDuration,bn.maxDuration,Co(t)),o<1?(r=c=>{const f=c*o,h=f*t,p=f-n,m=DS(c,o),v=Math.exp(-h);return f1-p/m*v},s=c=>{const h=c*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-h),_=DS(Math.pow(c,2),o);return(-r(c)+f1>0?-1:1)*((p-m)*v)/_}):(r=c=>{const f=Math.exp(-c*t),h=(c-n)*t+1;return-f1+f*h},s=c=>{const f=Math.exp(-c*t),h=(n-c)*(t*t);return f*h});const a=5/t,l=GJ(r,s,a);if(t=Ao(t),isNaN(l))return{stiffness:bn.stiffness,damping:bn.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const jJ=12;function GJ(t,e,n){let i=n;for(let r=1;r<jJ;r++)i=i-t(i)/e(i);return i}function DS(t,e){return t*Math.sqrt(1-e*e)}const WJ=["duration","bounce"],XJ=["stiffness","damping","mass"];function TR(t,e){return e.some(n=>t[n]!==void 0)}function $J(t){let e={velocity:bn.velocity,stiffness:bn.stiffness,damping:bn.damping,mass:bn.mass,isResolvedFromDuration:!1,...t};if(!TR(t,XJ)&&TR(t,WJ))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Vo(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:bn.mass,stiffness:r,damping:s}}else{const n=HJ(t);e={...e,...n,mass:bn.mass},e.isResolvedFromDuration=!0}return e}function PF(t=bn.visualDuration,e=bn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:f,duration:h,velocity:p,isResolvedFromDuration:m}=$J({...n,velocity:-Co(n.velocity||0)}),v=p||0,_=c/(2*Math.sqrt(l*f)),x=o-s,g=Co(Math.sqrt(l/f)),w=Math.abs(x)<5;i||(i=w?bn.restSpeed.granular:bn.restSpeed.default),r||(r=w?bn.restDelta.granular:bn.restDelta.default);let S;if(_<1){const A=DS(g,_);S=C=>{const N=Math.exp(-_*g*C);return o-N*((v+_*g*x)/A*Math.sin(A*C)+x*Math.cos(A*C))}}else if(_===1)S=A=>o-Math.exp(-g*A)*(x+(v+g*x)*A);else{const A=g*Math.sqrt(_*_-1);S=C=>{const N=Math.exp(-_*g*C),k=Math.min(A*C,300);return o-N*((v+_*g*x)*Math.sinh(k)+A*x*Math.cosh(k))/A}}const b={calculatedDuration:m&&h||null,next:A=>{const C=S(A);if(m)a.done=A>=h;else{let N=0;_<1&&(N=A===0?Ao(v):CF(S,A,C));const k=Math.abs(N)<=i,L=Math.abs(o-C)<=r;a.done=k&&L}return a.value=a.done?o:C,a},toString:()=>{const A=Math.min($U(b),TS),C=YU(N=>b.next(A*N).value,A,30);return A+"ms "+C}};return b}function AR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:f}){const h=t[0],p={done:!1,value:h},m=k=>a!==void 0&&k<a||l!==void 0&&k>l,v=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let _=n*e;const x=h+_,g=o===void 0?x:o(x);g!==x&&(_=g-h);const w=k=>-_*Math.exp(-k/i),S=k=>g+w(k),b=k=>{const L=w(k),I=S(k);p.done=Math.abs(L)<=c,p.value=p.done?g:I};let A,C;const N=k=>{m(p.value)&&(A=k,C=PF({keyframes:[p.value,v(p.value)],velocity:CF(S,k,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:f}))};return N(0),{calculatedDuration:null,next:k=>{let L=!1;return!C&&A===void 0&&(L=!0,b(k),N(k)),A!==void 0&&k>=A?C.next(k-A):(!L&&b(k),p)}}}const YJ=bp(.42,0,1,1),qJ=bp(0,0,.58,1),RF=bp(.42,0,.58,1),KJ=t=>Array.isArray(t)&&typeof t[0]!="number",CR={linear:Mr,easeIn:YJ,easeInOut:RF,easeOut:qJ,circIn:Sb,circInOut:uF,circOut:cF,backIn:wb,backInOut:aF,backOut:oF,anticipate:lF},PR=t=>{if(gb(t)){ES(t.length===4);const[e,n,i,r]=t;return bp(e,n,i,r)}else if(typeof t=="string")return ES(CR[t]!==void 0),CR[t];return t};function ZJ(t,e,n){const i=[],r=n||AF,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Mr:e;a=Tp(l,a)}i.push(a)}return i}function QJ(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(ES(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=ZJ(e,i,r),l=a.length,c=f=>{if(o&&f<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const p=hd(t[h],t[h+1],f);return a[h](p)};return n?f=>c(Vo(t[0],t[s-1],f)):c}function JJ(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=hd(0,e,i);t.push(gn(n,1,r))}}function eee(t){const e=[0];return JJ(e,t.length-1),e}function tee(t,e){return t.map(n=>n*e)}function nee(t,e){return t.map(()=>e||RF).splice(0,t.length-1)}function uy({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=KJ(i)?i.map(PR):PR(i),s={done:!1,value:e[0]},o=tee(n&&n.length===e.length?n:eee(e),t),a=QJ(o,e,{ease:Array.isArray(r)?r:nee(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const iee=t=>{const e=({timestamp:n})=>t(n);return{start:()=>an.update(e,!0),stop:()=>Wa(e),now:()=>di.isProcessing?di.timestamp:qs.now()}},ree={decay:AR,inertia:AR,tween:uy,keyframes:uy,spring:PF},see=t=>t/100;class Cb extends bF{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Tb,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=mb(n)?n:ree[n]||uy;let l,c;a!==uy&&typeof e[0]!="number"&&(l=Tp(see,AF(e[0],e[1])),e=[0,100]);const f=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=$U(f));const{calculatedDuration:h}=f,p=h+r,m=p*(i+1)-r;return{generator:f,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:f,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:_,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),w=this.speed>=0?g<0:g>f;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let S=this.currentTime,b=s;if(m){const k=Math.min(this.currentTime,f)/h;let L=Math.floor(k),I=k%1;!I&&k>=1&&(I=1),I===1&&L--,L=Math.min(L,m+1),!!(L%2)&&(v==="reverse"?(I=1-I,_&&(I-=_/h)):v==="mirror"&&(b=o)),S=Vo(0,1,I)*h}const A=w?{done:!1,value:l[0]}:b.next(S);a&&(A.value=a(A.value));let{done:C}=A;!w&&c!==null&&(C=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return N&&r!==void 0&&(A.value=w0(l,this.options,r)),x&&x(A.value),N&&this.finish(),A}get duration(){const{resolved:e}=this;return e?Co(e.calculatedDuration):0}get time(){return Co(this.currentTime)}set time(e){e=Ao(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Co(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=iee,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const oee=new Set(["opacity","clipPath","filter","transform"]);function aee(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const f=KU(a,r);return Array.isArray(f)&&(c.easing=f),t.animate(c,{delay:i,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const lee=eb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),dy=10,cee=2e4;function uee(t){return mb(t.type)||t.type==="spring"||!qU(t.ease)}function dee(t,e){const n=new Cb({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<cee;)i=n.sample(s),r.push(i.value),s+=dy;return{times:void 0,keyframes:r,duration:s-dy,ease:"linear"}}const NF={anticipate:lF,backInOut:aF,circInOut:uF};function fee(t){return t in NF}class RR extends bF{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new EF(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&ly()&&fee(s)&&(s=NF[s]),uee(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,element:v,..._}=this.options,x=dee(e,_);e=x.keyframes,e.length===1&&(e[1]=e[0]),i=x.duration,r=x.times,s=x.ease,o="keyframes"}const f=aee(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return f.startTime=c??this.calcStartTime(),this.pendingTimeline?(hR(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;a.set(w0(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Co(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Co(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ao(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Mr;const{animation:i}=n;hR(i,e)}return Mr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:f,onComplete:h,element:p,...m}=this.options,v=new Cb({...m,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),_=Ao(this.time);c.setWithVelocity(v.sample(_-dy).value,v.sample(_).value,dy)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return lee()&&i&&oee.has(i)&&!l&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const hee={type:"spring",stiffness:500,damping:25,restSpeed:10},pee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mee={type:"keyframes",duration:.8},gee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vee=(t,{keyframes:e})=>e.length>2?mee:yc.has(t)?t.startsWith("scale")?pee(e[1]):hee:gee;function yee({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...f}){return!!Object.keys(f).length}const Pb=(t,e,n,i={},r,s)=>o=>{const a=pb(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Ao(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};yee(a)||(f={...f,...vee(t,f)}),f.duration&&(f.duration=Ao(f.duration)),f.repeatDelay&&(f.repeatDelay=Ao(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const p=w0(f.keyframes,a);if(p!==void 0)return an.update(()=>{f.onUpdate(p),f.onComplete()}),new FQ([])}return!s&&RR.supports(f)?new RR(f):new Cb(f)};function xee({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function LF(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],f=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const p=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),m=l[h];if(m===void 0||f&&xee(f,h))continue;const v={delay:n,...pb(o||{},h)};let _=!1;if(window.MotionHandoffAnimation){const g=nF(t);if(g){const w=window.MotionHandoffAnimation(g,h,an);w!==null&&(v.startTime=w,_=!0)}}CS(t,h),p.start(Pb(h,p,m,t.shouldReduceMotion&&eF.has(h)?{type:!1}:v,t,_));const x=p.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{an.update(()=>{a&&QQ(t,a)})}),c}function kS(t,e,n={}){var i;const r=_0(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(LF(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=s;return _ee(t,e,f+c,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,f]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function _ee(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(wee).forEach((c,f)=>{c.notify("AnimationStart",e),o.push(kS(c,e,{...s,delay:n+l(f)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function wee(t,e){return t.sortNodePosition(e)}function See(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>kS(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=kS(t,e,n);else{const r=typeof e=="function"?_0(t,e,n.custom):e;i=Promise.all(LF(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const Mee=nb.length;function IF(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?IF(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Mee;n++){const i=nb[n],r=t.props[i];(Xh(r)||r===!1)&&(e[i]=r)}return e}const Eee=[...tb].reverse(),bee=tb.length;function Tee(t){return e=>Promise.all(e.map(({animation:n,options:i})=>See(t,n,i)))}function Aee(t){let e=Tee(t),n=NR(),i=!0;const r=l=>(c,f)=>{var h;const p=_0(t,f,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:v,..._}=p;c={...c,..._,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,f=IF(t.parent)||{},h=[],p=new Set;let m={},v=1/0;for(let x=0;x<bee;x++){const g=Eee[x],w=n[g],S=c[g]!==void 0?c[g]:f[g],b=Xh(S),A=g===l?w.isActive:null;A===!1&&(v=x);let C=S===f[g]&&S!==c[g]&&b;if(C&&i&&t.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...m},!w.isActive&&A===null||!S&&!w.prevProp||y0(S)||typeof S=="boolean")continue;const N=Cee(w.prevProp,S);let k=N||g===l&&w.isActive&&!C&&b||x>v&&b,L=!1;const I=Array.isArray(S)?S:[S];let j=I.reduce(r(g),{});A===!1&&(j={});const{prevResolvedValues:W={}}=w,re={...W,...j},B=ee=>{k=!0,p.has(ee)&&(L=!0,p.delete(ee)),w.needsAnimating[ee]=!0;const D=t.getValue(ee);D&&(D.liveStyle=!1)};for(const ee in re){const D=j[ee],U=W[ee];if(m.hasOwnProperty(ee))continue;let V=!1;bS(D)&&bS(U)?V=!XU(D,U):V=D!==U,V?D!=null?B(ee):p.add(ee):D!==void 0&&p.has(ee)?B(ee):w.protectedKeys[ee]=!0}w.prevProp=S,w.prevResolvedValues=j,w.isActive&&(m={...m,...j}),i&&t.blockInitialAnimation&&(k=!1),k&&(!(C&&N)||L)&&h.push(...I.map(ee=>({animation:ee,options:{type:g}})))}if(p.size){const x={};p.forEach(g=>{const w=t.getBaseTarget(g),S=t.getValue(g);S&&(S.liveStyle=!0),x[g]=w??null}),h.push({animation:x})}let _=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(h):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=NR(),i=!0}}}function Cee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!XU(e,t):!1}function Sl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NR(){return{animate:Sl(!0),whileInView:Sl(),whileHover:Sl(),whileTap:Sl(),whileDrag:Sl(),whileFocus:Sl(),exit:Sl()}}class tl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Pee extends tl{constructor(e){super(e),e.animationState||(e.animationState=Aee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();y0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Ree=0;class Nee extends tl{constructor(){super(...arguments),this.id=Ree++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Lee={animation:{Feature:Pee},exit:{Feature:Nee}};function Kh(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Ap(t){return{point:{x:t.pageX,y:t.pageY}}}const Iee=t=>e=>vb(e)&&t(e,Ap(e));function Zf(t,e,n,i){return Kh(t,e,Iee(n),i)}const LR=(t,e)=>Math.abs(t-e);function Dee(t,e){const n=LR(t.x,e.x),i=LR(t.y,e.y);return Math.sqrt(n**2+i**2)}class DF{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=p1(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Dee(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=h,{timestamp:_}=di;this.history.push({...v,timestamp:_});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=h1(p,this.transformPagePoint),an.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=p1(h.type==="pointercancel"?this.lastMoveEventInfo:h1(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),v&&v(h,x)},!vb(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=Ap(e),a=h1(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=di;this.history=[{...l,timestamp:c}];const{onSessionStart:f}=n;f&&f(e,p1(a,this.history)),this.removeListeners=Tp(Zf(this.contextWindow,"pointermove",this.handlePointerMove),Zf(this.contextWindow,"pointerup",this.handlePointerUp),Zf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wa(this.updatePoint)}}function h1(t,e){return e?{point:e(t.point)}:t}function IR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function p1({point:t},e){return{point:t,delta:IR(t,kF(e)),offset:IR(t,kee(e)),velocity:Oee(e,.1)}}function kee(t){return t[0]}function kF(t){return t[t.length-1]}function Oee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=kF(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ao(e)));)n--;if(!i)return{x:0,y:0};const s=Co(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const OF=1e-4,Uee=1-OF,Fee=1+OF,UF=.01,zee=0-UF,Bee=0+UF;function br(t){return t.max-t.min}function Vee(t,e,n){return Math.abs(t-e)<=n}function DR(t,e,n,i=.5){t.origin=i,t.originPoint=gn(e.min,e.max,t.origin),t.scale=br(n)/br(e),t.translate=gn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Uee&&t.scale<=Fee||isNaN(t.scale))&&(t.scale=1),(t.translate>=zee&&t.translate<=Bee||isNaN(t.translate))&&(t.translate=0)}function Qf(t,e,n,i){DR(t.x,e.x,n.x,i?i.originX:void 0),DR(t.y,e.y,n.y,i?i.originY:void 0)}function kR(t,e,n){t.min=n.min+e.min,t.max=t.min+br(e)}function Hee(t,e,n){kR(t.x,e.x,n.x),kR(t.y,e.y,n.y)}function OR(t,e,n){t.min=e.min-n.min,t.max=t.min+br(e)}function Jf(t,e,n){OR(t.x,e.x,n.x),OR(t.y,e.y,n.y)}function jee(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?gn(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?gn(n,t,i.max):Math.min(t,n)),t}function UR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Gee(t,{top:e,left:n,bottom:i,right:r}){return{x:UR(t.x,n,r),y:UR(t.y,e,i)}}function FR(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Wee(t,e){return{x:FR(t.x,e.x),y:FR(t.y,e.y)}}function Xee(t,e){let n=.5;const i=br(t),r=br(e);return r>i?n=hd(e.min,e.max-i,t.min):i>r&&(n=hd(t.min,t.max-r,e.min)),Vo(0,1,n)}function $ee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const OS=.35;function Yee(t=OS){return t===!1?t=0:t===!0&&(t=OS),{x:zR(t,"left","right"),y:zR(t,"top","bottom")}}function zR(t,e,n){return{min:BR(t,e),max:BR(t,n)}}function BR(t,e){return typeof t=="number"?t:t[e]||0}const VR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ru=()=>({x:VR(),y:VR()}),HR=()=>({min:0,max:0}),Ln=()=>({x:HR(),y:HR()});function Vr(t){return[t("x"),t("y")]}function FF({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function qee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Kee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function m1(t){return t===void 0||t===1}function US({scale:t,scaleX:e,scaleY:n}){return!m1(t)||!m1(e)||!m1(n)}function Al(t){return US(t)||zF(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zF(t){return jR(t.x)||jR(t.y)}function jR(t){return t&&t!=="0%"}function fy(t,e,n){const i=t-n,r=e*i;return n+r}function GR(t,e,n,i,r){return r!==void 0&&(t=fy(t,r,i)),fy(t,n,i)+e}function FS(t,e=0,n=1,i,r){t.min=GR(t.min,e,n,i,r),t.max=GR(t.max,e,n,i,r)}function BF(t,{x:e,y:n}){FS(t.x,e.translate,e.scale,e.originPoint),FS(t.y,n.translate,n.scale,n.originPoint)}const WR=.999999999999,XR=1.0000000000001;function Zee(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Lu(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,BF(t,o)),i&&Al(s.latestValues)&&Lu(t,s.latestValues))}e.x<XR&&e.x>WR&&(e.x=1),e.y<XR&&e.y>WR&&(e.y=1)}function Nu(t,e){t.min=t.min+e,t.max=t.max+e}function $R(t,e,n,i,r=.5){const s=gn(t.min,t.max,r);FS(t,e,n,s,i)}function Lu(t,e){$R(t.x,e.x,e.scaleX,e.scale,e.originX),$R(t.y,e.y,e.scaleY,e.scale,e.originY)}function VF(t,e){return FF(Kee(t.getBoundingClientRect(),e))}function Qee(t,e,n){const i=VF(t,n),{scroll:r}=e;return r&&(Nu(i.x,r.offset.x),Nu(i.y,r.offset.y)),i}const HF=({current:t})=>t?t.ownerDocument.defaultView:null,Jee=new WeakMap;class ete{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ln(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ap(f).point)},s=(f,h)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$Q(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vr(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Ys.test(g)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[x];S&&(g=br(S)*(parseFloat(g)/100))}}this.originPoint[x]=g}),v&&an.postRender(()=>v(f,h)),CS(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:_}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=tte(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),_&&_(f,h)},a=(f,h)=>this.stop(f,h),l=()=>Vr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new DF(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:HF(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&an.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Hg(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=jee(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Cu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=Gee(r.layoutBox,n):this.constraints=!1,this.elastic=Yee(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=$ee(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Cu(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Qee(i,r.root,this.visualElement.getTransformPagePoint());let o=Wee(r.layout.layoutBox,s);if(n){const a=n(qee(o));this.hasMutatedConstraints=!!a,a&&(o=FF(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Vr(f=>{if(!Hg(f,n,this.currentDirection))return;let h=l&&l[f]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[f]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return CS(this.visualElement,e),i.start(Pb(e,i,0,n,this.visualElement,!1))}stopAnimation(){Vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Vr(n=>{const{drag:i}=this.getProps();if(!Hg(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-gn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Cu(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Vr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=Xee({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Vr(o=>{if(!Hg(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(gn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;Jee.set(this.visualElement,this);const e=this.visualElement.current,n=Zf(e,"pointerdown",l=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Cu(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),an.read(i);const o=Kh(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Vr(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=l[f].translate,h.set(h.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=OS,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Hg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function tte(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class nte extends tl{constructor(e){super(e),this.removeGroupControls=Mr,this.removeListeners=Mr,this.controls=new ete(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const YR=t=>(e,n)=>{t&&an.postRender(()=>t(e,n))};class ite extends tl{constructor(){super(...arguments),this.removePointerDownListener=Mr}onPointerDown(e){this.session=new DF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:YR(e),onStart:YR(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&an.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Zf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(lt.test(t))t=parseFloat(t);else return t;const n=qR(t,e.target.x),i=qR(t,e.target.y);return`${n}% ${i}%`}},rte={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Xa.parse(t);if(r.length>5)return i;const s=Xa.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=gn(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class ste extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;TQ(ote),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),yv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||an.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jF(t){const[e,n]=VZ(),i=P.useContext(TU);return E.jsx(ste,{...t,layoutGroup:i,switchLayoutGroup:P.useContext(IU),isPresent:e,safeToRemove:n})}const ote={borderRadius:{...bf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bf,borderTopRightRadius:bf,borderBottomLeftRadius:bf,borderBottomRightRadius:bf,boxShadow:rte};function ate(t,e,n){const i=Ci(t)?t:Yh(t);return i.start(Pb("",i,e,n)),i.animation}function lte(t){return t instanceof SVGElement&&t.tagName!=="svg"}const cte=(t,e)=>t.depth-e.depth;class ute{constructor(){this.children=[],this.isDirty=!1}add(e){yb(this.children,e),this.isDirty=!0}remove(e){xb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cte),this.isDirty=!1,this.children.forEach(e)}}function dte(t,e){const n=qs.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Wa(i),t(s-e))};return an.read(i,!0),()=>Wa(i)}const GF=["TopLeft","TopRight","BottomLeft","BottomRight"],fte=GF.length,KR=t=>typeof t=="string"?parseFloat(t):t,ZR=t=>typeof t=="number"||lt.test(t);function hte(t,e,n,i,r,s){r?(t.opacity=gn(0,n.opacity!==void 0?n.opacity:1,pte(i)),t.opacityExit=gn(e.opacity!==void 0?e.opacity:1,0,mte(i))):s&&(t.opacity=gn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<fte;o++){const a=`border${GF[o]}Radius`;let l=QR(e,a),c=QR(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ZR(l)===ZR(c)?(t[a]=Math.max(gn(KR(l),KR(c),i),0),(Ys.test(c)||Ys.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=gn(e.rotate||0,n.rotate||0,i))}function QR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pte=WF(0,.5,cF),mte=WF(.5,.95,Mr);function WF(t,e,n){return i=>i<t?0:i>e?1:n(hd(t,e,i))}function JR(t,e){t.min=e.min,t.max=e.max}function Br(t,e){JR(t.x,e.x),JR(t.y,e.y)}function eN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tN(t,e,n,i,r){return t-=e,t=fy(t,1/n,i),r!==void 0&&(t=fy(t,1/r,i)),t}function gte(t,e=0,n=1,i=.5,r,s=t,o=t){if(Ys.test(e)&&(e=parseFloat(e),e=gn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=gn(s.min,s.max,i);t===s&&(a-=e),t.min=tN(t.min,e,n,a,r),t.max=tN(t.max,e,n,a,r)}function nN(t,e,[n,i,r],s,o){gte(t,e[n],e[i],e[r],e.scale,s,o)}const vte=["x","scaleX","originX"],yte=["y","scaleY","originY"];function iN(t,e,n,i){nN(t.x,e,vte,n?n.x:void 0,i?i.x:void 0),nN(t.y,e,yte,n?n.y:void 0,i?i.y:void 0)}function rN(t){return t.translate===0&&t.scale===1}function XF(t){return rN(t.x)&&rN(t.y)}function sN(t,e){return t.min===e.min&&t.max===e.max}function xte(t,e){return sN(t.x,e.x)&&sN(t.y,e.y)}function oN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $F(t,e){return oN(t.x,e.x)&&oN(t.y,e.y)}function aN(t){return br(t.x)/br(t.y)}function lN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _te{constructor(){this.members=[]}add(e){yb(this.members,e),e.scheduleRender()}remove(e){if(xb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wte(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:f,rotateX:h,rotateY:p,skewX:m,skewY:v}=n;c&&(i=`perspective(${c}px) ${i}`),f&&(i+=`rotate(${f}deg) `),h&&(i+=`rotateX(${h}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Cl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},If=typeof window<"u"&&window.MotionDebug!==void 0,g1=["","X","Y","Z"],Ste={visibility:"hidden"},cN=1e3;let Mte=0;function v1(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function YF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=nF(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",an,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&YF(i)}function qF({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Mte++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,If&&(Cl.totalNodes=Cl.resolvedTargetDeltas=Cl.recalculatedProjection=0),this.nodes.forEach(Tte),this.nodes.forEach(Nte),this.nodes.forEach(Lte),this.nodes.forEach(Ate),If&&window.MotionDebug.record(Cl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ute)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _b),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lte(o),this.instance=o;const{layoutId:l,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=dte(p,250),yv.hasAnimatedSinceResize&&(yv.hasAnimatedSinceResize=!1,this.nodes.forEach(dN))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||Ute,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=f.getProps(),w=!this.targetLayout||!$F(this.targetLayout,v)||m,S=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const b={...pb(_,"layout"),onPlay:x,onComplete:g};(f.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||dN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ite),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uN);return}this.isUpdating||this.nodes.forEach(Pte),this.isUpdating=!1,this.nodes.forEach(Rte),this.nodes.forEach(Ete),this.nodes.forEach(bte),this.clearAllSnapshots();const a=qs.now();di.delta=Vo(0,1e3/60,a-di.timestamp),di.timestamp=a,di.isProcessing=!0,a1.update.process(di),a1.preRender.process(di),a1.render.process(di),di.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Cte),this.sharedNodes.forEach(Dte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,an.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){an.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!XF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;o&&(a||Al(this.latestValues)||f)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Fte(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ln();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(zte))){const{scroll:f}=this.root;f&&(Nu(l.x,f.offset.x),Nu(l.y,f.offset.y))}return l}removeElementScroll(o){var a;const l=Ln();if(Br(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Br(l,o),Nu(l.x,h.offset.x),Nu(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Ln();Br(l,o);for(let c=0;c<this.path.length;c++){const f=this.path[c];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Lu(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Al(f.latestValues)&&Lu(l,f.latestValues)}return Al(this.latestValues)&&Lu(l,this.latestValues),l}removeTransform(o){const a=Ln();Br(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Al(c.latestValues))continue;US(c.latestValues)&&c.updateSnapshot();const f=Ln(),h=c.measurePageBox();Br(f,h),iN(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return Al(this.latestValues)&&iN(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==di.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=di.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),Jf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ln(),this.targetWithTransforms=Ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Br(this.target,this.layout.layoutBox),BF(this.target,this.targetDelta)):Br(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),Jf(this.relativeTargetOrigin,this.target,m.target),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}If&&Cl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||US(this.parent.latestValues)||zF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===di.timestamp&&(c=!1),c)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;Br(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Zee(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ln());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eN(this.prevProjectionDelta.x,this.projectionDelta.x),eN(this.prevProjectionDelta.y,this.projectionDelta.y)),Qf(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!lN(this.projectionDelta.x,this.prevProjectionDelta.x)||!lN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),If&&Cl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ru(),this.projectionDelta=Ru(),this.projectionDeltaWithTransform=Ru()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},f={...this.latestValues},h=Ru();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ln(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,_=m!==v,x=this.getStack(),g=!x||x.members.length<=1,w=!!(_&&!g&&this.options.crossfade===!0&&!this.path.some(Ote));this.animationProgress=0;let S;this.mixTargetDelta=b=>{const A=b/1e3;fN(h.x,o.x,A),fN(h.y,o.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jf(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kte(this.relativeTarget,this.relativeTargetOrigin,p,A),S&&xte(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ln()),Br(S,this.relativeTarget)),_&&(this.animationValues=f,hte(f,c,this.latestValues,A,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=an.update(()=>{yv.hasAnimatedSinceResize=!0,this.currentAnimation=ate(0,cN,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:f}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&KF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ln();const h=br(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=br(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Br(a,l),Lu(a,f),Qf(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _te),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&v1("z",o,c,this.animationValues);for(let f=0;f<g1.length;f++)v1(`rotate${g1[f]}`,o,c,this.animationValues),v1(`skew${g1[f]}`,o,c,this.animationValues);o.render();for(const f in c)o.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ste;const c={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gv(o==null?void 0:o.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=gv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Al(this.latestValues)&&(_.transform=f?f({},""):"none",this.hasProjected=!1),_}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=wte(this.projectionDeltaWithTransform,this.treeScale,p),f&&(c.transform=f(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in ay){if(p[_]===void 0)continue;const{correct:x,applyTo:g}=ay[_],w=c.transform==="none"?p[_]:x(p[_],h);if(g){const S=g.length;for(let b=0;b<S;b++)c[g[b]]=w}else c[_]=w}return this.options.layoutId&&(c.pointerEvents=h===this?gv(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(uN),this.root.sharedNodes.clear()}}}function Ete(t){t.updateLayout()}function bte(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Vr(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=br(p);p.min=i[h].min,p.max=p.min+m}):KF(s,n.layoutBox,i)&&Vr(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],m=br(i[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Ru();Qf(a,i,n.layoutBox);const l=Ru();o?Qf(l,t.applyTransform(r,!0),n.measuredBox):Qf(l,i,n.layoutBox);const c=!XF(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const v=Ln();Jf(v,n.layoutBox,p.layoutBox);const _=Ln();Jf(_,i,m.layoutBox),$F(v,_)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function Tte(t){If&&Cl.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ate(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Cte(t){t.clearSnapshot()}function uN(t){t.clearMeasurements()}function Pte(t){t.isLayoutDirty=!1}function Rte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Nte(t){t.resolveTargetDelta()}function Lte(t){t.calcProjection()}function Ite(t){t.resetSkewAndRotation()}function Dte(t){t.removeLeadSnapshot()}function fN(t,e,n){t.translate=gn(e.translate,0,n),t.scale=gn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hN(t,e,n,i){t.min=gn(e.min,n.min,i),t.max=gn(e.max,n.max,i)}function kte(t,e,n,i){hN(t.x,e.x,n.x,i),hN(t.y,e.y,n.y,i)}function Ote(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ute={duration:.45,ease:[.4,0,.1,1]},pN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mN=pN("applewebkit/")&&!pN("chrome/")?Math.round:Mr;function gN(t){t.min=mN(t.min),t.max=mN(t.max)}function Fte(t){gN(t.x),gN(t.y)}function KF(t,e,n){return t==="position"||t==="preserve-aspect"&&!Vee(aN(e),aN(n),.2)}function zte(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Bte=qF({attachResizeListener:(t,e)=>Kh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),y1={current:void 0},ZF=qF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!y1.current){const t=new Bte({});t.mount(window),t.setOptions({layoutScroll:!0}),y1.current=t}return y1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Vte={pan:{Feature:ite},drag:{Feature:nte,ProjectionNode:ZF,MeasureLayout:jF}};function vN(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&an.postRender(()=>s(e,Ap(e)))}class Hte extends tl{mount(){const{current:e}=this.node;e&&(this.unmount=HQ(e,n=>(vN(this.node,n,"Start"),i=>vN(this.node,i,"End"))))}unmount(){}}class jte extends tl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tp(Kh(this.node.current,"focus",()=>this.onFocus()),Kh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yN(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&an.postRender(()=>s(e,Ap(e)))}class Gte extends tl{mount(){const{current:e}=this.node;e&&(this.unmount=XQ(e,n=>(yN(this.node,n,"Start"),(i,{success:r})=>yN(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zS=new WeakMap,x1=new WeakMap,Wte=t=>{const e=zS.get(t.target);e&&e(t)},Xte=t=>{t.forEach(Wte)};function $te({root:t,...e}){const n=t||document;x1.has(n)||x1.set(n,{});const i=x1.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Xte,{root:t,...e})),i[r]}function Yte(t,e,n){const i=$te(e);return zS.set(t,n),i.observe(t),()=>{zS.delete(t),i.unobserve(t)}}const qte={some:0,all:1};class Kte extends tl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:qte[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=c?f:h;p&&p(l)};return Yte(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Zte(e,n))&&this.startObserver()}unmount(){}}function Zte({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Qte={inView:{Feature:Kte},tap:{Feature:Gte},focus:{Feature:jte},hover:{Feature:Hte}},Jte={layout:{ProjectionNode:ZF,MeasureLayout:jF}},BS={current:null},QF={current:!1};function ene(){if(QF.current=!0,!!JE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>BS.current=t.matches;t.addListener(e),e()}else BS.current=!1}const tne=[...MF,bi,Xa],nne=t=>tne.find(SF(t)),xN=new WeakMap;function ine(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Ci(r))t.addValue(i,r);else if(Ci(s))t.addValue(i,Yh(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,Yh(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const _N=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rne{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=qs.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,an.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:f}=o;this.onUpdate=f,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=x0(n),this.isVariantNode=NU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const v=p[m];l[m]!==void 0&&Ci(v)&&v.set(l[m],!1)}}mount(e){this.current=e,xN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),QF.current||ene(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:BS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xN.delete(this.current),this.projection&&this.projection.unmount(),Wa(this.notifyUpdate),Wa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=yc.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&an.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pd){const n=pd[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<_N.length;i++){const r=_N[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=ine(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Yh(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(_F(r)||dF(r))?r=parseFloat(r):!nne(r)&&Xa.test(n)&&(r=vF(e,n)),this.setBaseTarget(e,Ci(r)?r.get():r)),Ci(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=ob(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ci(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _b),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class JF extends rne{constructor(){super(...arguments),this.KeyframeResolver=EF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ci(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function sne(t){return window.getComputedStyle(t)}class one extends JF{constructor(){super(...arguments),this.type="html",this.renderInstance=BU}readValueFromInstance(e,n){if(yc.has(n)){const i=bb(n);return i&&i.default||0}else{const i=sne(e),r=(UU(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return VF(e,n)}build(e,n,i){cb(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return hb(e,n,i)}}class ane extends JF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(yc.has(n)){const i=bb(n);return i&&i.default||0}return n=VU.has(n)?n:ib(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return GU(e,n,i)}build(e,n,i){ub(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){HU(e,n,i,r)}mount(e){this.isSVGTag=fb(e.tagName),super.mount(e)}}const lne=(t,e)=>sb(t)?new ane(e):new one(e,{allowProjection:t!==P.Fragment}),cne=kQ({...Lee,...Qte,...Vte,...Jte},lne),Be=KZ(cne),une=({text:t,className:e=""})=>{const[n,i]=P.useState(""),[r,s]=P.useState(!1),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%&*";P.useEffect(()=>{let l=0;const c=setInterval(()=>{i(t.split("").map((f,h)=>f===" "||f===`
`?f:h<l?t[h]:o[Math.floor(Math.random()*o.length)]).join("")),l>=t.length&&(clearInterval(c),s(!0)),l+=1/3},30);return()=>clearInterval(c)},[t]);const a=n.split(`
`);return E.jsx(Be.h1,{className:`${e} ${r?"":"animate-glitch-subtle"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},whileHover:{scale:1.02},children:a.map((l,c)=>E.jsx("span",{className:"block whitespace-nowrap",children:l},c))})},dne=()=>E.jsxs("section",{id:"home",className:"min-h-screen flex items-center justify-center relative overflow-hidden px-4 py-16 md:py-0",children:[E.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[E.jsx("div",{className:"absolute top-1/4 left-1/4 w-48 md:w-96 h-48 md:h-96 bg-primary/10 rounded-full blur-3xl animate-pulse-glow"}),E.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-48 md:w-96 h-48 md:h-96 bg-secondary/10 rounded-full blur-3xl animate-pulse-glow",style:{animationDelay:"1s"}})]}),E.jsx("div",{className:"container mx-auto px-2 md:px-4 z-10",children:E.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[E.jsx(Be.div,{initial:{scale:.8,opacity:0,rotate:-10},animate:{scale:1,opacity:1,rotate:0},transition:{duration:.8,type:"spring"},className:"mb-4 md:mb-6 inline-block relative",children:E.jsx(oH,{className:"w-12 h-12 md:w-20 md:h-20 text-primary animate-glow-pulse"})}),E.jsx(une,{text:`Ignacio Estanislao
Pezzana`,className:"text-3xl sm:text-4xl md:text-6xl lg:text-8xl font-bold mb-4 md:mb-6 glow-text-cyan relative"}),E.jsx(Be.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.8},className:"text-lg sm:text-xl md:text-2xl lg:text-3xl mb-4 md:mb-8 text-secondary glow-text-green",children:"Junior Red Teamer | Cybersecurity Specialist"}),E.jsxs(Be.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.8},className:"text-sm sm:text-base md:text-lg lg:text-xl mb-8 md:mb-12 max-w-2xl mx-auto text-muted-foreground flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-0",children:[E.jsx("span",{className:"inline-block hover:text-primary transition-colors",children:"Penetration Testing"}),E.jsx("span",{className:"hidden sm:inline mx-2",children:""}),E.jsx("span",{className:"inline-block hover:text-primary transition-colors",children:"Security Assessment"}),E.jsx("span",{className:"hidden sm:inline mx-2",children:""}),E.jsx("span",{className:"inline-block hover:text-primary transition-colors",children:"Vulnerability Analysis"})]}),E.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.8},className:"flex gap-3 md:gap-4 justify-center items-center flex-wrap",children:[E.jsx(Be.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:E.jsx(Ft,{size:"default",className:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-[0_0_20px_rgba(0,255,255,0.3)] hover:shadow-[0_0_40px_rgba(0,255,255,0.5)] transition-all text-sm md:text-base px-4 md:px-6",asChild:!0,children:E.jsx("a",{href:"#projects",children:"View Projects"})})}),E.jsx(Be.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:E.jsx(Ft,{variant:"outline",size:"default",className:"border-primary text-primary hover:bg-primary/10 hover:shadow-[0_0_20px_rgba(0,255,255,0.3)] transition-all text-sm md:text-base px-4 md:px-6",asChild:!0,children:E.jsx("a",{href:"#contact",children:"Get in Touch"})})})]}),E.jsx(Be.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.8},className:"flex gap-6 md:gap-8 justify-center mt-8 md:mt-12",children:[{icon:wd,href:"https://github.com/HackyN3t",label:"GitHub"},{icon:Dy,href:"https://www.linkedin.com/in/ignacio-estanislao-pezzana",label:"LinkedIn"},{icon:XM,href:"https://youtube.com",label:"YouTube"}].map((t,e)=>E.jsxs(Be.a,{href:t.href,target:"_blank",rel:"noopener noreferrer",className:"relative group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1+e*.1},whileHover:{y:-5},children:[E.jsx(t.icon,{className:"w-6 h-6 md:w-8 md:h-8 text-foreground group-hover:text-primary transition-colors relative z-10"}),E.jsx(Be.div,{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl",initial:{scale:0,opacity:0},whileHover:{scale:1.5,opacity:1},transition:{duration:.3}})]},t.label))})]})})]}),yn=P.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:Hn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));yn.displayName="Card";const si=P.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:Hn("flex flex-col space-y-1.5 p-6",t),...e}));si.displayName="CardHeader";const oi=P.forwardRef(({className:t,...e},n)=>E.jsx("h3",{ref:n,className:Hn("text-2xl font-semibold leading-none tracking-tight",t),...e}));oi.displayName="CardTitle";const xs=P.forwardRef(({className:t,...e},n)=>E.jsx("p",{ref:n,className:Hn("text-sm text-muted-foreground",t),...e}));xs.displayName="CardDescription";const xn=P.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:Hn("p-6 pt-0",t),...e}));xn.displayName="CardContent";const fne=P.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:Hn("flex items-center p-6 pt-0",t),...e}));fne.displayName="CardFooter";var _1="focusScope.autoFocusOnMount",w1="focusScope.autoFocusOnUnmount",wN={bubbles:!1,cancelable:!0},hne="FocusScope",ez=P.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=t,[a,l]=P.useState(null),c=Ks(r),f=Ks(s),h=P.useRef(null),p=Wi(e,_=>l(_)),m=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(i){let _=function(S){if(m.paused||!a)return;const b=S.target;a.contains(b)?h.current=b:fa(h.current,{select:!0})},x=function(S){if(m.paused||!a)return;const b=S.relatedTarget;b!==null&&(a.contains(b)||fa(h.current,{select:!0}))},g=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&fa(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",x);const w=new MutationObserver(g);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",x),w.disconnect()}}},[i,a,m.paused]),P.useEffect(()=>{if(a){MN.add(m);const _=document.activeElement;if(!a.contains(_)){const g=new CustomEvent(_1,wN);a.addEventListener(_1,c),a.dispatchEvent(g),g.defaultPrevented||(pne(xne(tz(a)),{select:!0}),document.activeElement===_&&fa(a))}return()=>{a.removeEventListener(_1,c),setTimeout(()=>{const g=new CustomEvent(w1,wN);a.addEventListener(w1,f),a.dispatchEvent(g),g.defaultPrevented||fa(_??document.body,{select:!0}),a.removeEventListener(w1,f),MN.remove(m)},0)}}},[a,c,f,m]);const v=P.useCallback(_=>{if(!n&&!i||m.paused)return;const x=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,g=document.activeElement;if(x&&g){const w=_.currentTarget,[S,b]=mne(w);S&&b?!_.shiftKey&&g===b?(_.preventDefault(),n&&fa(S,{select:!0})):_.shiftKey&&g===S&&(_.preventDefault(),n&&fa(b,{select:!0})):g===w&&_.preventDefault()}},[n,i,m.paused]);return E.jsx(Cn.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});ez.displayName=hne;function pne(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(fa(i,{select:e}),document.activeElement!==n)return}function mne(t){const e=tz(t),n=SN(e,t),i=SN(e.reverse(),t);return[n,i]}function tz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function SN(t,e){for(const n of t)if(!gne(n,{upTo:e}))return n}function gne(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function vne(t){return t instanceof HTMLInputElement&&"select"in t}function fa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&vne(t)&&e&&t.select()}}var MN=yne();function yne(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=EN(t,e),t.unshift(e)},remove(e){var n;t=EN(t,e),(n=t[0])==null||n.resume()}}}function EN(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function xne(t){return t.filter(e=>e.tagName!=="A")}var S1=0;function _ne(){P.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bN()),document.body.insertAdjacentElement("beforeend",t[1]??bN()),S1++,()=>{S1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),S1--}},[])}function bN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bs=function(){return Bs=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bs.apply(this,arguments)};function nz(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function wne(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}var xv="right-scroll-bar-position",_v="width-before-scroll-bar",Sne="with-scroll-bars-hidden",Mne="--removed-body-scroll-bar-size";function M1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ene(t,e){var n=P.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var bne=typeof window<"u"?P.useLayoutEffect:P.useEffect,TN=new WeakMap;function Tne(t,e){var n=Ene(null,function(i){return t.forEach(function(r){return M1(r,i)})});return bne(function(){var i=TN.get(n);if(i){var r=new Set(i),s=new Set(t),o=n.current;r.forEach(function(a){s.has(a)||M1(a,null)}),s.forEach(function(a){r.has(a)||M1(a,o)})}TN.set(n,t)},[t]),n}function Ane(t){return t}function Cne(t,e){e===void 0&&(e=Ane);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,i);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(i=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){i=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var f=o;o=[],f.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){o.push(f),c()},filter:function(f){return o=o.filter(f),n}}}};return r}function Pne(t){t===void 0&&(t={});var e=Cne(null);return e.options=Bs({async:!0,ssr:!1},t),e}var iz=function(t){var e=t.sideCar,n=nz(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return P.createElement(i,Bs({},n))};iz.isSideCarExport=!0;function Rne(t,e){return t.useMedium(e),iz}var rz=Pne(),E1=function(){},S0=P.forwardRef(function(t,e){var n=P.useRef(null),i=P.useState({onScrollCapture:E1,onWheelCapture:E1,onTouchMoveCapture:E1}),r=i[0],s=i[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,h=t.shards,p=t.sideCar,m=t.noRelative,v=t.noIsolation,_=t.inert,x=t.allowPinchZoom,g=t.as,w=g===void 0?"div":g,S=t.gapMode,b=nz(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,C=Tne([n,e]),N=Bs(Bs({},b),r);return P.createElement(P.Fragment,null,f&&P.createElement(A,{sideCar:rz,removeScrollBar:c,shards:h,noRelative:m,noIsolation:v,inert:_,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:S}),o?P.cloneElement(P.Children.only(a),Bs(Bs({},N),{ref:C})):P.createElement(w,Bs({},N,{className:l,ref:C}),a))});S0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};S0.classNames={fullWidth:_v,zeroRight:xv};var Nne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lne(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Nne();return e&&t.setAttribute("nonce",e),t}function Ine(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Dne(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kne=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Lne())&&(Ine(e,n),Dne(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},One=function(){var t=kne();return function(e,n){P.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},sz=function(){var t=One(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},Une={left:0,top:0,right:0,gap:0},b1=function(t){return parseInt(t||"",10)||0},Fne=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[b1(n),b1(i),b1(r)]},zne=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Une;var e=Fne(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},Bne=sz(),Hu="data-scroll-locked",Vne=function(t,e,n,i){var r=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Sne,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(a,"px ").concat(i,`;
  }
  body[`).concat(Hu,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xv,` {
    right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(_v,` {
    margin-right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(xv," .").concat(xv,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(_v," .").concat(_v,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Hu,`] {
    `).concat(Mne,": ").concat(a,`px;
  }
`)},AN=function(){var t=parseInt(document.body.getAttribute(Hu)||"0",10);return isFinite(t)?t:0},Hne=function(){P.useEffect(function(){return document.body.setAttribute(Hu,(AN()+1).toString()),function(){var t=AN()-1;t<=0?document.body.removeAttribute(Hu):document.body.setAttribute(Hu,t.toString())}},[])},jne=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;Hne();var s=P.useMemo(function(){return zne(r)},[r]);return P.createElement(Bne,{styles:Vne(s,!e,r,n?"":"!important")})},VS=!1;if(typeof window<"u")try{var jg=Object.defineProperty({},"passive",{get:function(){return VS=!0,!0}});window.addEventListener("test",jg,jg),window.removeEventListener("test",jg,jg)}catch{VS=!1}var su=VS?{passive:!1}:!1,Gne=function(t){return t.tagName==="TEXTAREA"},oz=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Gne(t)&&n[e]==="visible")},Wne=function(t){return oz(t,"overflowY")},Xne=function(t){return oz(t,"overflowX")},CN=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=az(t,i);if(r){var s=lz(t,i),o=s[1],a=s[2];if(o>a)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},$ne=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},Yne=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},az=function(t,e){return t==="v"?Wne(e):Xne(e)},lz=function(t,e){return t==="v"?$ne(e):Yne(e)},qne=function(t,e){return t==="h"&&e==="rtl"?-1:1},Kne=function(t,e,n,i,r){var s=qne(t,window.getComputedStyle(e).direction),o=s*i,a=n.target,l=e.contains(a),c=!1,f=o>0,h=0,p=0;do{if(!a)break;var m=lz(t,a),v=m[0],_=m[1],x=m[2],g=_-x-s*v;(v||g)&&az(t,a)&&(h+=g,p+=v);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(Math.abs(h)<1||!r)||!f&&(Math.abs(p)<1||!r))&&(c=!0),c},Gg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},PN=function(t){return[t.deltaX,t.deltaY]},RN=function(t){return t&&"current"in t?t.current:t},Zne=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Qne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Jne=0,ou=[];function eie(t){var e=P.useRef([]),n=P.useRef([0,0]),i=P.useRef(),r=P.useState(Jne++)[0],s=P.useState(sz)[0],o=P.useRef(t);P.useEffect(function(){o.current=t},[t]),P.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var _=wne([t.lockRef.current],(t.shards||[]).map(RN),!0).filter(Boolean);return _.forEach(function(x){return x.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),_.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var a=P.useCallback(function(_,x){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var g=Gg(_),w=n.current,S="deltaX"in _?_.deltaX:w[0]-g[0],b="deltaY"in _?_.deltaY:w[1]-g[1],A,C=_.target,N=Math.abs(S)>Math.abs(b)?"h":"v";if("touches"in _&&N==="h"&&C.type==="range")return!1;var k=CN(N,C);if(!k)return!0;if(k?A=N:(A=N==="v"?"h":"v",k=CN(N,C)),!k)return!1;if(!i.current&&"changedTouches"in _&&(S||b)&&(i.current=A),!A)return!0;var L=i.current||A;return Kne(L,x,_,L==="h"?S:b,!0)},[]),l=P.useCallback(function(_){var x=_;if(!(!ou.length||ou[ou.length-1]!==s)){var g="deltaY"in x?PN(x):Gg(x),w=e.current.filter(function(A){return A.name===x.type&&(A.target===x.target||x.target===A.shadowParent)&&Zne(A.delta,g)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(RN).filter(Boolean).filter(function(A){return A.contains(x.target)}),b=S.length>0?a(x,S[0]):!o.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),c=P.useCallback(function(_,x,g,w){var S={name:_,delta:x,target:g,should:w,shadowParent:tie(g)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(b){return b!==S})},1)},[]),f=P.useCallback(function(_){n.current=Gg(_),i.current=void 0},[]),h=P.useCallback(function(_){c(_.type,PN(_),_.target,a(_,t.lockRef.current))},[]),p=P.useCallback(function(_){c(_.type,Gg(_),_.target,a(_,t.lockRef.current))},[]);P.useEffect(function(){return ou.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,su),document.addEventListener("touchmove",l,su),document.addEventListener("touchstart",f,su),function(){ou=ou.filter(function(_){return _!==s}),document.removeEventListener("wheel",l,su),document.removeEventListener("touchmove",l,su),document.removeEventListener("touchstart",f,su)}},[]);var m=t.removeScrollBar,v=t.inert;return P.createElement(P.Fragment,null,v?P.createElement(s,{styles:Qne(r)}):null,m?P.createElement(jne,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function tie(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const nie=Rne(rz,eie);var cz=P.forwardRef(function(t,e){return P.createElement(S0,Bs({},t,{ref:e,sideCar:nie}))});cz.classNames=S0.classNames;var iie=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},au=new WeakMap,Wg=new WeakMap,Xg={},T1=0,uz=function(t){return t&&(t.host||uz(t.parentNode))},rie=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=uz(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},sie=function(t,e,n,i){var r=rie(e,Array.isArray(t)?t:[t]);Xg[n]||(Xg[n]=new WeakMap);var s=Xg[n],o=[],a=new Set,l=new Set(r),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};r.forEach(c);var f=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))f(p);else try{var m=p.getAttribute(i),v=m!==null&&m!=="false",_=(au.get(p)||0)+1,x=(s.get(p)||0)+1;au.set(p,_),s.set(p,x),o.push(p),_===1&&v&&Wg.set(p,!0),x===1&&p.setAttribute(n,"true"),v||p.setAttribute(i,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return f(e),a.clear(),T1++,function(){o.forEach(function(h){var p=au.get(h)-1,m=s.get(h)-1;au.set(h,p),s.set(h,m),p||(Wg.has(h)||h.removeAttribute(i),Wg.delete(h)),m||h.removeAttribute(n)}),T1--,T1||(au=new WeakMap,au=new WeakMap,Wg=new WeakMap,Xg={})}},oie=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=iie(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),sie(i,r,n,"aria-hidden")):function(){return null}},M0="Dialog",[dz,_re]=xd(M0),[aie,Ss]=dz(M0),fz=t=>{const{__scopeDialog:e,children:n,open:i,defaultOpen:r,onOpenChange:s,modal:o=!0}=t,a=P.useRef(null),l=P.useRef(null),[c,f]=a3({prop:i,defaultProp:r??!1,onChange:s,caller:M0});return E.jsx(aie,{scope:e,triggerRef:a,contentRef:l,contentId:l_(),titleId:l_(),descriptionId:l_(),open:c,onOpenChange:f,onOpenToggle:P.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};fz.displayName=M0;var hz="DialogTrigger",lie=P.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Ss(hz,n),s=Wi(e,r.triggerRef);return E.jsx(Cn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Lb(r.open),...i,ref:s,onClick:dn(t.onClick,r.onOpenToggle)})});lie.displayName=hz;var Rb="DialogPortal",[cie,pz]=dz(Rb,{forceMount:void 0}),mz=t=>{const{__scopeDialog:e,forceMount:n,children:i,container:r}=t,s=Ss(Rb,e);return E.jsx(cie,{scope:e,forceMount:n,children:P.Children.map(i,o=>E.jsx(_d,{present:n||s.open,children:E.jsx(zM,{asChild:!0,container:r,children:o})}))})};mz.displayName=Rb;var hy="DialogOverlay",gz=P.forwardRef((t,e)=>{const n=pz(hy,t.__scopeDialog),{forceMount:i=n.forceMount,...r}=t,s=Ss(hy,t.__scopeDialog);return s.modal?E.jsx(_d,{present:i||s.open,children:E.jsx(die,{...r,ref:e})}):null});gz.displayName=hy;var uie=vh("DialogOverlay.RemoveScroll"),die=P.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Ss(hy,n);return E.jsx(cz,{as:uie,allowPinchZoom:!0,shards:[r.contentRef],children:E.jsx(Cn.div,{"data-state":Lb(r.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),lc="DialogContent",vz=P.forwardRef((t,e)=>{const n=pz(lc,t.__scopeDialog),{forceMount:i=n.forceMount,...r}=t,s=Ss(lc,t.__scopeDialog);return E.jsx(_d,{present:i||s.open,children:s.modal?E.jsx(fie,{...r,ref:e}):E.jsx(hie,{...r,ref:e})})});vz.displayName=lc;var fie=P.forwardRef((t,e)=>{const n=Ss(lc,t.__scopeDialog),i=P.useRef(null),r=Wi(e,n.contentRef,i);return P.useEffect(()=>{const s=i.current;if(s)return oie(s)},[]),E.jsx(yz,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:dn(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:dn(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:dn(t.onFocusOutside,s=>s.preventDefault())})}),hie=P.forwardRef((t,e)=>{const n=Ss(lc,t.__scopeDialog),i=P.useRef(!1),r=P.useRef(!1);return E.jsx(yz,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(i.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),yz=P.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=t,a=Ss(lc,n),l=P.useRef(null),c=Wi(e,l);return _ne(),E.jsxs(E.Fragment,{children:[E.jsx(ez,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:E.jsx(Ny,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Lb(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(pie,{titleId:a.titleId}),E.jsx(gie,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Nb="DialogTitle",xz=P.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Ss(Nb,n);return E.jsx(Cn.h2,{id:r.titleId,...i,ref:e})});xz.displayName=Nb;var _z="DialogDescription",wz=P.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Ss(_z,n);return E.jsx(Cn.p,{id:r.descriptionId,...i,ref:e})});wz.displayName=_z;var Sz="DialogClose",Mz=P.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,r=Ss(Sz,n);return E.jsx(Cn.button,{type:"button",...i,ref:e,onClick:dn(t.onClick,()=>r.onOpenChange(!1))})});Mz.displayName=Sz;function Lb(t){return t?"open":"closed"}var Ez="DialogTitleWarning",[wre,bz]=oV(Ez,{contentName:lc,titleName:Nb,docsSlug:"dialog"}),pie=({titleId:t})=>{const e=bz(Ez),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return P.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mie="DialogDescriptionWarning",gie=({contentRef:t,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bz(mie).contentName}}.`;return P.useEffect(()=>{var s;const r=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(i))},[i,t,e]),null},vie=fz,yie=mz,Tz=gz,Az=vz,Cz=xz,Pz=wz,xie=Mz;const Rz=vie,_ie=yie,Nz=P.forwardRef(({className:t,...e},n)=>E.jsx(Tz,{ref:n,className:Hn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Nz.displayName=Tz.displayName;const Ib=P.forwardRef(({className:t,children:e,...n},i)=>E.jsxs(_ie,{children:[E.jsx(Nz,{}),E.jsxs(Az,{ref:i,className:Hn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,E.jsxs(xie,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[E.jsx(WM,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ib.displayName=Az.displayName;const Db=({className:t,...e})=>E.jsx("div",{className:Hn("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Db.displayName="DialogHeader";const kb=P.forwardRef(({className:t,...e},n)=>E.jsx(Cz,{ref:n,className:Hn("text-lg font-semibold leading-none tracking-tight",t),...e}));kb.displayName=Cz.displayName;const Ob=P.forwardRef(({className:t,...e},n)=>E.jsx(Pz,{ref:n,className:Hn("text-sm text-muted-foreground",t),...e}));Ob.displayName=Pz.displayName;const Lz=({isOpen:t,onClose:e,repoUrl:n,projectTitle:i,files:r})=>{var a,l;const[s,o]=P.useState(0);return P.useEffect(()=>{t&&o(0)},[t]),E.jsx(Rz,{open:t,onOpenChange:e,children:E.jsxs(Ib,{className:"max-w-5xl h-[90vh] flex flex-col",children:[E.jsxs(Db,{className:"flex-shrink-0",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs(kb,{className:"text-primary",children:[i," - Code Preview"]}),E.jsx(Ft,{variant:"outline",size:"sm",asChild:!0,children:E.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:[E.jsx(Hi,{className:"w-4 h-4 mr-2"}),"View on GitHub"]})})]}),E.jsx(Ob,{className:"text-sm text-muted-foreground",children:"Browse the source code files from this repository"})]}),E.jsxs("div",{className:"flex gap-4 flex-1 min-h-0",children:[E.jsxs("div",{className:"w-48 flex-shrink-0 border-r border-border pr-4 overflow-y-auto scrollbar-hide",children:[E.jsx("h4",{className:"text-sm font-semibold mb-2 text-muted-foreground sticky top-0 bg-background py-1",children:"Files"}),E.jsx("div",{className:"space-y-1",children:r.map((c,f)=>E.jsx("button",{onClick:()=>o(f),className:`w-full text-left text-sm px-2 py-1.5 rounded transition-colors ${s===f?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-accent hover:text-foreground"}`,children:c.name},f))})]}),E.jsx("div",{className:"flex-1 min-w-0 flex flex-col",children:E.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 flex-1 min-h-0 flex flex-col",children:[E.jsx("div",{className:"mb-2 text-xs text-muted-foreground flex-shrink-0 font-mono",children:(a=r[s])==null?void 0:a.name}),E.jsx("div",{className:"flex-1 overflow-auto min-h-0 scrollbar-hide",children:E.jsx("pre",{className:"text-xs sm:text-sm font-mono",children:E.jsx("code",{className:"text-foreground block",children:(l=r[s])==null?void 0:l.content})})})]})})]})]})})},wie=[{title:"C Programming Library",description:"Custom implementation of standard C library functions",tech:["C","String Manipulation","Low-level Programming"],github:"https://github.com/HackyN3t/C",demo:"https://github.com/HackyN3t/C",codeFiles:[{name:"my_atoi.c",content:`#include <stdio.h>

int my_atoi(const char *str) {
    int result = 0;
    int sign = 1;
    int i = 0;
    
    // Skip whitespace
    while (str[i] == ' ') {
        i++;
    }
    
    // Handle sign
    if (str[i] == '-' || str[i] == '+') {
        sign = (str[i] == '-') ? -1 : 1;
        i++;
    }
    
    // Convert string to integer
    while (str[i] >= '0' && str[i] <= '9') {
        result = result * 10 + (str[i] - '0');
        i++;
    }
    
    return sign * result;
}`},{name:"my_strcmp.c",content:`#include <stdio.h>

int my_strcmp(const char *s1, const char *s2) {
    while (*s1 && (*s1 == *s2)) {
        s1++;
        s2++;
    }
    return *(unsigned char *)s1 - *(unsigned char *)s2;
}`},{name:"my_strcat.c",content:`#include <stdio.h>

char *my_strcat(char *dest, const char *src) {
    char *ptr = dest;
    
    // Move to end of dest
    while (*ptr != '\\0') {
        ptr++;
    }
    
    // Copy src to end of dest
    while (*src != '\\0') {
        *ptr = *src;
        ptr++;
        src++;
    }
    
    *ptr = '\\0';
    return dest;
}`}]},{title:"Python Security Tools",description:"Python-based security tools including network scanners and reconnaissance utilities",tech:["Python","Networking","Socket Programming","Security"],github:"https://github.com/HackyN3t/Python",demo:"https://github.com/HackyN3t/Python",codeFiles:[{name:"portScanner.py",content:`#!/usr/bin/env python3
"""
Port Scanner Tool
A simple yet effective port scanner for network reconnaissance
"""

import socket
import sys
from datetime import datetime

def scan_port(target, port):
    """
    Scan a single port on the target host
    Returns True if port is open, False otherwise
    """
    try:
        # Create a socket object
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        sock.settimeout(1)
        
        # Attempt to connect
        result = sock.connect_ex((target, port))
        sock.close()
        
        return result == 0
    except socket.error:
        return False

def scan_range(target, start_port, end_port):
    """
    Scan a range of ports on the target host
    """
    print(f"Scanning target: {target}")
    print(f"Port range: {start_port}-{end_port}")
    print(f"Scan started at: {datetime.now()}")
    print("-" * 50)
    
    open_ports = []
    
    for port in range(start_port, end_port + 1):
        if scan_port(target, port):
            print(f"Port {port}: OPEN")
            open_ports.append(port)
    
    print("-" * 50)
    print(f"Scan completed at: {datetime.now()}")
    print(f"Total open ports found: {len(open_ports)}")
    
    return open_ports

if __name__ == "__main__":
    if len(sys.argv) != 4:
        print("Usage: python portScanner.py <target> <start_port> <end_port>")
        sys.exit(1)
    
    target = sys.argv[1]
    start_port = int(sys.argv[2])
    end_port = int(sys.argv[3])
    
    scan_range(target, start_port, end_port)`}]},{title:"Bash Security Scripts",description:"Collection of Bash scripts for security testing and network analysis",tech:["Bash","Shell Scripting","Network Security"],github:"https://github.com/HackyN3t/BashScript",demo:"https://github.com/HackyN3t/BashScript",codeFiles:[{name:"MacChanger/mac_changer.sh",content:`#!/bin/bash

# MAC Address Changer Script
# Changes network interface MAC address

echo "MAC Address Changer"
echo "==================="

# Check if running as root
if [ "$EUID" -ne 0 ]; then 
    echo "Please run as root"
    exit 1
fi

# List available interfaces
echo "Available interfaces:"
ip link show | grep -E '^[0-9]+:' | cut -d: -f2

read -p "Enter interface name: " interface
read -p "Enter new MAC address: " new_mac

# Bring interface down
ip link set $interface down

# Change MAC address
ip link set $interface address $new_mac

# Bring interface up
ip link set $interface up

echo "MAC address changed successfully!"`},{name:"PortScan/port_scanner.sh",content:`#!/bin/bash

# Simple Port Scanner Script
# Scans common ports on target host

echo "Port Scanner"
echo "============"

read -p "Enter target IP/hostname: " target
read -p "Enter port range (e.g., 1-1000): " range

IFS='-' read -ra PORTS <<< "$range"
start_port=\${PORTS[0]}
end_port=\${PORTS[1]}

echo "Scanning $target from port $start_port to $end_port..."

for ((port=$start_port; port<=$end_port; port++)); do
    timeout 1 bash -c "echo >/dev/tcp/$target/$port" 2>/dev/null
    if [ $? -eq 0 ]; then
        echo "Port $port is OPEN"
    fi
done

echo "Scan complete!"`}]}],Sie=()=>{const[t,e]=P.useState(!1),[n,i]=P.useState(null),r=s=>{i(s),e(!0)};return E.jsxs("section",{id:"projects",className:"py-20 relative",children:[E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[E.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 text-center glow-text-cyan",children:"Featured Projects"}),E.jsx("p",{className:"text-center text-muted-foreground mb-12 text-lg",children:"Showcasing my cybersecurity projects and research"})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:wie.map((s,o)=>E.jsx(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:o*.1},children:E.jsxs(yn,{className:"bg-card border-primary/20 hover:border-primary/50 transition-all duration-300 h-full cyber-border",children:[E.jsxs(si,{children:[E.jsx(oi,{className:"text-primary",children:s.title}),E.jsx(xs,{className:"text-muted-foreground",children:s.description})]}),E.jsxs(xn,{children:[E.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.tech.map((a,l)=>E.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary text-sm rounded-full border border-primary/20",children:a},l))}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs(Ft,{variant:"outline",size:"sm",className:"border-primary/30",onClick:()=>r(s),children:[E.jsx(GM,{className:"w-4 h-4 mr-2"}),"Preview"]}),E.jsx(Ft,{variant:"outline",size:"sm",className:"border-primary/30",asChild:!0,children:E.jsxs("a",{href:s.github,target:"_blank",rel:"noopener noreferrer",children:[E.jsx(wd,{className:"w-4 h-4 mr-2"}),"Code"]})})]})]})]})},o))}),E.jsx(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mt-12",children:E.jsx(Ft,{variant:"outline",size:"lg",className:"border-primary/30",asChild:!0,children:E.jsxs(Cr,{to:"/projects",children:["View All Projects",E.jsx(Hi,{className:"w-4 h-4 ml-2"})]})})})]}),n&&E.jsx(Lz,{isOpen:t,onClose:()=>e(!1),repoUrl:n.github,projectTitle:n.title,files:n.codeFiles})]})},Mie=[{title:"AstroPet.it",description:"Pet care and services platform",url:"https://astropet.it",image:"/images/astropet-preview.png",tags:["E-commerce","Pet Services"]},{title:"6ixSearch.it",description:"Advanced search engine solution",url:"https://6ixsearch.it",image:"/images/6ixsearch-preview.png",tags:["Search","Web App"]}],Eie=()=>E.jsx("section",{id:"sites",className:"py-20 relative",children:E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[E.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 text-center glow-text-cyan",children:"Live Sites"}),E.jsx("p",{className:"text-center text-muted-foreground mb-12 text-lg",children:"Websites I've developed and deployed"})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 mb-8",children:Mie.map((t,e)=>E.jsx(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.1},children:E.jsxs(yn,{className:"bg-card border-primary/20 hover:border-primary/50 transition-all duration-300 h-full cyber-border overflow-hidden group",children:[E.jsxs("div",{className:"relative overflow-hidden",children:[E.jsx("img",{src:t.image,alt:t.title,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-110"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4",children:E.jsx(Ft,{variant:"outline",size:"sm",className:"border-primary/50",asChild:!0,children:E.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:[E.jsx(I3,{className:"w-4 h-4 mr-2"}),"Visit Site"]})})})]}),E.jsxs(si,{children:[E.jsxs(oi,{className:"text-primary flex items-center justify-between",children:[t.title,E.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-secondary hover:text-primary transition-colors",children:E.jsx(Hi,{className:"w-5 h-5"})})]}),E.jsx(xs,{className:"text-muted-foreground",children:t.description})]}),E.jsx(xn,{children:E.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((n,i)=>E.jsx("span",{className:"px-3 py-1 bg-secondary/10 text-secondary text-sm rounded-full border border-secondary/20",children:n},i))})})]})},e))}),E.jsx(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center",children:E.jsx(Ft,{variant:"outline",size:"lg",className:"border-primary/30",asChild:!0,children:E.jsxs(Cr,{to:"/sites",children:["View All Sites",E.jsx(Hi,{className:"w-4 h-4 ml-2"})]})})})]})}),Iz=[{name:"Luca Renzetti",role:"Frontend Developer Junior & Web Designer",description:"Specializzato in React, TypeScript e design systems moderni. Crea esperienze digitali eleganti con tecnologie all'avanguardia e design creativo.",fullDescription:"Frontend Developer Junior e Web & Graphic Designer con passione per la creazione di bellissime esperienze digitali. Combina competenze tecniche con creativit nel design per realizzare applicazioni web moderne, responsive e accattivanti.",url:"https://lurezi.github.io/",github:"https://github.com/lurezi",linkedin:"https://linkedin.com/in/luca-renzetti",email:"luca@renzetti.dev",image:"/images/luca-portfolio-preview-new.png",skills:["React","TypeScript","Tailwind CSS","Framer Motion","Web Design","Graphic Design","UI/UX","Responsive Design"],icon:N3,achievements:["Portfolio con design moderno e animazioni fluide","Interfacce utente eleganti e performanti","Integrazione perfetta tra codice e creativit"]},{name:"Alessandro Di Nisio",role:"Backend Developer",description:"Esperto in architetture scalabili, API design e database optimization. Backend robusto e sicuro.",fullDescription:"Backend Developer specializzato in soluzioni enterprise-grade. Competenza nell'architettura di sistemi distribuiti, microservizi e cloud infrastructure. Forte background in sicurezza e best practices di sviluppo.",url:"https://alessandrodinisio.dev",github:"https://github.com/alessandrodinisio",linkedin:"https://linkedin.com/in/alessandrodinisio",email:"alessandro@dinisio.dev",image:"/images/alessandro-portfolio-preview.png",skills:["Node.js","PostgreSQL","Docker","API Design","Redis","AWS","GraphQL","Microservices"],icon:nH,achievements:["API RESTful per 1M+ utenti","Riduzione query time del 60%","Implementazione CI/CD pipeline"]}],bie=()=>E.jsx("section",{id:"portfolios",className:"py-20 relative",children:E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[E.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 text-center glow-text-cyan",children:"Portfolios"}),E.jsx("p",{className:"text-center text-muted-foreground mb-12 text-lg",children:"Collaboratori e sviluppatori di talento"})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 mb-8",children:Iz.map((t,e)=>(t.icon,E.jsx(Be.div,{initial:{opacity:0,x:e%2===0?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:e*.15},whileHover:{y:-8},children:E.jsxs(yn,{className:"bg-card border-primary/20 hover:border-primary/60 transition-all duration-300 h-full cyber-border overflow-hidden group hover:shadow-[0_0_30px_rgba(var(--primary-rgb),0.3)]",children:[E.jsxs("div",{className:"relative overflow-hidden h-48",children:[E.jsx("img",{src:t.image,alt:`${t.name} portfolio`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),E.jsx("div",{className:"absolute top-4 right-4",children:E.jsx(Be.div,{whileHover:{rotate:360},transition:{duration:.5},children:E.jsx(H3,{className:"w-8 h-8 text-white drop-shadow-lg"})})}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent opacity-60 group-hover:opacity-80 transition-opacity duration-300"}),E.jsx("div",{className:"absolute inset-0 flex items-end justify-center pb-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:E.jsx(Ft,{variant:"outline",size:"sm",className:"border-primary/50 bg-background/80 backdrop-blur-sm",asChild:!0,children:E.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:[E.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Visita Portfolio"]})})})]}),E.jsxs(si,{children:[E.jsxs(oi,{className:"text-primary flex items-center justify-between group-hover:glow-text-cyan transition-all",children:[E.jsx("span",{children:t.name}),E.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-secondary hover:text-primary transition-colors",children:E.jsx(Hi,{className:"w-5 h-5"})})]}),E.jsx(xs,{className:"text-secondary font-semibold",children:t.role})]}),E.jsxs(xn,{className:"space-y-4",children:[E.jsx("p",{className:"text-muted-foreground",children:t.description}),E.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.map((n,i)=>E.jsx(Be.span,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.3+i*.1},whileHover:{scale:1.1},className:"px-3 py-1 bg-secondary/10 text-secondary text-sm rounded-full border border-secondary/20 hover:border-secondary/50 transition-all cursor-default",children:n},i))})]})]})},e)))}),E.jsx(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center",children:E.jsx(Ft,{variant:"outline",size:"lg",className:"border-primary/30 hover:border-primary/60 hover:shadow-[0_0_20px_rgba(var(--primary-rgb),0.2)]",asChild:!0,children:E.jsxs(Cr,{to:"/portfolios",children:["Vedi Tutti i Portfolios",E.jsx(Hi,{className:"w-4 h-4 ml-2"})]})})})]})}),Tie=[{icon:U3,title:"Operating Systems",tools:["Parrot Security","Kali Linux","Windows","Ubuntu","Cube OS","NetHunter"],color:"accent"},{icon:z3,title:"Scanners",tools:["Nmap","Nessus","Qualys","Tenable"],color:"primary"},{icon:Wv,title:"OSINT",tools:["Maltego","theHarvester","Sherlock"],color:"secondary"},{icon:V3,title:"Exploitation",tools:["Metasploit","BurpSuite","OWASP ZAP"],color:"accent"},{icon:L3,title:"Steganography",tools:["Steghide","Binwalk","ExifTool","OutGuess"],color:"primary"},{icon:F3,title:"Network Analysis",tools:["Wireshark","Netcat"],color:"secondary"},{icon:B3,title:"Discovery",tools:["GoBuster","FeroxBuster","Ffuf"],color:"accent"},{icon:D3,title:"Virtualization",tools:["VMware","VirtualBox"],color:"primary"}],Aie=()=>E.jsx("section",{id:"tools",className:"py-20 relative",children:E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[E.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 text-center glow-text-cyan",children:"Tools & Technologies"}),E.jsx("p",{className:"text-center text-muted-foreground mb-12 text-lg",children:"My cybersecurity toolkit and expertise"})]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6",children:Tie.map((t,e)=>{const n=t.icon;return E.jsx(Be.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:e*.05},children:E.jsxs(yn,{className:"bg-card border-primary/20 hover:border-primary/50 transition-all duration-300 h-full cyber-border group",children:[E.jsxs(si,{className:"p-3 md:p-6",children:[E.jsx(n,{className:"w-6 h-6 md:w-10 md:h-10 text-primary mb-1 md:mb-2 group-hover:animate-float"}),E.jsx(oi,{className:"text-primary text-sm md:text-base",children:t.title})]}),E.jsx(xn,{className:"p-3 pt-0 md:p-6 md:pt-0",children:E.jsx("ul",{className:"space-y-1 md:space-y-2",children:t.tools.map((i,r)=>E.jsxs("li",{className:"text-muted-foreground hover:text-foreground transition-colors flex items-center text-xs md:text-sm",children:[E.jsx("span",{className:"w-1 h-1 md:w-1.5 md:h-1.5 bg-primary rounded-full mr-1.5 md:mr-2 animate-glow-pulse flex-shrink-0"}),i]},r))})})]})},e)})}),E.jsx(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mt-12",children:E.jsx(Ft,{variant:"outline",size:"lg",className:"border-primary/30",asChild:!0,children:E.jsxs(Cr,{to:"/tools",children:["View All Tools",E.jsx(Hi,{className:"w-4 h-4 ml-2"})]})})})]})});var Ub="Progress",Fb=100,[Cie,Sre]=xd(Ub),[Pie,Rie]=Cie(Ub),Dz=P.forwardRef((t,e)=>{const{__scopeProgress:n,value:i=null,max:r,getValueLabel:s=Nie,...o}=t;(r||r===0)&&!NN(r)&&console.error(Lie(`${r}`,"Progress"));const a=NN(r)?r:Fb;i!==null&&!LN(i,a)&&console.error(Iie(`${i}`,"Progress"));const l=LN(i,a)?i:null,c=py(l)?s(l,a):void 0;return E.jsx(Pie,{scope:n,value:l,max:a,children:E.jsx(Cn.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":py(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Uz(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});Dz.displayName=Ub;var kz="ProgressIndicator",Oz=P.forwardRef((t,e)=>{const{__scopeProgress:n,...i}=t,r=Rie(kz,n);return E.jsx(Cn.div,{"data-state":Uz(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...i,ref:e})});Oz.displayName=kz;function Nie(t,e){return`${Math.round(t/e*100)}%`}function Uz(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function py(t){return typeof t=="number"}function NN(t){return py(t)&&!isNaN(t)&&t>0}function LN(t,e){return py(t)&&!isNaN(t)&&t<=e&&t>=0}function Lie(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Fb}\`.`}function Iie(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Fb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Fz=Dz,Die=Oz;const Zh=P.forwardRef(({className:t,value:e,...n},i)=>E.jsx(Fz,{ref:i,className:Hn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:E.jsx(Die,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Zh.displayName=Fz.displayName;const kie=[{name:"Python",level:40},{name:"Bash/Shell",level:60},{name:"JavaScript",level:15},{name:"PowerShell",level:10},{name:"SQL",level:30},{name:"C/C++",level:20}],Oie=[{name:"Spanish",level:100,description:"Native"},{name:"Italian",level:100,description:"Native"},{name:"English",level:20,description:"Basic"}],Uie=()=>E.jsx("section",{id:"skills",className:"py-20 relative",children:E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[E.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 text-center glow-text-cyan",children:"Skills & Languages"}),E.jsx("p",{className:"text-center text-muted-foreground mb-12 text-lg",children:"Technical proficiency and language capabilities"})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-8",children:[E.jsx(Be.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:E.jsxs(yn,{className:"bg-card border-primary/20 cyber-border h-full",children:[E.jsx(si,{children:E.jsx(oi,{className:"text-2xl text-primary",children:"Programming Languages"})}),E.jsx(xn,{className:"space-y-6",children:kie.map((t,e)=>E.jsxs(Be.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.4,delay:e*.1},children:[E.jsxs("div",{className:"flex justify-between mb-2",children:[E.jsx("span",{className:"text-foreground font-medium",children:t.name}),E.jsxs("span",{className:"text-primary",children:[t.level,"%"]})]}),E.jsx(Zh,{value:t.level,className:"h-2"})]},e))})]})}),E.jsx(Be.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:E.jsxs(yn,{className:"bg-card border-secondary/20 cyber-border h-full",children:[E.jsx(si,{children:E.jsx(oi,{className:"text-2xl text-secondary",children:"Spoken Languages"})}),E.jsx(xn,{className:"space-y-6",children:Oie.map((t,e)=>E.jsxs(Be.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.4,delay:e*.1},children:[E.jsxs("div",{className:"flex justify-between mb-2",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-foreground font-medium",children:t.name}),E.jsxs("span",{className:"text-muted-foreground text-sm ml-2",children:["(",t.description,")"]})]}),E.jsxs("span",{className:"text-secondary",children:[t.level,"%"]})]}),E.jsx(Zh,{value:t.level,className:"h-2"})]},e))})]})})]}),E.jsx(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mt-12",children:E.jsx(Ft,{variant:"outline",size:"lg",className:"border-primary/30",asChild:!0,children:E.jsxs(Cr,{to:"/skills",children:["View All Skills",E.jsx(Hi,{className:"w-4 h-4 ml-2"})]})})})]})}),Fie=({isOpen:t,onClose:e,certificateUrl:n,certificateTitle:i})=>E.jsx(Rz,{open:t,onOpenChange:e,children:E.jsxs(Ib,{className:"max-w-4xl h-[90vh] p-0 flex flex-col",children:[E.jsxs(Db,{className:"p-6 pb-0 flex-shrink-0",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx(kb,{className:"text-primary",children:i}),E.jsx("div",{className:"flex gap-2",children:E.jsx(Ft,{variant:"outline",size:"sm",asChild:!0,children:E.jsxs("a",{href:n,download:!0,children:[E.jsx(iH,{className:"w-4 h-4 mr-2"}),"Download"]})})})]}),E.jsx(Ob,{className:"text-sm text-muted-foreground",children:"Professional certification document"})]}),E.jsx("div",{className:"flex-1 p-6 pt-4 min-h-0 overflow-auto scrollbar-hide",children:E.jsx("iframe",{src:n,className:"w-full h-full rounded-lg border border-border",title:i})})]})}),zie=[{title:"Curso Metasploit (CM)",issuer:"Academy Securiters",date:"November 2025",description:"Comprehensive Metasploit Framework exploitation course",link:"/certificates/metasploit.pdf"},{title:"Introduccin Python (CIP1)",issuer:"Academy Securiters",date:"November 2025",description:"Introduction to Python programming fundamentals",link:"/certificates/python-introduccion.pdf"},{title:"Python II: Libreras ciberseguridad (CP2)",issuer:"Academy Securiters",date:"November 2025",description:"Python libraries for cybersecurity applications",link:"/certificates/python-ciberseguridad.pdf"},{title:"Introduccin CiberInteligencia (CICI)",issuer:"Academy Securiters",date:"June 2025",description:"Introduction to Cyber Intelligence fundamentals",link:"/certificates/ciberinteligencia.pdf"},{title:"Curso Programacin en Bash (CPB)",issuer:"Academy Securiters",date:"July 2025",description:"Bash scripting and automation programming",link:"/certificates/bash-programming.pdf"},{title:"Curso Anlisis e Investigacin en Fuentes Abiertas (CAIFA)",issuer:"Academy Securiters",date:"June 2025",description:"Open source intelligence analysis and investigation",link:"#"},{title:"ISIPM Base - Project Management",issuer:"ISIPM",date:"2024",description:"Base certification in Project Management - Grade: 108/110",link:"#"},{title:"Corso di Personalizzazione Linux (Parrot)",issuer:"Academia Hack4U",date:"September 2024",description:"Linux customization course focused on Parrot OS - Certificate ID: 3629-1230-2886-2020",link:"#"},{title:"Corso Basi Linux",issuer:"Academia Hack4U",date:"2024",description:"Linux fundamentals course - Certificate ID: 4974-6203-3362-5343",link:"#"}],Bie=[{degree:"Diploma di Specializzazione - Tecnico Superiore System Cybersecurity",institution:"ITS Meccanica, Meccatronica & Informatica",period:"2025",description:"Specialization in Cybersecurity Systems with final grade: 108/110",link:"/certificates/diploma-its-cybersecurity.pdf"}],Vie=()=>{const[t,e]=P.useState(!1),[n,i]=P.useState(null),r=s=>{if(!s.link||s.link==="#"){FM({title:"Certificato non disponibile",description:"Il certificato non  al momento disponibile in formato digitale.",variant:"destructive"});return}i({url:s.link,title:s.title}),e(!0)};return E.jsxs("section",{id:"certifications",className:"py-20 relative",children:[E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[E.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 text-center glow-text-cyan",children:"Certifications & Education"}),E.jsx("p",{className:"text-center text-muted-foreground mb-12 text-lg",children:"Professional credentials and academic background"})]}),E.jsxs("div",{className:"mb-12",children:[E.jsx("h3",{className:"text-2xl font-bold mb-6 text-primary",children:"Certifications"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:zie.map((s,o)=>E.jsx(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:o*.1},children:E.jsxs(yn,{className:"bg-card border-primary/20 hover:border-primary/50 transition-all duration-300 h-full cyber-border",children:[E.jsxs(si,{children:[E.jsx(jM,{className:"w-10 h-10 text-primary mb-2"}),E.jsx(oi,{className:"text-primary",children:s.title}),E.jsxs(xs,{children:[E.jsx("span",{className:"text-secondary font-medium",children:s.issuer}),E.jsxs("span",{className:"flex items-center mt-1 text-muted-foreground",children:[E.jsx(yh,{className:"w-4 h-4 mr-1"}),s.date]})]})]}),E.jsxs(xn,{children:[E.jsx("p",{className:"text-muted-foreground mb-4",children:s.description}),E.jsxs(Ft,{variant:"outline",size:"sm",className:"border-primary/30",onClick:()=>r(s),children:[E.jsx(Wv,{className:"w-4 h-4 mr-2"}),"View Certificate"]})]})]})},o))})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-2xl font-bold mb-6 text-secondary",children:"Education"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:Bie.map((s,o)=>E.jsx(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:o*.1},children:E.jsxs(yn,{className:"bg-card border-secondary/20 hover:border-secondary/50 transition-all duration-300 cyber-border",children:[E.jsxs(si,{children:[E.jsx(oi,{className:"text-secondary",children:s.degree}),E.jsxs(xs,{children:[E.jsx("span",{className:"text-foreground font-medium",children:s.institution}),E.jsxs("span",{className:"flex items-center mt-1 text-muted-foreground",children:[E.jsx(yh,{className:"w-4 h-4 mr-1"}),s.period]})]})]}),E.jsxs(xn,{children:[E.jsx("p",{className:"text-muted-foreground mb-4",children:s.description}),s.link&&E.jsxs(Ft,{variant:"outline",size:"sm",className:"border-secondary/30",onClick:()=>r({link:s.link,title:s.degree}),children:[E.jsx(Wv,{className:"w-4 h-4 mr-2"}),"View Certificate"]})]})]})},o))})]}),E.jsx(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mt-12",children:E.jsx(Ft,{variant:"outline",size:"lg",className:"border-primary/30",asChild:!0,children:E.jsxs(Cr,{to:"/certifications",children:["View All Certifications",E.jsx(Hi,{className:"w-4 h-4 ml-2"})]})})})]}),n&&E.jsx(Fie,{isOpen:t,onClose:()=>e(!1),certificateUrl:n.url,certificateTitle:n.title})]})},Hie=[{icon:wd,label:"GitHub",href:"https://github.com/HackyN3t",username:"@HackyN3t"},{icon:Dy,label:"LinkedIn",href:"https://www.linkedin.com/in/ignacio-estanislao-pezzana",username:"Ignacio Estanislao Pezzana"},{icon:XM,label:"YouTube",href:"https://youtube.com",username:"Cybersecurity Content"}],jie=()=>E.jsxs("section",{id:"contact",className:"py-20 relative",children:[E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[E.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4 text-center glow-text-cyan",children:"Get In Touch"}),E.jsx("p",{className:"text-center text-muted-foreground mb-12 text-lg",children:"Let's connect and discuss cybersecurity opportunities"})]}),E.jsxs("div",{className:"max-w-4xl mx-auto",children:[E.jsx("div",{className:"mb-8 md:mb-12 overflow-x-auto md:overflow-x-visible scrollbar-hide",children:E.jsx("div",{className:"flex gap-3 md:gap-6 justify-start md:justify-center min-w-max md:min-w-0 px-2 md:px-0",children:Hie.map((t,e)=>{const n=t.icon;return E.jsx(Be.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:e*.1},children:E.jsx("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",className:"block",children:E.jsx(yn,{className:"bg-card border-primary/20 hover:border-primary/50 transition-all duration-300 cyber-border group cursor-pointer w-36 md:w-48",children:E.jsxs(xn,{className:"flex flex-col items-center p-4 md:p-6",children:[E.jsx(n,{className:"w-8 h-8 md:w-10 md:h-10 text-primary mb-2 group-hover:animate-float"}),E.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors text-center text-sm md:text-base",children:t.label}),E.jsx("p",{className:"text-xs md:text-sm text-muted-foreground text-center truncate w-full",children:t.username})]})})})},e)})})}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[E.jsx(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:E.jsx(yn,{className:"bg-card border-secondary/20 cyber-border h-full hover:border-secondary/50 transition-all duration-300",children:E.jsxs(xn,{className:"p-6 md:p-8 text-center",children:[E.jsx(k3,{className:"w-10 h-10 md:w-12 md:h-12 text-secondary mx-auto mb-3 md:mb-4"}),E.jsx("h3",{className:"text-lg md:text-xl font-semibold text-foreground mb-2",children:"Email"}),E.jsx("a",{href:"mailto:ignacioestan.pezzana@gmail.com",className:"text-muted-foreground hover:text-primary transition-colors text-sm md:text-base break-all",children:"ignacioestan.pezzana@gmail.com"})]})})}),E.jsx(Be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1},children:E.jsx(yn,{className:"bg-card border-secondary/20 cyber-border h-full hover:border-secondary/50 transition-all duration-300",children:E.jsxs(xn,{className:"p-6 md:p-8 text-center",children:[E.jsx(O3,{className:"w-10 h-10 md:w-12 md:h-12 text-secondary mx-auto mb-3 md:mb-4"}),E.jsx("h3",{className:"text-lg md:text-xl font-semibold text-foreground mb-2",children:"Location"}),E.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Pescara, Italia"})]})})})]})]})]}),E.jsx(Be.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.8},className:"mt-16 text-center text-muted-foreground",children:E.jsx("p",{children:" 2024 Ignacio Estanislao Pezzana. All rights reserved."})})]}),Gie=()=>E.jsxs("div",{className:"relative min-h-screen",children:[E.jsx(bU,{}),E.jsx(el,{}),E.jsxs("main",{children:[E.jsx(dne,{}),E.jsx(Sie,{}),E.jsx(Eie,{}),E.jsx(bie,{}),E.jsx(Aie,{}),E.jsx(Uie,{}),E.jsx(Vie,{}),E.jsx(jie,{})]})]}),Wie=[{title:"C Programming Library",description:"Custom implementation of standard C library functions including string manipulation, conversion utilities, and comparison algorithms. Educational project demonstrating low-level programming concepts.",tech:["C","String Manipulation","Memory Management","Algorithms"],github:"https://github.com/HackyN3t/C",demo:"https://github.com/HackyN3t/C",details:"Repository containing custom implementations of standard C library functions: my_atoi (string to int), my_itoa (int to string), my_strcat (string concatenation variants), and my_strcmp (string comparison). All functions implemented from scratch for educational purposes.",features:["String to integer conversion","Integer to string conversion","String concatenation (multiple variants)","String comparison functions"],codeFiles:[{name:"my_atoi.c",content:`#include "my.h"

int my_atoi(char *str) {
    int result = 0;
    int sign = 1;
    int i = 0;

    // Handle negative numbers
    if (str[0] == '-') {
        sign = -1;
        i = 1;
    }

    // Convert string to integer
    while (str[i] != '\\0') {
        result = result * 10 + (str[i] - '0');
        i++;
    }

    return sign * result;
}`},{name:"my_strcmp.c",content:`#include "my.h"

int my_strcmp(char *s1, char *s2) {
    int i = 0;

    while (s1[i] != '\\0' && s2[i] != '\\0') {
        if (s1[i] != s2[i]) {
            return s1[i] - s2[i];
        }
        i++;
    }

    return s1[i] - s2[i];
}`}]},{title:"Python Security Tools",description:"Collection of Python scripts for network security and penetration testing. Features port scanning and vulnerability assessment tools.",tech:["Python","Networking","Security","Penetration Testing"],github:"https://github.com/HackyN3t/Python",demo:"https://github.com/HackyN3t/Python",details:"Repository containing security-focused Python tools including a comprehensive port scanner for network reconnaissance and security assessment.",features:["Multi-threaded port scanning","Service detection","Network reconnaissance","Vulnerability assessment"],codeFiles:[{name:"portScanner.py",content:`#!/usr/bin/env python3
import socket
import sys
from threading import Thread
from queue import Queue

# Port scanner configuration
queue = Queue()
open_ports = []

def port_scan(port):
    try:
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        sock.settimeout(0.5)
        sock.connect((target, port))
        return True
    except:
        return False
    finally:
        sock.close()

def fill_queue(port_list):
    for port in port_list:
        queue.put(port)

def worker():
    while not queue.empty():
        port = queue.get()
        if port_scan(port):
            print(f"[+] Port {port} is open")
            open_ports.append(port)

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: python portScanner.py <target>")
        sys.exit(1)
    
    target = sys.argv[1]
    print(f"\\n[*] Scanning target: {target}")
    
    # Scan common ports
    port_list = range(1, 1025)
    fill_queue(port_list)
    
    # Start threads
    thread_list = []
    for _ in range(100):
        thread = Thread(target=worker)
        thread_list.append(thread)
        thread.start()
    
    for thread in thread_list:
        thread.join()
    
    print(f"\\n[*] Scan complete. Found {len(open_ports)} open ports")
    print(f"[*] Open ports: {open_ports}")`}]},{title:"Bash Security Scripts",description:"Collection of Bash scripts for security testing and network analysis. Includes tools for MAC address manipulation and network port scanning.",tech:["Bash","Shell Scripting","Network Security","Penetration Testing"],github:"https://github.com/HackyN3t/BashScript",demo:"https://github.com/HackyN3t/BashScript",details:"Repository containing security-focused Bash scripts including MacChanger for network interface MAC address modification and PortScan for network reconnaissance and port scanning operations.",features:["MAC address changing tool","Network port scanner","Automated security testing","Network reconnaissance"],codeFiles:[{name:"macchanger.sh",content:`#!/bin/bash

# MAC Address Changer Script
# Changes the MAC address of a network interface

if [ "$EUID" -ne 0 ]; then 
    echo "[!] Please run as root"
    exit 1
fi

if [ -z "$1" ] || [ -z "$2" ]; then
    echo "Usage: $0 <interface> <new_mac>"
    exit 1
fi

INTERFACE=$1
NEW_MAC=$2

echo "[*] Changing MAC address for $INTERFACE"
echo "[*] Current MAC: $(cat /sys/class/net/$INTERFACE/address)"

# Bring interface down
ifconfig $INTERFACE down

# Change MAC address
ifconfig $INTERFACE hw ether $NEW_MAC

# Bring interface up
ifconfig $INTERFACE up

echo "[+] New MAC: $(cat /sys/class/net/$INTERFACE/address)"
echo "[+] MAC address changed successfully!"`},{name:"portscan.sh",content:`#!/bin/bash

# Simple Port Scanner
# Scans common ports on a target host

if [ -z "$1" ]; then
    echo "Usage: $0 <target>"
    exit 1
fi

TARGET=$1
echo "[*] Scanning $TARGET..."

for port in {1..1024}; do
    timeout 1 bash -c "echo >/dev/tcp/$TARGET/$port" 2>/dev/null && 
    echo "[+] Port $port is open"
done

echo "[*] Scan complete!"`}]}],Xie=()=>{const[t,e]=P.useState(null),n=i=>{e(i)};return E.jsxs("div",{className:"relative min-h-screen",children:[E.jsx(el,{}),E.jsx("main",{className:"pt-24 pb-20",children:E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[E.jsx(Ft,{variant:"ghost",className:"mb-6",asChild:!0,children:E.jsxs(Cr,{to:"/",children:[E.jsx(dc,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),E.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 glow-text-cyan",children:"All Projects"}),E.jsx("p",{className:"text-xl text-muted-foreground mb-12 max-w-3xl",children:"A comprehensive collection of cybersecurity projects, tools, and research implementations"})]}),E.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Wie.map((i,r)=>E.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},children:E.jsxs(yn,{className:"bg-card border-primary/20 hover:border-primary/50 transition-all duration-300 h-full cyber-border",children:[E.jsxs(si,{children:[E.jsx(oi,{className:"text-primary",children:i.title}),E.jsx(xs,{className:"text-muted-foreground",children:i.description})]}),E.jsxs(xn,{children:[E.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:i.details}),E.jsxs("div",{className:"mb-4",children:[E.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Key Features:"}),E.jsx("ul",{className:"space-y-1",children:i.features.map((s,o)=>E.jsxs("li",{className:"text-sm text-muted-foreground flex items-center",children:[E.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-2 animate-glow-pulse"}),s]},o))})]}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.tech.map((s,o)=>E.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary text-sm rounded-full border border-primary/20",children:s},o))}),E.jsxs("div",{className:"flex gap-2",children:[i.codeFiles&&E.jsxs(Ft,{variant:"outline",size:"sm",className:"border-accent/30",onClick:()=>n(i),children:[E.jsx(GM,{className:"w-4 h-4 mr-2"}),"Preview"]}),E.jsx(Ft,{variant:"outline",size:"sm",className:"border-primary/30",asChild:!0,children:E.jsxs("a",{href:i.github,target:"_blank",rel:"noopener noreferrer",children:[E.jsx(wd,{className:"w-4 h-4 mr-2"}),"Code"]})}),E.jsx(Ft,{variant:"outline",size:"sm",className:"border-secondary/30",asChild:!0,children:E.jsxs("a",{href:i.demo,target:"_blank",rel:"noopener noreferrer",children:[E.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Demo"]})})]})]})]})},r))})]})}),t&&t.codeFiles&&E.jsx(Lz,{isOpen:!!t,onClose:()=>e(null),repoUrl:t.github,projectTitle:t.title,files:t.codeFiles})]})},$ie=[{title:"AstroPet.it",description:"Complete pet care and services platform with e-commerce functionality",url:"https://astropet.it",image:"/images/astropet-preview.png",tags:["E-commerce","Pet Services","React","Node.js"],year:"2024",details:"Full-stack e-commerce platform for pet products and services. Features include product catalog, shopping cart, user authentication, order management, and integrated payment processing.",features:["Product catalog","Shopping cart","User accounts","Payment integration","Order tracking"]},{title:"6ixSearch.it",description:"Advanced search engine solution with AI-powered results",url:"https://6ixsearch.it",image:"/images/6ixsearch-preview.png",tags:["Search Engine","Web App","AI","Python"],year:"2024",details:"Intelligent search platform leveraging AI and machine learning for enhanced search results. Includes advanced filtering, personalized recommendations, and real-time indexing.",features:["AI-powered search","Advanced filters","Real-time indexing","Personalization","Analytics dashboard"]}],Yie=()=>E.jsxs("div",{className:"relative min-h-screen",children:[E.jsx(el,{}),E.jsx("main",{className:"pt-24 pb-20",children:E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[E.jsx(Ft,{variant:"ghost",className:"mb-6",asChild:!0,children:E.jsxs(Cr,{to:"/",children:[E.jsx(dc,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),E.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 glow-text-cyan",children:"Live Sites"}),E.jsx("p",{className:"text-xl text-muted-foreground mb-12 max-w-3xl",children:"Websites and web applications I've developed and deployed"})]}),E.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:$ie.map((t,e)=>E.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:e*.1},children:E.jsxs(yn,{className:"bg-card border-primary/20 hover:border-primary/50 transition-all duration-300 cyber-border overflow-hidden group",children:[E.jsxs("div",{className:"relative overflow-hidden",children:[E.jsx("img",{src:t.image,alt:t.title,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-110"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-6",children:E.jsx(Ft,{variant:"outline",size:"lg",className:"border-primary/50",asChild:!0,children:E.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:[E.jsx(I3,{className:"w-5 h-5 mr-2"}),"Visit Live Site"]})})})]}),E.jsx(si,{children:E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{children:[E.jsx(oi,{className:"text-primary text-2xl mb-2",children:t.title}),E.jsx(xs,{className:"text-muted-foreground",children:t.description})]}),E.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-secondary hover:text-primary transition-colors",children:E.jsx(Hi,{className:"w-6 h-6"})})]})}),E.jsxs(xn,{children:[E.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t.details}),E.jsxs("div",{className:"mb-4",children:[E.jsxs("h4",{className:"text-sm font-semibold text-foreground mb-2 flex items-center",children:[E.jsx(GM,{className:"w-4 h-4 mr-2 text-primary"}),"Key Features:"]}),E.jsx("ul",{className:"space-y-1",children:t.features.map((n,i)=>E.jsxs("li",{className:"text-sm text-muted-foreground flex items-center",children:[E.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-2 animate-glow-pulse"}),n]},i))})]}),E.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-muted-foreground",children:[E.jsx(yh,{className:"w-4 h-4"}),E.jsx("span",{children:t.year})]}),E.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((n,i)=>E.jsx("span",{className:"px-3 py-1 bg-secondary/10 text-secondary text-sm rounded-full border border-secondary/20",children:n},i))})]})]})},e))})]})})]}),qie=()=>E.jsxs("div",{className:"relative min-h-screen",children:[E.jsx(bU,{}),E.jsx(el,{}),E.jsx("main",{className:"relative pt-24 pb-20",children:E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsx(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"mb-8",children:E.jsx(Ft,{variant:"outline",size:"sm",asChild:!0,className:"border-primary/30",children:E.jsxs(Cr,{to:"/",children:[E.jsx(dc,{className:"w-4 h-4 mr-2"}),"Torna alla Home"]})})}),E.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[E.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 glow-text-cyan",children:"Portfolios"}),E.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Sviluppatori di talento che contribuiscono ai nostri progetti con competenze specializzate"})]}),E.jsx("div",{className:"space-y-12",children:Iz.map((t,e)=>{const n=t.icon;return E.jsx(Be.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:e*.2},children:E.jsx(yn,{className:"bg-card border-primary/20 hover:border-primary/50 transition-all duration-300 cyber-border overflow-hidden group hover:shadow-[0_0_40px_rgba(var(--primary-rgb),0.2)]",children:E.jsxs("div",{className:"md:flex",children:[E.jsxs("div",{className:"md:w-2/5 relative overflow-hidden bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center p-12",children:[E.jsxs(Be.div,{whileHover:{scale:1.05,rotate:3},transition:{duration:.3},className:"relative",children:[E.jsx(n,{className:"w-32 h-32 text-primary/60 group-hover:text-primary transition-colors duration-300"}),E.jsx(Be.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -inset-8 border-2 border-dashed border-primary/20 rounded-full"})]}),E.jsx("div",{className:"absolute top-4 right-4",children:E.jsx(H3,{className:"w-10 h-10 text-secondary/60"})})]}),E.jsxs("div",{className:"md:w-3/5 p-8",children:[E.jsx(si,{className:"p-0 mb-6",children:E.jsxs("div",{className:"flex items-start justify-between mb-2",children:[E.jsxs("div",{children:[E.jsx(oi,{className:"text-3xl text-primary group-hover:glow-text-cyan transition-all mb-2",children:t.name}),E.jsx(xs,{className:"text-secondary font-semibold text-lg",children:t.role})]}),E.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-secondary hover:text-primary transition-colors",children:E.jsx(Be.div,{whileHover:{scale:1.2,rotate:15},children:E.jsx(Hi,{className:"w-6 h-6"})})})]})}),E.jsxs(xn,{className:"p-0 space-y-6",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-foreground mb-3",children:t.description}),E.jsx("p",{className:"text-muted-foreground text-sm",children:t.fullDescription})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-sm font-semibold text-secondary mb-3",children:"Competenze Tecniche"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.map((i,r)=>E.jsx(Be.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.4+r*.05},whileHover:{scale:1.1,y:-2},className:"px-3 py-1 bg-secondary/10 text-secondary text-sm rounded-full border border-secondary/20 hover:border-secondary/50 transition-all cursor-default",children:i},r))})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-sm font-semibold text-secondary mb-3",children:"Traguardi Principali"}),E.jsx("ul",{className:"space-y-2",children:t.achievements.map((i,r)=>E.jsxs(Be.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+r*.1},className:"text-sm text-muted-foreground flex items-start",children:[E.jsx("span",{className:"text-primary mr-2",children:""}),i]},r))})]}),E.jsxs("div",{className:"flex gap-3 pt-4",children:[E.jsx(Ft,{variant:"outline",size:"sm",asChild:!0,className:"hover:border-primary/50",children:E.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:[E.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Portfolio"]})}),E.jsx(Ft,{variant:"outline",size:"sm",asChild:!0,className:"hover:border-primary/50",children:E.jsxs("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",children:[E.jsx(wd,{className:"w-4 h-4 mr-2"}),"GitHub"]})}),E.jsx(Ft,{variant:"outline",size:"sm",asChild:!0,className:"hover:border-primary/50",children:E.jsxs("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",children:[E.jsx(Dy,{className:"w-4 h-4 mr-2"}),"LinkedIn"]})}),E.jsx(Ft,{variant:"outline",size:"sm",asChild:!0,className:"hover:border-primary/50",children:E.jsxs("a",{href:`mailto:${t.email}`,children:[E.jsx(k3,{className:"w-4 h-4 mr-2"}),"Email"]})})]})]})]})]})})},e)})})]})})]}),Kie=[{icon:U3,title:"Operating Systems",tools:[{name:"Parrot Security",description:"Security-focused Linux distribution",proficiency:"Intermediate"},{name:"Kali Linux",description:"Penetration testing platform",proficiency:"Intermediate"},{name:"Windows",description:"Windows operating system",proficiency:"Intermediate"},{name:"Ubuntu",description:"Debian-based Linux distribution",proficiency:"Intermediate"},{name:"Cube OS",description:"Privacy-focused operating system",proficiency:"Intermediate"},{name:"NetHunter",description:"Android penetration testing platform",proficiency:"Intermediate"}],color:"accent"},{icon:z3,title:"Scanners",tools:[{name:"Nmap",description:"Network discovery and security auditing",proficiency:"Intermediate"},{name:"Nessus",description:"Comprehensive vulnerability scanner",proficiency:"Intermediate"},{name:"Qualys",description:"Cloud-based vulnerability management",proficiency:"Intermediate"},{name:"Tenable",description:"Vulnerability assessment platform",proficiency:"Intermediate"}],color:"primary"},{icon:Wv,title:"OSINT",tools:[{name:"Maltego",description:"Data mining and link analysis",proficiency:"Intermediate"},{name:"theHarvester",description:"Email and subdomain gathering",proficiency:"Intermediate"},{name:"Sherlock",description:"Hunt down social media accounts by username",proficiency:"Intermediate"}],color:"secondary"},{icon:V3,title:"Exploitation",tools:[{name:"Metasploit",description:"Penetration testing framework",proficiency:"Intermediate"},{name:"BurpSuite",description:"Web application security testing",proficiency:"Intermediate"},{name:"OWASP ZAP",description:"Web application security scanner",proficiency:"Intermediate"}],color:"accent"},{icon:L3,title:"Steganography",tools:[{name:"Steghide",description:"Hide data in images and audio",proficiency:"Intermediate"},{name:"Binwalk",description:"Firmware analysis tool",proficiency:"Intermediate"},{name:"ExifTool",description:"Metadata reader/writer",proficiency:"Intermediate"},{name:"OutGuess",description:"Universal steganographic tool",proficiency:"Intermediate"}],color:"primary"},{icon:F3,title:"Network Analysis",tools:[{name:"Wireshark",description:"Network protocol analyzer",proficiency:"Intermediate"},{name:"Netcat",description:"Networking utility",proficiency:"Intermediate"}],color:"secondary"},{icon:B3,title:"Discovery",tools:[{name:"GoBuster",description:"Directory/file brute-forcing",proficiency:"Intermediate"},{name:"FeroxBuster",description:"Fast content discovery tool",proficiency:"Intermediate"},{name:"Ffuf",description:"Fast web fuzzer",proficiency:"Intermediate"}],color:"accent"},{icon:D3,title:"Virtualization",tools:[{name:"VMware",description:"Virtualization platform",proficiency:"Intermediate"},{name:"VirtualBox",description:"Open-source virtualization",proficiency:"Intermediate"}],color:"primary"}],Zie=()=>E.jsxs("div",{className:"relative min-h-screen",children:[E.jsx(el,{}),E.jsx("main",{className:"pt-24 pb-20",children:E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[E.jsx(Ft,{variant:"ghost",className:"mb-6",asChild:!0,children:E.jsxs(Cr,{to:"/",children:[E.jsx(dc,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),E.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 glow-text-cyan",children:"Cybersecurity Tools"}),E.jsx("p",{className:"text-xl text-muted-foreground mb-12 max-w-3xl",children:"Comprehensive toolkit covering all aspects of cybersecurity assessment and penetration testing"})]}),E.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Kie.map((t,e)=>{const n=t.icon;return E.jsx(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:e*.05},children:E.jsxs(yn,{className:"bg-card border-primary/20 hover:border-primary/50 transition-all duration-300 h-full cyber-border group",children:[E.jsxs(si,{children:[E.jsx(n,{className:"w-12 h-12 text-primary mb-3 group-hover:animate-float"}),E.jsx(oi,{className:"text-primary text-2xl",children:t.title})]}),E.jsx(xn,{children:E.jsx("ul",{className:"space-y-3",children:t.tools.map((i,r)=>E.jsx("li",{className:"group/item",children:E.jsxs("div",{className:"flex items-start",children:[E.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-2 mt-2 animate-glow-pulse flex-shrink-0"}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-foreground font-medium group-hover/item:text-primary transition-colors",children:i.name}),E.jsx("span",{className:"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded-full border border-primary/20",children:i.proficiency})]}),E.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description})]})]})},r))})})]})},e)})})]})})]}),Qie=[{name:"Python",level:40,description:"Scripting, automation, and security tools development"},{name:"Bash/Shell",level:60,description:"System automation and penetration testing scripts"},{name:"JavaScript",level:15,description:"Web development and security testing"},{name:"PowerShell",level:10,description:"Windows automation and Active Directory"},{name:"SQL",level:30,description:"Database management and SQL injection testing"},{name:"C/C++",level:20,description:"Low-level programming and systems"}],Jie=[{name:"Spanish",level:"Native",proficiency:100,description:"Mother tongue"},{name:"Italian",level:"Native",proficiency:100,description:"Mother tongue"},{name:"English",level:"Basic",proficiency:20,description:"Elementary proficiency"}],ere=[{name:"ITS",description:"Tecnico Superiore System Cybersecurity",area:"Cybersecurity Systems"},{name:"ISIPM Base",description:"Project Management",area:"Management"},{name:"CM",description:"Curso Metasploit",area:"Exploitation"},{name:"CIP1",description:"Introduccin Python",area:"Programming"},{name:"CP2",description:"Python II: Libreras Ciberseguridad",area:"Security Tools"},{name:"CICI",description:"Introduccin CiberInteligencia",area:"Cyber Intelligence"},{name:"CAIFA",description:"Anlisis e Investigacin en Fuentes Abiertas",area:"OSINT"},{name:"CPB",description:"Curso Programacin en Bash",area:"Scripting"},{name:"Hack4U - Parrot",description:"Personalizzazione Linux (Parrot)",area:"Linux Systems"},{name:"Hack4U - Linux",description:"Corso Basi Linux",area:"Linux Fundamentals"}],tre=()=>E.jsxs("div",{className:"relative min-h-screen",children:[E.jsx(el,{}),E.jsx("main",{className:"pt-24 pb-20",children:E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[E.jsx(Ft,{variant:"ghost",className:"mb-6",asChild:!0,children:E.jsxs(Cr,{to:"/",children:[E.jsx(dc,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),E.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 glow-text-cyan",children:"Skills & Languages"}),E.jsx("p",{className:"text-xl text-muted-foreground mb-12 max-w-3xl",children:"Technical expertise and language proficiency"})]}),E.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[E.jsx(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:E.jsxs(yn,{className:"bg-card border-primary/20 cyber-border h-full",children:[E.jsx(si,{children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(N3,{className:"w-8 h-8 text-primary"}),E.jsx(oi,{className:"text-primary text-2xl",children:"Programming Languages"})]})}),E.jsx(xn,{children:E.jsx("div",{className:"space-y-6",children:Qie.map((t,e)=>E.jsx(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:e*.05},children:E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:"text-foreground font-medium",children:t.name}),E.jsxs("span",{className:"text-primary text-sm font-semibold",children:[t.level,"%"]})]}),E.jsx(Zh,{value:t.level,className:"h-2"}),E.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]})},e))})})]})}),E.jsx(Be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},children:E.jsxs(yn,{className:"bg-card border-secondary/20 cyber-border h-full",children:[E.jsx(si,{children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(rH,{className:"w-8 h-8 text-secondary"}),E.jsx(oi,{className:"text-secondary text-2xl",children:"Spoken Languages"})]})}),E.jsx(xn,{children:E.jsx("div",{className:"space-y-6",children:Jie.map((t,e)=>E.jsx(Be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:e*.1},children:E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:"text-foreground font-medium",children:t.name}),E.jsx("span",{className:"text-secondary text-sm font-semibold",children:t.level})]}),E.jsx(Zh,{value:t.proficiency,className:"h-2"}),E.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]})},e))})})]})})]}),E.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:E.jsxs(yn,{className:"bg-card border-accent/20 cyber-border",children:[E.jsx(si,{children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(jM,{className:"w-8 h-8 text-accent"}),E.jsx(oi,{className:"text-accent text-2xl",children:"Certifications"})]})}),E.jsx(xn,{children:E.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:ere.map((t,e)=>E.jsx(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:e*.1},className:"p-4 bg-card/50 border border-accent/20 rounded-lg hover:border-accent/50 transition-all duration-300",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mt-2 flex-shrink-0 animate-glow-pulse"}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-foreground",children:t.name}),E.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:t.description}),E.jsx("span",{className:"text-xs px-2 py-1 bg-accent/10 text-accent rounded-full border border-accent/20",children:t.area})]})]})},e))})})]})})]})})]}),nre=[{name:"Diploma di Specializzazione - Tecnico Superiore System Cybersecurity",issuer:"ITS Meccanica, Meccatronica & Informatica",date:"July 2025",credentialId:"Final Grade: 108/110",description:"Advanced specialization in Cybersecurity Systems covering information and communication technologies, system architecture, and cybersecurity specialist techniques.",skills:["System Cybersecurity","Network Security","Information Security","Security Architecture"],link:"/certificates/diploma-its-cybersecurity.pdf"},{name:"Curso Metasploit (CM)",issuer:"Academy Securiters",date:"November 2025",credentialId:"d04530f1",description:"Comprehensive Metasploit Framework course covering exploitation techniques, post-exploitation, and penetration testing methodologies.",skills:["Metasploit Framework","Exploitation","Post-Exploitation","Penetration Testing"],link:"/certificates/metasploit.pdf"},{name:"Introduccin Python (CIP1)",issuer:"Academy Securiters",date:"November 2025",credentialId:"9048df8e",description:"Foundational Python programming course covering programming fundamentals, syntax, and basic scripting techniques.",skills:["Python Basics","Programming Fundamentals","Script Development"],link:"/certificates/python-introduccion.pdf"},{name:"Python II: Libreras ciberseguridad (CP2)",issuer:"Academy Securiters",date:"November 2025",credentialId:"c52be149",description:"Advanced Python course focused on cybersecurity libraries and tools for security automation and analysis.",skills:["Python Security Libraries","Security Automation","Cyber Tools Development"],link:"/certificates/python-ciberseguridad.pdf"},{name:"Curso Programacin en Bash (CPB)",issuer:"Academy Securiters",date:"July 2025",credentialId:"0bfd2c11",description:"Comprehensive Bash programming course covering shell scripting, automation, and system administration tasks.",skills:["Bash Scripting","Shell Programming","Linux Automation","System Administration"],link:"/certificates/bash-programming.pdf"},{name:"Introduccin CiberInteligencia (CICI)",issuer:"Academy Securiters",date:"June 2025",credentialId:"10764b69",description:"Introduction to Cyber Intelligence fundamentals, covering threat intelligence, analysis methodologies, and security operations.",skills:["Cyber Intelligence","Threat Analysis","Security Operations","Intelligence Gathering"],link:"/certificates/ciberinteligencia.pdf"},{name:"Curso Anlisis e Investigacin en Fuentes Abiertas (CAIFA)",issuer:"Academy Securiters",date:"June 2025",credentialId:"TBD",description:"Advanced course on open source intelligence (OSINT) analysis and investigation techniques using publicly available information.",skills:["OSINT","Open Source Intelligence","Information Gathering","Investigation Techniques"],link:"#"},{name:"ISIPM Base - Project Management",issuer:"ISIPM",date:"2024",credentialId:"Grade: 108/110",description:"Base certification in Project Management methodologies, planning, execution, and control of projects.",skills:["Project Management","Planning","Execution","Project Control"],link:"#"},{name:"Corso di Personalizzazione Linux (Parrot)",issuer:"Academia Hack4U",date:"September 2024",credentialId:"3629-1230-2886-2020",description:"Comprehensive Linux customization course focused on Parrot Security OS configuration and optimization.",skills:["Linux Customization","Parrot OS","System Configuration","OS Optimization"],link:"#"},{name:"Corso Basi Linux",issuer:"Academia Hack4U",date:"2024",credentialId:"4974-6203-3362-5343",description:"Foundational Linux course covering system basics, command line operations, and essential system administration.",skills:["Linux Basics","Command Line","System Administration","Linux Operations"],link:"#"}],ire=[{title:"Tecnico Superiore System Cybersecurity",provider:"ITS Meccanica, Meccatronica & Informatica - Lanciano (CH)",date:"2025",duration:"2 years",description:"Advanced technical training program in system cybersecurity, covering ICT technologies, system architecture, and specialized cybersecurity techniques.",topics:["ICT Technologies","System Architecture","Cybersecurity Specialist","Network Security","Security Analysis"]},{title:"Python for Cybersecurity",provider:"Online Course Platform",date:"2025",duration:"Multiple courses",description:"Comprehensive Python training focused on cybersecurity applications, from fundamentals to advanced security libraries.",topics:["Python Programming","Security Automation","Security Libraries","Script Development"]},{title:"Bash Programming and Automation",provider:"Online Course Platform",date:"2025",duration:"Complete course",description:"Professional Bash scripting training covering automation, system administration, and security scripting.",topics:["Shell Scripting","System Automation","Linux Administration","Security Scripts"]},{title:"Cyber Intelligence Fundamentals",provider:"Online Course Platform",date:"2025",duration:"Complete course",description:"Introduction to cyber intelligence concepts, threat analysis, and security operations center (SOC) fundamentals.",topics:["Threat Intelligence","Security Analysis","SOC Operations","Intelligence Gathering"]}],rre=()=>{const t=(e,n)=>{(!n||n==="#")&&(e.preventDefault(),FM({title:"Certificato non disponibile",description:"Il certificato non  al momento disponibile in formato digitale.",variant:"destructive"}))};return E.jsxs("div",{className:"relative min-h-screen",children:[E.jsx(el,{}),E.jsx("main",{className:"pt-24 pb-20",children:E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[E.jsx(Ft,{variant:"ghost",className:"mb-6",asChild:!0,children:E.jsxs(Cr,{to:"/",children:[E.jsx(dc,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),E.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 glow-text-cyan",children:"Certifications & Training"}),E.jsx("p",{className:"text-xl text-muted-foreground mb-12 max-w-3xl",children:"Professional certifications and continuous learning in cybersecurity"})]}),E.jsxs("div",{className:"mb-16",children:[E.jsx("h2",{className:"text-3xl font-bold mb-8 text-primary",children:"Professional Certifications"}),E.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:nre.map((e,n)=>E.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},children:E.jsxs(yn,{className:"bg-card border-primary/20 hover:border-primary/50 transition-all duration-300 h-full cyber-border group",children:[E.jsxs(si,{children:[E.jsxs("div",{className:"flex items-start justify-between mb-3",children:[E.jsx(jM,{className:"w-12 h-12 text-primary group-hover:animate-float"}),E.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",download:!0,className:"text-secondary hover:text-primary transition-colors",onClick:i=>t(i,e.link),children:E.jsx(Hi,{className:"w-5 h-5"})})]}),E.jsx(oi,{className:"text-primary text-xl",children:e.name}),E.jsxs(xs,{children:[E.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-2",children:[E.jsx(IC,{className:"w-4 h-4"}),E.jsx("span",{children:e.issuer})]}),E.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-1",children:[E.jsx(yh,{className:"w-4 h-4"}),E.jsx("span",{children:e.date})]})]})]}),E.jsxs(xn,{children:[E.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),E.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["Credential ID: ",E.jsx("span",{className:"text-foreground font-mono",children:e.credentialId})]}),E.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((i,r)=>E.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary text-xs rounded-full border border-primary/20",children:i},r))})]})]})},n))})]}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold mb-8 text-secondary",children:"Specialized Training"}),E.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:ire.map((e,n)=>E.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:n*.1},children:E.jsxs(yn,{className:"bg-card border-secondary/20 hover:border-secondary/50 transition-all duration-300 h-full cyber-border",children:[E.jsxs(si,{children:[E.jsx(oi,{className:"text-secondary",children:e.title}),E.jsxs(xs,{children:[E.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mt-2",children:[E.jsx(IC,{className:"w-4 h-4"}),E.jsx("span",{children:e.provider})]}),E.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground mt-1",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(yh,{className:"w-4 h-4"}),E.jsx("span",{children:e.date})]}),E.jsx("span",{className:"text-xs",children:""}),E.jsx("span",{children:e.duration})]})]})]}),E.jsxs(xn,{children:[E.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Topics Covered:"}),e.topics.map((i,r)=>E.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[E.jsx("span",{className:"w-1.5 h-1.5 bg-secondary rounded-full mr-2 animate-glow-pulse"}),i]},r))]})]})]})},n))})]})]})})]})},sre=[{icon:wd,label:"GitHub",href:"https://github.com",username:"@ignaciopezzana",description:"Open source projects and code repositories"},{icon:Dy,label:"LinkedIn",href:"https://linkedin.com",username:"Ignacio Pezzana",description:"Professional networking and career updates"},{icon:XM,label:"YouTube",href:"https://youtube.com",username:"Red Team Tutorials",description:"Cybersecurity tutorials and walkthroughs"}],ore=()=>E.jsxs("div",{className:"relative min-h-screen",children:[E.jsx(el,{}),E.jsx("main",{className:"pt-24 pb-20",children:E.jsxs("div",{className:"container mx-auto px-4",children:[E.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[E.jsx(Ft,{variant:"ghost",className:"mb-6",asChild:!0,children:E.jsxs(Cr,{to:"/",children:[E.jsx(dc,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),E.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 glow-text-cyan",children:"Get In Touch"}),E.jsx("p",{className:"text-xl text-muted-foreground mb-12 max-w-3xl",children:"Let's connect and discuss cybersecurity opportunities, collaborations, or just have a chat"})]}),E.jsx("div",{className:"mb-12 overflow-x-auto md:overflow-x-visible scrollbar-hide",children:E.jsx("div",{className:"flex gap-6 justify-start md:justify-center min-w-max md:min-w-0 px-4 md:px-0 max-w-4xl mx-auto",children:sre.map((t,e)=>{const n=t.icon;return E.jsx(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2+e*.1},children:E.jsx("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",className:"block",children:E.jsx(yn,{className:"bg-card border-primary/20 hover:border-primary/50 transition-all duration-300 cyber-border group cursor-pointer w-64",children:E.jsx(xn,{className:"p-6",children:E.jsxs("div",{className:"flex flex-col items-center text-center",children:[E.jsx(n,{className:"w-10 h-10 text-primary mb-3 group-hover:animate-float"}),E.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors text-lg mb-1",children:t.label}),E.jsx("p",{className:"text-sm text-primary mb-2",children:t.username}),E.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})})})})},e)})})}),E.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"max-w-2xl mx-auto",children:E.jsx(yn,{className:"bg-card border-secondary/20 cyber-border",children:E.jsxs(xn,{className:"p-8",children:[E.jsx(O3,{className:"w-12 h-12 text-secondary mx-auto mb-4"}),E.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2 text-center",children:"Location"}),E.jsx("p",{className:"text-muted-foreground text-center",children:"Available for remote opportunities worldwide"})]})})})]})}),E.jsx(Be.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.8},className:"container mx-auto px-4 pb-8 text-center text-muted-foreground",children:E.jsx("p",{children:" 2024 Ignacio Estanislao Pezzana. All rights reserved."})})]}),are=()=>{const t=cp();return P.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),E.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),E.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),E.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},lre=new NG,cre=()=>E.jsx(IG,{client:lre,children:E.jsxs(aG,{children:[E.jsx(HH,{}),E.jsx(_j,{}),E.jsx(RW,{children:E.jsxs(MW,{children:[E.jsx(Is,{path:"/",element:E.jsx(Gie,{})}),E.jsx(Is,{path:"/projects",element:E.jsx(Xie,{})}),E.jsx(Is,{path:"/sites",element:E.jsx(Yie,{})}),E.jsx(Is,{path:"/portfolios",element:E.jsx(qie,{})}),E.jsx(Is,{path:"/tools",element:E.jsx(Zie,{})}),E.jsx(Is,{path:"/skills",element:E.jsx(tre,{})}),E.jsx(Is,{path:"/certifications",element:E.jsx(rre,{})}),E.jsx(Is,{path:"/contact",element:E.jsx(ore,{})}),E.jsx(Is,{path:"*",element:E.jsx(are,{})})]})})]})});e3(document.getElementById("root")).render(E.jsx(cre,{}));
